var IC=Object.defineProperty;var RC=(t,e,n)=>e in t?IC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ce=(t,e,n)=>RC(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function PC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ME={exports:{}},Rh={},LE={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),DC=Symbol.for("react.portal"),NC=Symbol.for("react.fragment"),VC=Symbol.for("react.strict_mode"),MC=Symbol.for("react.profiler"),LC=Symbol.for("react.provider"),OC=Symbol.for("react.context"),FC=Symbol.for("react.forward_ref"),jC=Symbol.for("react.suspense"),$C=Symbol.for("react.memo"),zC=Symbol.for("react.lazy"),Av=Symbol.iterator;function UC(t){return t===null||typeof t!="object"?null:(t=Av&&t[Av]||t["@@iterator"],typeof t=="function"?t:null)}var OE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FE=Object.assign,jE={};function Po(t,e,n){this.props=t,this.context=e,this.refs=jE,this.updater=n||OE}Po.prototype.isReactComponent={};Po.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Po.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $E(){}$E.prototype=Po.prototype;function Cm(t,e,n){this.props=t,this.context=e,this.refs=jE,this.updater=n||OE}var bm=Cm.prototype=new $E;bm.constructor=Cm;FE(bm,Po.prototype);bm.isPureReactComponent=!0;var Cv=Array.isArray,zE=Object.prototype.hasOwnProperty,Im={current:null},UE={key:!0,ref:!0,__self:!0,__source:!0};function BE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)zE.call(e,r)&&!UE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ul,type:t,key:i,ref:o,props:s,_owner:Im.current}}function BC(t,e){return{$$typeof:Ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ul}function HC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bv=/\/+/g;function xf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HC(""+t.key):e.toString(36)}function sc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ul:case DC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+xf(o,0):r,Cv(s)?(n="",t!=null&&(n=t.replace(bv,"$&/")+"/"),sc(s,e,n,"",function(c){return c})):s!=null&&(Rm(s)&&(s=BC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Cv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+xf(i,a);o+=sc(i,e,n,l,s)}else if(l=UC(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+xf(i,a++),o+=sc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ku(t,e,n){if(t==null)return t;var r=[],s=0;return sc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function WC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},ic={transition:null},GC={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:ic,ReactCurrentOwner:Im};function HE(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:ku,forEach:function(t,e,n){ku(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ku(t,function(){e++}),e},toArray:function(t){return ku(t,function(e){return e})||[]},only:function(t){if(!Rm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Po;ce.Fragment=NC;ce.Profiler=MC;ce.PureComponent=Cm;ce.StrictMode=VC;ce.Suspense=jC;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GC;ce.act=HE;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=FE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Im.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zE.call(e,l)&&!UE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ul,type:t.type,key:s,ref:i,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:OC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:LC,_context:t},t.Consumer=t};ce.createElement=BE;ce.createFactory=function(t){var e=BE.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:FC,render:t}};ce.isValidElement=Rm;ce.lazy=function(t){return{$$typeof:zC,_payload:{_status:-1,_result:t},_init:WC}};ce.memo=function(t,e){return{$$typeof:$C,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=ic.transition;ic.transition={};try{t()}finally{ic.transition=e}};ce.unstable_act=HE;ce.useCallback=function(t,e){return Wt.current.useCallback(t,e)};ce.useContext=function(t){return Wt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Wt.current.useEffect(t,e)};ce.useId=function(){return Wt.current.useId()};ce.useImperativeHandle=function(t,e,n){return Wt.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Wt.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Wt.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Wt.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Wt.current.useReducer(t,e,n)};ce.useRef=function(t){return Wt.current.useRef(t)};ce.useState=function(t){return Wt.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Wt.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Wt.current.useTransition()};ce.version="18.3.1";LE.exports=ce;var D=LE.exports;const oi=PC(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC=D,KC=Symbol.for("react.element"),QC=Symbol.for("react.fragment"),YC=Object.prototype.hasOwnProperty,XC=qC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JC={key:!0,ref:!0,__self:!0,__source:!0};function WE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)YC.call(e,r)&&!JC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:KC,type:t,key:i,ref:o,props:s,_owner:XC.current}}Rh.Fragment=QC;Rh.jsx=WE;Rh.jsxs=WE;ME.exports=Rh;var A=ME.exports,Pd={},GE={exports:{}},pn={},qE={exports:{}},KE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,Z){var te=j.length;j.push(Z);e:for(;0<te;){var re=te-1>>>1,Ae=j[re];if(0<s(Ae,Z))j[re]=Z,j[te]=Ae,te=re;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var Z=j[0],te=j.pop();if(te!==Z){j[0]=te;e:for(var re=0,Ae=j.length,oe=Ae>>>1;re<oe;){var xe=2*(re+1)-1,de=j[xe],et=xe+1,_e=j[et];if(0>s(de,te))et<Ae&&0>s(_e,de)?(j[re]=_e,j[et]=te,re=et):(j[re]=de,j[xe]=te,re=xe);else if(et<Ae&&0>s(_e,te))j[re]=_e,j[et]=te,re=et;else break e}}return Z}function s(j,Z){var te=j.sortIndex-Z.sortIndex;return te!==0?te:j.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,d=3,m=!1,y=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(j){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=j)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(c)}}function P(j){if(x=!1,E(j),!y)if(n(l)!==null)y=!0,mt(V);else{var Z=n(c);Z!==null&&ge(P,Z.startTime-j)}}function V(j,Z){y=!1,x&&(x=!1,w(v),v=-1),m=!0;var te=d;try{for(E(Z),f=n(l);f!==null&&(!(f.expirationTime>Z)||j&&!R());){var re=f.callback;if(typeof re=="function"){f.callback=null,d=f.priorityLevel;var Ae=re(f.expirationTime<=Z);Z=t.unstable_now(),typeof Ae=="function"?f.callback=Ae:f===n(l)&&r(l),E(Z)}else r(l);f=n(l)}if(f!==null)var oe=!0;else{var xe=n(c);xe!==null&&ge(P,xe.startTime-Z),oe=!1}return oe}finally{f=null,d=te,m=!1}}var F=!1,S=null,v=-1,C=5,b=-1;function R(){return!(t.unstable_now()-b<C)}function M(){if(S!==null){var j=t.unstable_now();b=j;var Z=!0;try{Z=S(!0,j)}finally{Z?I():(F=!1,S=null)}}else F=!1}var I;if(typeof _=="function")I=function(){_(M)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ke=ke.port2;ke.port1.onmessage=M,I=function(){Ke.postMessage(null)}}else I=function(){k(M,0)};function mt(j){S=j,F||(F=!0,I())}function ge(j,Z){v=k(function(){j(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,mt(V))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var te=d;d=Z;try{return j()}finally{d=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,Z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var te=d;d=j;try{return Z()}finally{d=te}},t.unstable_scheduleCallback=function(j,Z,te){var re=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?re+te:re):te=re,j){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=te+Ae,j={id:h++,callback:Z,priorityLevel:j,startTime:te,expirationTime:Ae,sortIndex:-1},te>re?(j.sortIndex=te,e(c,j),n(l)===null&&j===n(c)&&(x?(w(v),v=-1):x=!0,ge(P,te-re))):(j.sortIndex=Ae,e(l,j),y||m||(y=!0,mt(V))),j},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(j){var Z=d;return function(){var te=d;d=Z;try{return j.apply(this,arguments)}finally{d=te}}}})(KE);qE.exports=KE;var ZC=qE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb=D,dn=ZC;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QE=new Set,cl={};function ki(t,e){go(t,e),go(t+"Capture",e)}function go(t,e){for(cl[t]=e,t=0;t<e.length;t++)QE.add(e[t])}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dd=Object.prototype.hasOwnProperty,tb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iv={},Rv={};function nb(t){return Dd.call(Rv,t)?!0:Dd.call(Iv,t)?!1:tb.test(t)?Rv[t]=!0:(Iv[t]=!0,!1)}function rb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sb(t,e,n,r){if(e===null||typeof e>"u"||rb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pm=/[\-:]([a-z])/g;function Dm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pm,Dm);Ct[e]=new Gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pm,Dm);Ct[e]=new Gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pm,Dm);Ct[e]=new Gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Gt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nm(t,e,n,r){var s=Ct.hasOwnProperty(e)?Ct[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sb(e,n,s,r)&&(n=null),r||s===null?nb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ur=eb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Au=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),Bi=Symbol.for("react.fragment"),Vm=Symbol.for("react.strict_mode"),Nd=Symbol.for("react.profiler"),YE=Symbol.for("react.provider"),XE=Symbol.for("react.context"),Mm=Symbol.for("react.forward_ref"),Vd=Symbol.for("react.suspense"),Md=Symbol.for("react.suspense_list"),Lm=Symbol.for("react.memo"),rs=Symbol.for("react.lazy"),JE=Symbol.for("react.offscreen"),Pv=Symbol.iterator;function da(t){return t===null||typeof t!="object"?null:(t=Pv&&t[Pv]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,Tf;function Da(t){if(Tf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tf=e&&e[1]||""}return`
`+Tf+t}var Sf=!1;function kf(t,e){if(!t||Sf)return"";Sf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Da(t):""}function ib(t){switch(t.tag){case 5:return Da(t.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 2:case 15:return t=kf(t.type,!1),t;case 11:return t=kf(t.type.render,!1),t;case 1:return t=kf(t.type,!0),t;default:return""}}function Ld(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bi:return"Fragment";case Ui:return"Portal";case Nd:return"Profiler";case Vm:return"StrictMode";case Vd:return"Suspense";case Md:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case XE:return(t.displayName||"Context")+".Consumer";case YE:return(t._context.displayName||"Context")+".Provider";case Mm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lm:return e=t.displayName||null,e!==null?e:Ld(t.type)||"Memo";case rs:e=t._payload,t=t._init;try{return Ld(t(e))}catch{}}return null}function ob(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ld(e);case 8:return e===Vm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ZE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ab(t){var e=ZE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cu(t){t._valueTracker||(t._valueTracker=ab(t))}function ex(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ZE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Od(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tx(t,e){e=e.checked,e!=null&&Nm(t,"checked",e,!1)}function Fd(t,e){tx(t,e);var n=Ts(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jd(t,e.type,n):e.hasOwnProperty("defaultValue")&&jd(t,e.type,Ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jd(t,e,n){(e!=="number"||Pc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Na=Array.isArray;function so(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ts(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function $d(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Na(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ts(n)}}function nx(t,e){var n=Ts(e.value),r=Ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Mv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bu,sx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bu=bu||document.createElement("div"),bu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lb=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(t){lb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ba[e]=Ba[t]})});function ix(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ba.hasOwnProperty(t)&&Ba[t]?(""+e).trim():e+"px"}function ox(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ix(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ub=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ud(t,e){if(e){if(ub[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Bd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hd=null;function Om(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wd=null,io=null,oo=null;function Lv(t){if(t=Wl(t)){if(typeof Wd!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Mh(e),Wd(t.stateNode,t.type,e))}}function ax(t){io?oo?oo.push(t):oo=[t]:io=t}function lx(){if(io){var t=io,e=oo;if(oo=io=null,Lv(t),e)for(t=0;t<e.length;t++)Lv(e[t])}}function ux(t,e){return t(e)}function cx(){}var Af=!1;function hx(t,e,n){if(Af)return t(e,n);Af=!0;try{return ux(t,e,n)}finally{Af=!1,(io!==null||oo!==null)&&(cx(),lx())}}function fl(t,e){var n=t.stateNode;if(n===null)return null;var r=Mh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Gd=!1;if(Pr)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){Gd=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{Gd=!1}function cb(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ha=!1,Dc=null,Nc=!1,qd=null,hb={onError:function(t){Ha=!0,Dc=t}};function fb(t,e,n,r,s,i,o,a,l){Ha=!1,Dc=null,cb.apply(hb,arguments)}function db(t,e,n,r,s,i,o,a,l){if(fb.apply(this,arguments),Ha){if(Ha){var c=Dc;Ha=!1,Dc=null}else throw Error(B(198));Nc||(Nc=!0,qd=c)}}function Ai(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ov(t){if(Ai(t)!==t)throw Error(B(188))}function pb(t){var e=t.alternate;if(!e){if(e=Ai(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ov(s),t;if(i===r)return Ov(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function dx(t){return t=pb(t),t!==null?px(t):null}function px(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=px(t);if(e!==null)return e;t=t.sibling}return null}var mx=dn.unstable_scheduleCallback,Fv=dn.unstable_cancelCallback,mb=dn.unstable_shouldYield,gb=dn.unstable_requestPaint,Ze=dn.unstable_now,yb=dn.unstable_getCurrentPriorityLevel,Fm=dn.unstable_ImmediatePriority,gx=dn.unstable_UserBlockingPriority,Vc=dn.unstable_NormalPriority,vb=dn.unstable_LowPriority,yx=dn.unstable_IdlePriority,Ph=null,ar=null;function wb(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(Ph,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:xb,_b=Math.log,Eb=Math.LN2;function xb(t){return t>>>=0,t===0?32:31-(_b(t)/Eb|0)|0}var Iu=64,Ru=4194304;function Va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Va(a):(i&=o,i!==0&&(r=Va(i)))}else o=n&~s,o!==0?r=Va(o):i!==0&&(r=Va(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),s=1<<n,r|=t[n],e&=~s;return r}function Tb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-zn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Tb(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Kd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vx(){var t=Iu;return Iu<<=1,!(Iu&4194240)&&(Iu=64),t}function Cf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function kb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-zn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function jm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Se=0;function wx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _x,$m,Ex,xx,Tx,Qd=!1,Pu=[],hs=null,fs=null,ds=null,dl=new Map,pl=new Map,is=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jv(t,e){switch(t){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function ma(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wl(e),e!==null&&$m(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Cb(t,e,n,r,s){switch(e){case"focusin":return hs=ma(hs,t,e,n,r,s),!0;case"dragenter":return fs=ma(fs,t,e,n,r,s),!0;case"mouseover":return ds=ma(ds,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return dl.set(i,ma(dl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,pl.set(i,ma(pl.get(i)||null,t,e,n,r,s)),!0}return!1}function Sx(t){var e=ai(t.target);if(e!==null){var n=Ai(e);if(n!==null){if(e=n.tag,e===13){if(e=fx(n),e!==null){t.blockedOn=e,Tx(t.priority,function(){Ex(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hd=r,n.target.dispatchEvent(r),Hd=null}else return e=Wl(n),e!==null&&$m(e),t.blockedOn=n,!1;e.shift()}return!0}function $v(t,e,n){oc(t)&&n.delete(e)}function bb(){Qd=!1,hs!==null&&oc(hs)&&(hs=null),fs!==null&&oc(fs)&&(fs=null),ds!==null&&oc(ds)&&(ds=null),dl.forEach($v),pl.forEach($v)}function ga(t,e){t.blockedOn===e&&(t.blockedOn=null,Qd||(Qd=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,bb)))}function ml(t){function e(s){return ga(s,t)}if(0<Pu.length){ga(Pu[0],t);for(var n=1;n<Pu.length;n++){var r=Pu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hs!==null&&ga(hs,t),fs!==null&&ga(fs,t),ds!==null&&ga(ds,t),dl.forEach(e),pl.forEach(e),n=0;n<is.length;n++)r=is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<is.length&&(n=is[0],n.blockedOn===null);)Sx(n),n.blockedOn===null&&is.shift()}var ao=Ur.ReactCurrentBatchConfig,Lc=!0;function Ib(t,e,n,r){var s=Se,i=ao.transition;ao.transition=null;try{Se=1,zm(t,e,n,r)}finally{Se=s,ao.transition=i}}function Rb(t,e,n,r){var s=Se,i=ao.transition;ao.transition=null;try{Se=4,zm(t,e,n,r)}finally{Se=s,ao.transition=i}}function zm(t,e,n,r){if(Lc){var s=Yd(t,e,n,r);if(s===null)Of(t,e,r,Oc,n),jv(t,r);else if(Cb(s,t,e,n,r))r.stopPropagation();else if(jv(t,r),e&4&&-1<Ab.indexOf(t)){for(;s!==null;){var i=Wl(s);if(i!==null&&_x(i),i=Yd(t,e,n,r),i===null&&Of(t,e,r,Oc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Of(t,e,r,null,n)}}var Oc=null;function Yd(t,e,n,r){if(Oc=null,t=Om(r),t=ai(t),t!==null)if(e=Ai(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oc=t,null}function kx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yb()){case Fm:return 1;case gx:return 4;case Vc:case vb:return 16;case yx:return 536870912;default:return 16}default:return 16}}var as=null,Um=null,ac=null;function Ax(){if(ac)return ac;var t,e=Um,n=e.length,r,s="value"in as?as.value:as.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ac=s.slice(t,1<r?1-r:void 0)}function lc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Du(){return!0}function zv(){return!1}function mn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Du:zv,this.isPropagationStopped=zv,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),e}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bm=mn(Do),Hl=Ue({},Do,{view:0,detail:0}),Pb=mn(Hl),bf,If,ya,Dh=Ue({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ya&&(ya&&t.type==="mousemove"?(bf=t.screenX-ya.screenX,If=t.screenY-ya.screenY):If=bf=0,ya=t),bf)},movementY:function(t){return"movementY"in t?t.movementY:If}}),Uv=mn(Dh),Db=Ue({},Dh,{dataTransfer:0}),Nb=mn(Db),Vb=Ue({},Hl,{relatedTarget:0}),Rf=mn(Vb),Mb=Ue({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),Lb=mn(Mb),Ob=Ue({},Do,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fb=mn(Ob),jb=Ue({},Do,{data:0}),Bv=mn(jb),$b={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ub={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ub[t])?!!e[t]:!1}function Hm(){return Bb}var Hb=Ue({},Hl,{key:function(t){if(t.key){var e=$b[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hm,charCode:function(t){return t.type==="keypress"?lc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wb=mn(Hb),Gb=Ue({},Dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hv=mn(Gb),qb=Ue({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hm}),Kb=mn(qb),Qb=Ue({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yb=mn(Qb),Xb=Ue({},Dh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jb=mn(Xb),Zb=[9,13,27,32],Wm=Pr&&"CompositionEvent"in window,Wa=null;Pr&&"documentMode"in document&&(Wa=document.documentMode);var eI=Pr&&"TextEvent"in window&&!Wa,Cx=Pr&&(!Wm||Wa&&8<Wa&&11>=Wa),Wv=" ",Gv=!1;function bx(t,e){switch(t){case"keyup":return Zb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ix(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hi=!1;function tI(t,e){switch(t){case"compositionend":return Ix(e);case"keypress":return e.which!==32?null:(Gv=!0,Wv);case"textInput":return t=e.data,t===Wv&&Gv?null:t;default:return null}}function nI(t,e){if(Hi)return t==="compositionend"||!Wm&&bx(t,e)?(t=Ax(),ac=Um=as=null,Hi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cx&&e.locale!=="ko"?null:e.data;default:return null}}var rI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rI[t.type]:e==="textarea"}function Rx(t,e,n,r){ax(r),e=Fc(e,"onChange"),0<e.length&&(n=new Bm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ga=null,gl=null;function sI(t){zx(t,0)}function Nh(t){var e=qi(t);if(ex(e))return t}function iI(t,e){if(t==="change")return e}var Px=!1;if(Pr){var Pf;if(Pr){var Df="oninput"in document;if(!Df){var Kv=document.createElement("div");Kv.setAttribute("oninput","return;"),Df=typeof Kv.oninput=="function"}Pf=Df}else Pf=!1;Px=Pf&&(!document.documentMode||9<document.documentMode)}function Qv(){Ga&&(Ga.detachEvent("onpropertychange",Dx),gl=Ga=null)}function Dx(t){if(t.propertyName==="value"&&Nh(gl)){var e=[];Rx(e,gl,t,Om(t)),hx(sI,e)}}function oI(t,e,n){t==="focusin"?(Qv(),Ga=e,gl=n,Ga.attachEvent("onpropertychange",Dx)):t==="focusout"&&Qv()}function aI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nh(gl)}function lI(t,e){if(t==="click")return Nh(e)}function uI(t,e){if(t==="input"||t==="change")return Nh(e)}function cI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:cI;function yl(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Dd.call(e,s)||!Wn(t[s],e[s]))return!1}return!0}function Yv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xv(t,e){var n=Yv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yv(n)}}function Nx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vx(){for(var t=window,e=Pc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pc(t.document)}return e}function Gm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hI(t){var e=Vx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Nx(n.ownerDocument.documentElement,n)){if(r!==null&&Gm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Xv(n,i);var o=Xv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fI=Pr&&"documentMode"in document&&11>=document.documentMode,Wi=null,Xd=null,qa=null,Jd=!1;function Jv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jd||Wi==null||Wi!==Pc(r)||(r=Wi,"selectionStart"in r&&Gm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qa&&yl(qa,r)||(qa=r,r=Fc(Xd,"onSelect"),0<r.length&&(e=new Bm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wi)))}function Nu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gi={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},Nf={},Mx={};Pr&&(Mx=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function Vh(t){if(Nf[t])return Nf[t];if(!Gi[t])return t;var e=Gi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mx)return Nf[t]=e[n];return t}var Lx=Vh("animationend"),Ox=Vh("animationiteration"),Fx=Vh("animationstart"),jx=Vh("transitionend"),$x=new Map,Zv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(t,e){$x.set(t,e),ki(e,[t])}for(var Vf=0;Vf<Zv.length;Vf++){var Mf=Zv[Vf],dI=Mf.toLowerCase(),pI=Mf[0].toUpperCase()+Mf.slice(1);Ns(dI,"on"+pI)}Ns(Lx,"onAnimationEnd");Ns(Ox,"onAnimationIteration");Ns(Fx,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(jx,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function e0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,db(r,e,void 0,t),t.currentTarget=null}function zx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;e0(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;e0(s,a,c),i=l}}}if(Nc)throw t=qd,Nc=!1,qd=null,t}function Ne(t,e){var n=e[rp];n===void 0&&(n=e[rp]=new Set);var r=t+"__bubble";n.has(r)||(Ux(e,t,2,!1),n.add(r))}function Lf(t,e,n){var r=0;e&&(r|=4),Ux(n,t,r,e)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function vl(t){if(!t[Vu]){t[Vu]=!0,QE.forEach(function(n){n!=="selectionchange"&&(mI.has(n)||Lf(n,!1,t),Lf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vu]||(e[Vu]=!0,Lf("selectionchange",!1,e))}}function Ux(t,e,n,r){switch(kx(e)){case 1:var s=Ib;break;case 4:s=Rb;break;default:s=zm}n=s.bind(null,e,n,t),s=void 0,!Gd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Of(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ai(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}hx(function(){var c=i,h=Om(n),f=[];e:{var d=$x.get(t);if(d!==void 0){var m=Bm,y=t;switch(t){case"keypress":if(lc(n)===0)break e;case"keydown":case"keyup":m=Wb;break;case"focusin":y="focus",m=Rf;break;case"focusout":y="blur",m=Rf;break;case"beforeblur":case"afterblur":m=Rf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Uv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Nb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Kb;break;case Lx:case Ox:case Fx:m=Lb;break;case jx:m=Yb;break;case"scroll":m=Pb;break;case"wheel":m=Jb;break;case"copy":case"cut":case"paste":m=Fb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Hv}var x=(e&4)!==0,k=!x&&t==="scroll",w=x?d!==null?d+"Capture":null:d;x=[];for(var _=c,E;_!==null;){E=_;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,w!==null&&(P=fl(_,w),P!=null&&x.push(wl(_,P,E)))),k)break;_=_.return}0<x.length&&(d=new m(d,y,null,n,h),f.push({event:d,listeners:x}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==Hd&&(y=n.relatedTarget||n.fromElement)&&(ai(y)||y[Dr]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?ai(y):null,y!==null&&(k=Ai(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(x=Uv,P="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=Hv,P="onPointerLeave",w="onPointerEnter",_="pointer"),k=m==null?d:qi(m),E=y==null?d:qi(y),d=new x(P,_+"leave",m,n,h),d.target=k,d.relatedTarget=E,P=null,ai(h)===c&&(x=new x(w,_+"enter",y,n,h),x.target=E,x.relatedTarget=k,P=x),k=P,m&&y)t:{for(x=m,w=y,_=0,E=x;E;E=Li(E))_++;for(E=0,P=w;P;P=Li(P))E++;for(;0<_-E;)x=Li(x),_--;for(;0<E-_;)w=Li(w),E--;for(;_--;){if(x===w||w!==null&&x===w.alternate)break t;x=Li(x),w=Li(w)}x=null}else x=null;m!==null&&t0(f,d,m,x,!1),y!==null&&k!==null&&t0(f,k,y,x,!0)}}e:{if(d=c?qi(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var V=iI;else if(qv(d))if(Px)V=uI;else{V=aI;var F=oI}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(V=lI);if(V&&(V=V(t,c))){Rx(f,V,n,h);break e}F&&F(t,d,c),t==="focusout"&&(F=d._wrapperState)&&F.controlled&&d.type==="number"&&jd(d,"number",d.value)}switch(F=c?qi(c):window,t){case"focusin":(qv(F)||F.contentEditable==="true")&&(Wi=F,Xd=c,qa=null);break;case"focusout":qa=Xd=Wi=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,Jv(f,n,h);break;case"selectionchange":if(fI)break;case"keydown":case"keyup":Jv(f,n,h)}var S;if(Wm)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Hi?bx(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Cx&&n.locale!=="ko"&&(Hi||v!=="onCompositionStart"?v==="onCompositionEnd"&&Hi&&(S=Ax()):(as=h,Um="value"in as?as.value:as.textContent,Hi=!0)),F=Fc(c,v),0<F.length&&(v=new Bv(v,t,null,n,h),f.push({event:v,listeners:F}),S?v.data=S:(S=Ix(n),S!==null&&(v.data=S)))),(S=eI?tI(t,n):nI(t,n))&&(c=Fc(c,"onBeforeInput"),0<c.length&&(h=new Bv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=S))}zx(f,e)})}function wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fl(t,n),i!=null&&r.unshift(wl(t,i,s)),i=fl(t,e),i!=null&&r.push(wl(t,i,s))),t=t.return}return r}function Li(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function t0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=fl(n,i),l!=null&&o.unshift(wl(n,l,a))):s||(l=fl(n,i),l!=null&&o.push(wl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gI=/\r\n?/g,yI=/\u0000|\uFFFD/g;function n0(t){return(typeof t=="string"?t:""+t).replace(gI,`
`).replace(yI,"")}function Mu(t,e,n){if(e=n0(e),n0(t)!==e&&n)throw Error(B(425))}function jc(){}var Zd=null,ep=null;function tp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var np=typeof setTimeout=="function"?setTimeout:void 0,vI=typeof clearTimeout=="function"?clearTimeout:void 0,r0=typeof Promise=="function"?Promise:void 0,wI=typeof queueMicrotask=="function"?queueMicrotask:typeof r0<"u"?function(t){return r0.resolve(null).then(t).catch(_I)}:np;function _I(t){setTimeout(function(){throw t})}function Ff(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ml(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ml(e)}function ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function s0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var No=Math.random().toString(36).slice(2),or="__reactFiber$"+No,_l="__reactProps$"+No,Dr="__reactContainer$"+No,rp="__reactEvents$"+No,EI="__reactListeners$"+No,xI="__reactHandles$"+No;function ai(t){var e=t[or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dr]||n[or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=s0(t);t!==null;){if(n=t[or])return n;t=s0(t)}return e}t=n,n=t.parentNode}return null}function Wl(t){return t=t[or]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Mh(t){return t[_l]||null}var sp=[],Ki=-1;function Vs(t){return{current:t}}function Me(t){0>Ki||(t.current=sp[Ki],sp[Ki]=null,Ki--)}function Re(t,e){Ki++,sp[Ki]=t.current,t.current=e}var Ss={},Lt=Vs(Ss),Zt=Vs(!1),yi=Ss;function yo(t,e){var n=t.type.contextTypes;if(!n)return Ss;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function en(t){return t=t.childContextTypes,t!=null}function $c(){Me(Zt),Me(Lt)}function i0(t,e,n){if(Lt.current!==Ss)throw Error(B(168));Re(Lt,e),Re(Zt,n)}function Bx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,ob(t)||"Unknown",s));return Ue({},n,r)}function zc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ss,yi=Lt.current,Re(Lt,t),Re(Zt,Zt.current),!0}function o0(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Bx(t,e,yi),r.__reactInternalMemoizedMergedChildContext=t,Me(Zt),Me(Lt),Re(Lt,t)):Me(Zt),Re(Zt,n)}var Tr=null,Lh=!1,jf=!1;function Hx(t){Tr===null?Tr=[t]:Tr.push(t)}function TI(t){Lh=!0,Hx(t)}function Ms(){if(!jf&&Tr!==null){jf=!0;var t=0,e=Se;try{var n=Tr;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tr=null,Lh=!1}catch(s){throw Tr!==null&&(Tr=Tr.slice(t+1)),mx(Fm,Ms),s}finally{Se=e,jf=!1}}return null}var Qi=[],Yi=0,Uc=null,Bc=0,vn=[],wn=0,vi=null,kr=1,Ar="";function ti(t,e){Qi[Yi++]=Bc,Qi[Yi++]=Uc,Uc=t,Bc=e}function Wx(t,e,n){vn[wn++]=kr,vn[wn++]=Ar,vn[wn++]=vi,vi=t;var r=kr;t=Ar;var s=32-zn(r)-1;r&=~(1<<s),n+=1;var i=32-zn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,kr=1<<32-zn(e)+s|n<<s|r,Ar=i+t}else kr=1<<i|n<<s|r,Ar=t}function qm(t){t.return!==null&&(ti(t,1),Wx(t,1,0))}function Km(t){for(;t===Uc;)Uc=Qi[--Yi],Qi[Yi]=null,Bc=Qi[--Yi],Qi[Yi]=null;for(;t===vi;)vi=vn[--wn],vn[wn]=null,Ar=vn[--wn],vn[wn]=null,kr=vn[--wn],vn[wn]=null}var fn=null,cn=null,Le=!1,Fn=null;function Gx(t,e){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function a0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,cn=ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vi!==null?{id:kr,overflow:Ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,cn=null,!0):!1;default:return!1}}function ip(t){return(t.mode&1)!==0&&(t.flags&128)===0}function op(t){if(Le){var e=cn;if(e){var n=e;if(!a0(t,e)){if(ip(t))throw Error(B(418));e=ps(n.nextSibling);var r=fn;e&&a0(t,e)?Gx(r,n):(t.flags=t.flags&-4097|2,Le=!1,fn=t)}}else{if(ip(t))throw Error(B(418));t.flags=t.flags&-4097|2,Le=!1,fn=t}}}function l0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function Lu(t){if(t!==fn)return!1;if(!Le)return l0(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tp(t.type,t.memoizedProps)),e&&(e=cn)){if(ip(t))throw qx(),Error(B(418));for(;e;)Gx(t,e),e=ps(e.nextSibling)}if(l0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=fn?ps(t.stateNode.nextSibling):null;return!0}function qx(){for(var t=cn;t;)t=ps(t.nextSibling)}function vo(){cn=fn=null,Le=!1}function Qm(t){Fn===null?Fn=[t]:Fn.push(t)}var SI=Ur.ReactCurrentBatchConfig;function va(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Ou(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function u0(t){var e=t._init;return e(t._payload)}function Kx(t){function e(w,_){if(t){var E=w.deletions;E===null?(w.deletions=[_],w.flags|=16):E.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function s(w,_){return w=vs(w,_),w.index=0,w.sibling=null,w}function i(w,_,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<_?(w.flags|=2,_):E):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,E,P){return _===null||_.tag!==6?(_=Gf(E,w.mode,P),_.return=w,_):(_=s(_,E),_.return=w,_)}function l(w,_,E,P){var V=E.type;return V===Bi?h(w,_,E.props.children,P,E.key):_!==null&&(_.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===rs&&u0(V)===_.type)?(P=s(_,E.props),P.ref=va(w,_,E),P.return=w,P):(P=mc(E.type,E.key,E.props,null,w.mode,P),P.ref=va(w,_,E),P.return=w,P)}function c(w,_,E,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=qf(E,w.mode,P),_.return=w,_):(_=s(_,E.children||[]),_.return=w,_)}function h(w,_,E,P,V){return _===null||_.tag!==7?(_=pi(E,w.mode,P,V),_.return=w,_):(_=s(_,E),_.return=w,_)}function f(w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Gf(""+_,w.mode,E),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Au:return E=mc(_.type,_.key,_.props,null,w.mode,E),E.ref=va(w,null,_),E.return=w,E;case Ui:return _=qf(_,w.mode,E),_.return=w,_;case rs:var P=_._init;return f(w,P(_._payload),E)}if(Na(_)||da(_))return _=pi(_,w.mode,E,null),_.return=w,_;Ou(w,_)}return null}function d(w,_,E,P){var V=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return V!==null?null:a(w,_,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Au:return E.key===V?l(w,_,E,P):null;case Ui:return E.key===V?c(w,_,E,P):null;case rs:return V=E._init,d(w,_,V(E._payload),P)}if(Na(E)||da(E))return V!==null?null:h(w,_,E,P,null);Ou(w,E)}return null}function m(w,_,E,P,V){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(E)||null,a(_,w,""+P,V);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Au:return w=w.get(P.key===null?E:P.key)||null,l(_,w,P,V);case Ui:return w=w.get(P.key===null?E:P.key)||null,c(_,w,P,V);case rs:var F=P._init;return m(w,_,E,F(P._payload),V)}if(Na(P)||da(P))return w=w.get(E)||null,h(_,w,P,V,null);Ou(_,P)}return null}function y(w,_,E,P){for(var V=null,F=null,S=_,v=_=0,C=null;S!==null&&v<E.length;v++){S.index>v?(C=S,S=null):C=S.sibling;var b=d(w,S,E[v],P);if(b===null){S===null&&(S=C);break}t&&S&&b.alternate===null&&e(w,S),_=i(b,_,v),F===null?V=b:F.sibling=b,F=b,S=C}if(v===E.length)return n(w,S),Le&&ti(w,v),V;if(S===null){for(;v<E.length;v++)S=f(w,E[v],P),S!==null&&(_=i(S,_,v),F===null?V=S:F.sibling=S,F=S);return Le&&ti(w,v),V}for(S=r(w,S);v<E.length;v++)C=m(S,w,v,E[v],P),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?v:C.key),_=i(C,_,v),F===null?V=C:F.sibling=C,F=C);return t&&S.forEach(function(R){return e(w,R)}),Le&&ti(w,v),V}function x(w,_,E,P){var V=da(E);if(typeof V!="function")throw Error(B(150));if(E=V.call(E),E==null)throw Error(B(151));for(var F=V=null,S=_,v=_=0,C=null,b=E.next();S!==null&&!b.done;v++,b=E.next()){S.index>v?(C=S,S=null):C=S.sibling;var R=d(w,S,b.value,P);if(R===null){S===null&&(S=C);break}t&&S&&R.alternate===null&&e(w,S),_=i(R,_,v),F===null?V=R:F.sibling=R,F=R,S=C}if(b.done)return n(w,S),Le&&ti(w,v),V;if(S===null){for(;!b.done;v++,b=E.next())b=f(w,b.value,P),b!==null&&(_=i(b,_,v),F===null?V=b:F.sibling=b,F=b);return Le&&ti(w,v),V}for(S=r(w,S);!b.done;v++,b=E.next())b=m(S,w,v,b.value,P),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?v:b.key),_=i(b,_,v),F===null?V=b:F.sibling=b,F=b);return t&&S.forEach(function(M){return e(w,M)}),Le&&ti(w,v),V}function k(w,_,E,P){if(typeof E=="object"&&E!==null&&E.type===Bi&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Au:e:{for(var V=E.key,F=_;F!==null;){if(F.key===V){if(V=E.type,V===Bi){if(F.tag===7){n(w,F.sibling),_=s(F,E.props.children),_.return=w,w=_;break e}}else if(F.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===rs&&u0(V)===F.type){n(w,F.sibling),_=s(F,E.props),_.ref=va(w,F,E),_.return=w,w=_;break e}n(w,F);break}else e(w,F);F=F.sibling}E.type===Bi?(_=pi(E.props.children,w.mode,P,E.key),_.return=w,w=_):(P=mc(E.type,E.key,E.props,null,w.mode,P),P.ref=va(w,_,E),P.return=w,w=P)}return o(w);case Ui:e:{for(F=E.key;_!==null;){if(_.key===F)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(w,_.sibling),_=s(_,E.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=qf(E,w.mode,P),_.return=w,w=_}return o(w);case rs:return F=E._init,k(w,_,F(E._payload),P)}if(Na(E))return y(w,_,E,P);if(da(E))return x(w,_,E,P);Ou(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(w,_.sibling),_=s(_,E),_.return=w,w=_):(n(w,_),_=Gf(E,w.mode,P),_.return=w,w=_),o(w)):n(w,_)}return k}var wo=Kx(!0),Qx=Kx(!1),Hc=Vs(null),Wc=null,Xi=null,Ym=null;function Xm(){Ym=Xi=Wc=null}function Jm(t){var e=Hc.current;Me(Hc),t._currentValue=e}function ap(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lo(t,e){Wc=t,Ym=Xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(Ym!==t)if(t={context:t,memoizedValue:e,next:null},Xi===null){if(Wc===null)throw Error(B(308));Xi=t,Wc.dependencies={lanes:0,firstContext:t}}else Xi=Xi.next=t;return e}var li=null;function Zm(t){li===null?li=[t]:li.push(t)}function Yx(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Zm(e)):(n.next=s.next,s.next=n),e.interleaved=n,Nr(t,r)}function Nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ss=!1;function eg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ms(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Nr(t,n)}return s=r.interleaved,s===null?(e.next=e,Zm(r)):(e.next=s.next,s.next=e),r.interleaved=e,Nr(t,n)}function uc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jm(t,n)}}function c0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gc(t,e,n,r){var s=t.updateQueue;ss=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=c=l=null,a=i;do{var d=a.lane,m=a.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(d=e,m=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(m,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,d=typeof y=="function"?y.call(m,f,d):y,d==null)break e;f=Ue({},f,d);break e;case 2:ss=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=f):h=h.next=m,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);_i|=o,t.lanes=o,t.memoizedState=f}}function h0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Gl={},lr=Vs(Gl),El=Vs(Gl),xl=Vs(Gl);function ui(t){if(t===Gl)throw Error(B(174));return t}function tg(t,e){switch(Re(xl,e),Re(El,t),Re(lr,Gl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zd(e,t)}Me(lr),Re(lr,e)}function _o(){Me(lr),Me(El),Me(xl)}function Jx(t){ui(xl.current);var e=ui(lr.current),n=zd(e,t.type);e!==n&&(Re(El,t),Re(lr,n))}function ng(t){El.current===t&&(Me(lr),Me(El))}var Fe=Vs(0);function qc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $f=[];function rg(){for(var t=0;t<$f.length;t++)$f[t]._workInProgressVersionPrimary=null;$f.length=0}var cc=Ur.ReactCurrentDispatcher,zf=Ur.ReactCurrentBatchConfig,wi=0,$e=null,ft=null,vt=null,Kc=!1,Ka=!1,Tl=0,kI=0;function It(){throw Error(B(321))}function sg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function ig(t,e,n,r,s,i){if(wi=i,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cc.current=t===null||t.memoizedState===null?II:RI,t=n(r,s),Ka){i=0;do{if(Ka=!1,Tl=0,25<=i)throw Error(B(301));i+=1,vt=ft=null,e.updateQueue=null,cc.current=PI,t=n(r,s)}while(Ka)}if(cc.current=Qc,e=ft!==null&&ft.next!==null,wi=0,vt=ft=$e=null,Kc=!1,e)throw Error(B(300));return t}function og(){var t=Tl!==0;return Tl=0,t}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?$e.memoizedState=vt=t:vt=vt.next=t,vt}function Cn(){if(ft===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=vt===null?$e.memoizedState:vt.next;if(e!==null)vt=e,ft=t;else{if(t===null)throw Error(B(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?$e.memoizedState=vt=t:vt=vt.next=t}return vt}function Sl(t,e){return typeof e=="function"?e(t):e}function Uf(t){var e=Cn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=ft,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((wi&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,$e.lanes|=h,_i|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Wn(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,$e.lanes|=i,_i|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bf(t){var e=Cn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Wn(i,e.memoizedState)||(Jt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Zx(){}function eT(t,e){var n=$e,r=Cn(),s=e(),i=!Wn(r.memoizedState,s);if(i&&(r.memoizedState=s,Jt=!0),r=r.queue,ag(rT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,kl(9,nT.bind(null,n,r,s,e),void 0,null),wt===null)throw Error(B(349));wi&30||tT(n,e,s)}return s}function tT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nT(t,e,n,r){e.value=n,e.getSnapshot=r,sT(e)&&iT(t)}function rT(t,e,n){return n(function(){sT(e)&&iT(t)})}function sT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function iT(t){var e=Nr(t,1);e!==null&&Un(e,t,1,-1)}function f0(t){var e=sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},e.queue=t,t=t.dispatch=bI.bind(null,$e,t),[e.memoizedState,t]}function kl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oT(){return Cn().memoizedState}function hc(t,e,n,r){var s=sr();$e.flags|=t,s.memoizedState=kl(1|e,n,void 0,r===void 0?null:r)}function Oh(t,e,n,r){var s=Cn();r=r===void 0?null:r;var i=void 0;if(ft!==null){var o=ft.memoizedState;if(i=o.destroy,r!==null&&sg(r,o.deps)){s.memoizedState=kl(e,n,i,r);return}}$e.flags|=t,s.memoizedState=kl(1|e,n,i,r)}function d0(t,e){return hc(8390656,8,t,e)}function ag(t,e){return Oh(2048,8,t,e)}function aT(t,e){return Oh(4,2,t,e)}function lT(t,e){return Oh(4,4,t,e)}function uT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cT(t,e,n){return n=n!=null?n.concat([t]):null,Oh(4,4,uT.bind(null,e,t),n)}function lg(){}function hT(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fT(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dT(t,e,n){return wi&21?(Wn(n,e)||(n=vx(),$e.lanes|=n,_i|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function AI(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=zf.transition;zf.transition={};try{t(!1),e()}finally{Se=n,zf.transition=r}}function pT(){return Cn().memoizedState}function CI(t,e,n){var r=ys(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mT(t))gT(e,n);else if(n=Yx(t,e,n,r),n!==null){var s=Ut();Un(n,t,r,s),yT(n,e,r)}}function bI(t,e,n){var r=ys(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mT(t))gT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Wn(a,o)){var l=e.interleaved;l===null?(s.next=s,Zm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Yx(t,e,s,r),n!==null&&(s=Ut(),Un(n,t,r,s),yT(n,e,r))}}function mT(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function gT(t,e){Ka=Kc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jm(t,n)}}var Qc={readContext:An,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},II={readContext:An,useCallback:function(t,e){return sr().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:d0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hc(4194308,4,uT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hc(4194308,4,t,e)},useInsertionEffect:function(t,e){return hc(4,2,t,e)},useMemo:function(t,e){var n=sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=CI.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=sr();return t={current:t},e.memoizedState=t},useState:f0,useDebugValue:lg,useDeferredValue:function(t){return sr().memoizedState=t},useTransition:function(){var t=f0(!1),e=t[0];return t=AI.bind(null,t[1]),sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,s=sr();if(Le){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),wt===null)throw Error(B(349));wi&30||tT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,d0(rT.bind(null,r,i,t),[t]),r.flags|=2048,kl(9,nT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=sr(),e=wt.identifierPrefix;if(Le){var n=Ar,r=kr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RI={readContext:An,useCallback:hT,useContext:An,useEffect:ag,useImperativeHandle:cT,useInsertionEffect:aT,useLayoutEffect:lT,useMemo:fT,useReducer:Uf,useRef:oT,useState:function(){return Uf(Sl)},useDebugValue:lg,useDeferredValue:function(t){var e=Cn();return dT(e,ft.memoizedState,t)},useTransition:function(){var t=Uf(Sl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:Zx,useSyncExternalStore:eT,useId:pT,unstable_isNewReconciler:!1},PI={readContext:An,useCallback:hT,useContext:An,useEffect:ag,useImperativeHandle:cT,useInsertionEffect:aT,useLayoutEffect:lT,useMemo:fT,useReducer:Bf,useRef:oT,useState:function(){return Bf(Sl)},useDebugValue:lg,useDeferredValue:function(t){var e=Cn();return ft===null?e.memoizedState=t:dT(e,ft.memoizedState,t)},useTransition:function(){var t=Bf(Sl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:Zx,useSyncExternalStore:eT,useId:pT,unstable_isNewReconciler:!1};function Ln(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function lp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fh={isMounted:function(t){return(t=t._reactInternals)?Ai(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),s=ys(t),i=Cr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ms(t,i,s),e!==null&&(Un(e,t,s,r),uc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),s=ys(t),i=Cr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ms(t,i,s),e!==null&&(Un(e,t,s,r),uc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=ys(t),s=Cr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ms(t,s,r),e!==null&&(Un(e,t,r,n),uc(e,t,r))}};function p0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!yl(n,r)||!yl(s,i):!0}function vT(t,e,n){var r=!1,s=Ss,i=e.contextType;return typeof i=="object"&&i!==null?i=An(i):(s=en(e)?yi:Lt.current,r=e.contextTypes,i=(r=r!=null)?yo(t,s):Ss),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function m0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fh.enqueueReplaceState(e,e.state,null)}function up(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},eg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=An(i):(i=en(e)?yi:Lt.current,s.context=yo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(lp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fh.enqueueReplaceState(s,s.state,null),Gc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Eo(t,e){try{var n="",r=e;do n+=ib(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Hf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DI=typeof WeakMap=="function"?WeakMap:Map;function wT(t,e,n){n=Cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xc||(Xc=!0,_p=r),cp(t,e)},n}function _T(t,e,n){n=Cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){cp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){cp(t,e),typeof r!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function g0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DI;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=GI.bind(null,t,e,n),e.then(t,t))}function y0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function v0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cr(-1,1),e.tag=2,ms(n,e,1))),n.lanes|=1),t)}var NI=Ur.ReactCurrentOwner,Jt=!1;function Ft(t,e,n,r){e.child=t===null?Qx(e,null,n,r):wo(e,t.child,n,r)}function w0(t,e,n,r,s){n=n.render;var i=e.ref;return lo(e,s),r=ig(t,e,n,r,i,s),n=og(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(Le&&n&&qm(e),e.flags|=1,Ft(t,e,r,s),e.child)}function _0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!gg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ET(t,e,i,r,s)):(t=mc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:yl,n(o,r)&&t.ref===e.ref)return Vr(t,e,s)}return e.flags|=1,t=vs(i,r),t.ref=e.ref,t.return=e,e.child=t}function ET(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(yl(i,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Vr(t,e,s)}return hp(t,e,n,r,s)}function xT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Zi,un),un|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(Zi,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Re(Zi,un),un|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Re(Zi,un),un|=r;return Ft(t,e,s,n),e.child}function TT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hp(t,e,n,r,s){var i=en(n)?yi:Lt.current;return i=yo(e,i),lo(e,s),n=ig(t,e,n,r,i,s),r=og(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(Le&&r&&qm(e),e.flags|=1,Ft(t,e,n,s),e.child)}function E0(t,e,n,r,s){if(en(n)){var i=!0;zc(e)}else i=!1;if(lo(e,s),e.stateNode===null)fc(t,e),vT(e,n,r),up(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=An(c):(c=en(n)?yi:Lt.current,c=yo(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&m0(e,o,r,c),ss=!1;var d=e.memoizedState;o.state=d,Gc(e,r,o,s),l=e.memoizedState,a!==r||d!==l||Zt.current||ss?(typeof h=="function"&&(lp(e,n,h,r),l=e.memoizedState),(a=ss||p0(e,n,a,r,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Xx(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ln(e.type,a),o.props=c,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=en(n)?yi:Lt.current,l=yo(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&m0(e,o,r,l),ss=!1,d=e.memoizedState,o.state=d,Gc(e,r,o,s);var y=e.memoizedState;a!==f||d!==y||Zt.current||ss?(typeof m=="function"&&(lp(e,n,m,r),y=e.memoizedState),(c=ss||p0(e,n,c,r,d,y,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return fp(t,e,n,r,i,s)}function fp(t,e,n,r,s,i){TT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&o0(e,n,!1),Vr(t,e,i);r=e.stateNode,NI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wo(e,t.child,null,i),e.child=wo(e,null,a,i)):Ft(t,e,a,i),e.memoizedState=r.state,s&&o0(e,n,!0),e.child}function ST(t){var e=t.stateNode;e.pendingContext?i0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&i0(t,e.context,!1),tg(t,e.containerInfo)}function x0(t,e,n,r,s){return vo(),Qm(s),e.flags|=256,Ft(t,e,n,r),e.child}var dp={dehydrated:null,treeContext:null,retryLane:0};function pp(t){return{baseLanes:t,cachePool:null,transitions:null}}function kT(t,e,n){var r=e.pendingProps,s=Fe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Re(Fe,s&1),t===null)return op(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=zh(o,r,0,null),t=pi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=pp(n),e.memoizedState=dp,t):ug(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return VI(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=vs(a,i):(i=pi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?pp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=dp,r}return i=t.child,t=i.sibling,r=vs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ug(t,e){return e=zh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fu(t,e,n,r){return r!==null&&Qm(r),wo(e,t.child,null,n),t=ug(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VI(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Hf(Error(B(422))),Fu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=zh({mode:"visible",children:r.children},s,0,null),i=pi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&wo(e,t.child,null,o),e.child.memoizedState=pp(o),e.memoizedState=dp,i);if(!(e.mode&1))return Fu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=Hf(i,r,void 0),Fu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Jt||a){if(r=wt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nr(t,s),Un(r,t,s,-1))}return mg(),r=Hf(Error(B(421))),Fu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=qI.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,cn=ps(s.nextSibling),fn=e,Le=!0,Fn=null,t!==null&&(vn[wn++]=kr,vn[wn++]=Ar,vn[wn++]=vi,kr=t.id,Ar=t.overflow,vi=e),e=ug(e,r.children),e.flags|=4096,e)}function T0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ap(t.return,e,n)}function Wf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function AT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ft(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&T0(t,n,e);else if(t.tag===19)T0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Wf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Wf(e,!0,n,null,i);break;case"together":Wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_i|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=vs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MI(t,e,n){switch(e.tag){case 3:ST(e),vo();break;case 5:Jx(e);break;case 1:en(e.type)&&zc(e);break;case 4:tg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Re(Hc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?kT(t,e,n):(Re(Fe,Fe.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);Re(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return AT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,xT(t,e,n)}return Vr(t,e,n)}var CT,mp,bT,IT;CT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mp=function(){};bT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ui(lr.current);var i=null;switch(n){case"input":s=Od(t,s),r=Od(t,r),i=[];break;case"select":s=Ue({},s,{value:void 0}),r=Ue({},r,{value:void 0}),i=[];break;case"textarea":s=$d(t,s),r=$d(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jc)}Ud(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ne("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};IT=function(t,e,n,r){n!==r&&(e.flags|=4)};function wa(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function LI(t,e,n){var r=e.pendingProps;switch(Km(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(e),null;case 1:return en(e.type)&&$c(),Rt(e),null;case 3:return r=e.stateNode,_o(),Me(Zt),Me(Lt),rg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(Tp(Fn),Fn=null))),mp(t,e),Rt(e),null;case 5:ng(e);var s=ui(xl.current);if(n=e.type,t!==null&&e.stateNode!=null)bT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Rt(e),null}if(t=ui(lr.current),Lu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[or]=e,r[_l]=i,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(s=0;s<Ma.length;s++)Ne(Ma[s],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Dv(r,i),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",r);break;case"textarea":Vv(r,i),Ne("invalid",r)}Ud(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Mu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Mu(r.textContent,a,t),s=["children",""+a]):cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Cu(r),Nv(r,i,!0);break;case"textarea":Cu(r),Mv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=jc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[or]=e,t[_l]=r,CT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bd(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),s=r;break;case"iframe":case"object":case"embed":Ne("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ma.length;s++)Ne(Ma[s],t);s=r;break;case"source":Ne("error",t),s=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),s=r;break;case"details":Ne("toggle",t),s=r;break;case"input":Dv(t,r),s=Od(t,r),Ne("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ue({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":Vv(t,r),s=$d(t,r),Ne("invalid",t);break;default:s=r}Ud(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ox(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sx(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hl(t,l):typeof l=="number"&&hl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ne("scroll",t):l!=null&&Nm(t,i,l,o))}switch(n){case"input":Cu(t),Nv(t,r,!1);break;case"textarea":Cu(t),Mv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ts(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?so(t,!!r.multiple,i,!1):r.defaultValue!=null&&so(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=jc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rt(e),null;case 6:if(t&&e.stateNode!=null)IT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=ui(xl.current),ui(lr.current),Lu(e)){if(r=e.stateNode,n=e.memoizedProps,r[or]=e,(i=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:Mu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[or]=e,e.stateNode=r}return Rt(e),null;case 13:if(Me(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&cn!==null&&e.mode&1&&!(e.flags&128))qx(),vo(),e.flags|=98560,i=!1;else if(i=Lu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[or]=e}else vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rt(e),i=!1}else Fn!==null&&(Tp(Fn),Fn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?dt===0&&(dt=3):mg())),e.updateQueue!==null&&(e.flags|=4),Rt(e),null);case 4:return _o(),mp(t,e),t===null&&vl(e.stateNode.containerInfo),Rt(e),null;case 10:return Jm(e.type._context),Rt(e),null;case 17:return en(e.type)&&$c(),Rt(e),null;case 19:if(Me(Fe),i=e.memoizedState,i===null)return Rt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)wa(i,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qc(t),o!==null){for(e.flags|=128,wa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(Fe,Fe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ze()>xo&&(e.flags|=128,r=!0,wa(i,!1),e.lanes=4194304)}else{if(!r)if(t=qc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Le)return Rt(e),null}else 2*Ze()-i.renderingStartTime>xo&&n!==1073741824&&(e.flags|=128,r=!0,wa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ze(),e.sibling=null,n=Fe.current,Re(Fe,r?n&1|2:n&1),e):(Rt(e),null);case 22:case 23:return pg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?un&1073741824&&(Rt(e),e.subtreeFlags&6&&(e.flags|=8192)):Rt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function OI(t,e){switch(Km(e),e.tag){case 1:return en(e.type)&&$c(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _o(),Me(Zt),Me(Lt),rg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ng(e),null;case 13:if(Me(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Fe),null;case 4:return _o(),null;case 10:return Jm(e.type._context),null;case 22:case 23:return pg(),null;case 24:return null;default:return null}}var ju=!1,Nt=!1,FI=typeof WeakSet=="function"?WeakSet:Set,K=null;function Ji(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function gp(t,e,n){try{n()}catch(r){qe(t,e,r)}}var S0=!1;function jI(t,e){if(Zd=Lc,t=Vx(),Gm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===n&&++c===s&&(a=o),d===i&&++h===r&&(l=o),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ep={focusedElem:t,selectionRange:n},Lc=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,k=y.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ln(e.type,x),k);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(P){qe(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return y=S0,S0=!1,y}function Qa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&gp(e,n,i)}s=s.next}while(s!==r)}}function jh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RT(t){var e=t.alternate;e!==null&&(t.alternate=null,RT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[or],delete e[_l],delete e[rp],delete e[EI],delete e[xI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PT(t){return t.tag===5||t.tag===3||t.tag===4}function k0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jc));else if(r!==4&&(t=t.child,t!==null))for(vp(t,e,n),t=t.sibling;t!==null;)vp(t,e,n),t=t.sibling}function wp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wp(t,e,n),t=t.sibling;t!==null;)wp(t,e,n),t=t.sibling}var xt=null,On=!1;function es(t,e,n){for(n=n.child;n!==null;)DT(t,e,n),n=n.sibling}function DT(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(Ph,n)}catch{}switch(n.tag){case 5:Nt||Ji(n,e);case 6:var r=xt,s=On;xt=null,es(t,e,n),xt=r,On=s,xt!==null&&(On?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(On?(t=xt,n=n.stateNode,t.nodeType===8?Ff(t.parentNode,n):t.nodeType===1&&Ff(t,n),ml(t)):Ff(xt,n.stateNode));break;case 4:r=xt,s=On,xt=n.stateNode.containerInfo,On=!0,es(t,e,n),xt=r,On=s;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gp(n,e,o),s=s.next}while(s!==r)}es(t,e,n);break;case 1:if(!Nt&&(Ji(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,e,a)}es(t,e,n);break;case 21:es(t,e,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,es(t,e,n),Nt=r):es(t,e,n);break;default:es(t,e,n)}}function A0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new FI),e.forEach(function(r){var s=KI.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xt=a.stateNode,On=!1;break e;case 3:xt=a.stateNode.containerInfo,On=!0;break e;case 4:xt=a.stateNode.containerInfo,On=!0;break e}a=a.return}if(xt===null)throw Error(B(160));DT(i,o,s),xt=null,On=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){qe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NT(e,t),e=e.sibling}function NT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),nr(t),r&4){try{Qa(3,t,t.return),jh(3,t)}catch(x){qe(t,t.return,x)}try{Qa(5,t,t.return)}catch(x){qe(t,t.return,x)}}break;case 1:Dn(e,t),nr(t),r&512&&n!==null&&Ji(n,n.return);break;case 5:if(Dn(e,t),nr(t),r&512&&n!==null&&Ji(n,n.return),t.flags&32){var s=t.stateNode;try{hl(s,"")}catch(x){qe(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&tx(s,i),Bd(a,o);var c=Bd(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?ox(s,f):h==="dangerouslySetInnerHTML"?sx(s,f):h==="children"?hl(s,f):Nm(s,h,f,c)}switch(a){case"input":Fd(s,i);break;case"textarea":nx(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?so(s,!!i.multiple,m,!1):d!==!!i.multiple&&(i.defaultValue!=null?so(s,!!i.multiple,i.defaultValue,!0):so(s,!!i.multiple,i.multiple?[]:"",!1))}s[_l]=i}catch(x){qe(t,t.return,x)}}break;case 6:if(Dn(e,t),nr(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){qe(t,t.return,x)}}break;case 3:if(Dn(e,t),nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ml(e.containerInfo)}catch(x){qe(t,t.return,x)}break;case 4:Dn(e,t),nr(t);break;case 13:Dn(e,t),nr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(fg=Ze())),r&4&&A0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Nt=(c=Nt)||h,Dn(e,t),Nt=c):Dn(e,t),nr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(f=K=h;K!==null;){switch(d=K,m=d.child,d.tag){case 0:case 11:case 14:case 15:Qa(4,d,d.return);break;case 1:Ji(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){qe(r,n,x)}}break;case 5:Ji(d,d.return);break;case 22:if(d.memoizedState!==null){b0(f);continue}}m!==null?(m.return=d,K=m):b0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ix("display",o))}catch(x){qe(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){qe(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dn(e,t),nr(t),r&4&&A0(t);break;case 21:break;default:Dn(e,t),nr(t)}}function nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(PT(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(hl(s,""),r.flags&=-33);var i=k0(t);wp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=k0(t);vp(t,a,o);break;default:throw Error(B(161))}}catch(l){qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $I(t,e,n){K=t,VT(t)}function VT(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ju;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Nt;a=ju;var c=Nt;if(ju=o,(Nt=l)&&!c)for(K=s;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?I0(s):l!==null?(l.return=o,K=l):I0(s);for(;i!==null;)K=i,VT(i),i=i.sibling;K=s,ju=a,Nt=c}C0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):C0(t)}}function C0(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||jh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ln(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&h0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}h0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ml(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Nt||e.flags&512&&yp(e)}catch(d){qe(e,e.return,d)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function b0(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function I0(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jh(4,e)}catch(l){qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){qe(e,s,l)}}var i=e.return;try{yp(e)}catch(l){qe(e,i,l)}break;case 5:var o=e.return;try{yp(e)}catch(l){qe(e,o,l)}}}catch(l){qe(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var zI=Math.ceil,Yc=Ur.ReactCurrentDispatcher,cg=Ur.ReactCurrentOwner,Sn=Ur.ReactCurrentBatchConfig,ye=0,wt=null,it=null,At=0,un=0,Zi=Vs(0),dt=0,Al=null,_i=0,$h=0,hg=0,Ya=null,Yt=null,fg=0,xo=1/0,xr=null,Xc=!1,_p=null,gs=null,$u=!1,ls=null,Jc=0,Xa=0,Ep=null,dc=-1,pc=0;function Ut(){return ye&6?Ze():dc!==-1?dc:dc=Ze()}function ys(t){return t.mode&1?ye&2&&At!==0?At&-At:SI.transition!==null?(pc===0&&(pc=vx()),pc):(t=Se,t!==0||(t=window.event,t=t===void 0?16:kx(t.type)),t):1}function Un(t,e,n,r){if(50<Xa)throw Xa=0,Ep=null,Error(B(185));Bl(t,n,r),(!(ye&2)||t!==wt)&&(t===wt&&(!(ye&2)&&($h|=n),dt===4&&os(t,At)),tn(t,r),n===1&&ye===0&&!(e.mode&1)&&(xo=Ze()+500,Lh&&Ms()))}function tn(t,e){var n=t.callbackNode;Sb(t,e);var r=Mc(t,t===wt?At:0);if(r===0)n!==null&&Fv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fv(n),e===1)t.tag===0?TI(R0.bind(null,t)):Hx(R0.bind(null,t)),wI(function(){!(ye&6)&&Ms()}),n=null;else{switch(wx(r)){case 1:n=Fm;break;case 4:n=gx;break;case 16:n=Vc;break;case 536870912:n=yx;break;default:n=Vc}n=UT(n,MT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function MT(t,e){if(dc=-1,pc=0,ye&6)throw Error(B(327));var n=t.callbackNode;if(uo()&&t.callbackNode!==n)return null;var r=Mc(t,t===wt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zc(t,r);else{e=r;var s=ye;ye|=2;var i=OT();(wt!==t||At!==e)&&(xr=null,xo=Ze()+500,di(t,e));do try{HI();break}catch(a){LT(t,a)}while(!0);Xm(),Yc.current=i,ye=s,it!==null?e=0:(wt=null,At=0,e=dt)}if(e!==0){if(e===2&&(s=Kd(t),s!==0&&(r=s,e=xp(t,s))),e===1)throw n=Al,di(t,0),os(t,r),tn(t,Ze()),n;if(e===6)os(t,r);else{if(s=t.current.alternate,!(r&30)&&!UI(s)&&(e=Zc(t,r),e===2&&(i=Kd(t),i!==0&&(r=i,e=xp(t,i))),e===1))throw n=Al,di(t,0),os(t,r),tn(t,Ze()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ni(t,Yt,xr);break;case 3:if(os(t,r),(r&130023424)===r&&(e=fg+500-Ze(),10<e)){if(Mc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=np(ni.bind(null,t,Yt,xr),e);break}ni(t,Yt,xr);break;case 4:if(os(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-zn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zI(r/1960))-r,10<r){t.timeoutHandle=np(ni.bind(null,t,Yt,xr),r);break}ni(t,Yt,xr);break;case 5:ni(t,Yt,xr);break;default:throw Error(B(329))}}}return tn(t,Ze()),t.callbackNode===n?MT.bind(null,t):null}function xp(t,e){var n=Ya;return t.current.memoizedState.isDehydrated&&(di(t,e).flags|=256),t=Zc(t,e),t!==2&&(e=Yt,Yt=n,e!==null&&Tp(e)),t}function Tp(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function UI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function os(t,e){for(e&=~hg,e&=~$h,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function R0(t){if(ye&6)throw Error(B(327));uo();var e=Mc(t,0);if(!(e&1))return tn(t,Ze()),null;var n=Zc(t,e);if(t.tag!==0&&n===2){var r=Kd(t);r!==0&&(e=r,n=xp(t,r))}if(n===1)throw n=Al,di(t,0),os(t,e),tn(t,Ze()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ni(t,Yt,xr),tn(t,Ze()),null}function dg(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(xo=Ze()+500,Lh&&Ms())}}function Ei(t){ls!==null&&ls.tag===0&&!(ye&6)&&uo();var e=ye;ye|=1;var n=Sn.transition,r=Se;try{if(Sn.transition=null,Se=1,t)return t()}finally{Se=r,Sn.transition=n,ye=e,!(ye&6)&&Ms()}}function pg(){un=Zi.current,Me(Zi)}function di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vI(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(Km(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$c();break;case 3:_o(),Me(Zt),Me(Lt),rg();break;case 5:ng(r);break;case 4:_o();break;case 13:Me(Fe);break;case 19:Me(Fe);break;case 10:Jm(r.type._context);break;case 22:case 23:pg()}n=n.return}if(wt=t,it=t=vs(t.current,null),At=un=e,dt=0,Al=null,hg=$h=_i=0,Yt=Ya=null,li!==null){for(e=0;e<li.length;e++)if(n=li[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}li=null}return t}function LT(t,e){do{var n=it;try{if(Xm(),cc.current=Qc,Kc){for(var r=$e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Kc=!1}if(wi=0,vt=ft=$e=null,Ka=!1,Tl=0,cg.current=null,n===null||n.return===null){dt=1,Al=e,it=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=y0(o);if(m!==null){m.flags&=-257,v0(m,o,a,i,e),m.mode&1&&g0(i,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){g0(i,c,e),mg();break e}l=Error(B(426))}}else if(Le&&a.mode&1){var k=y0(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),v0(k,o,a,i,e),Qm(Eo(l,a));break e}}i=l=Eo(l,a),dt!==4&&(dt=2),Ya===null?Ya=[i]:Ya.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=wT(i,l,e);c0(i,w);break e;case 1:a=l;var _=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(gs===null||!gs.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=_T(i,a,e);c0(i,P);break e}}i=i.return}while(i!==null)}jT(n)}catch(V){e=V,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function OT(){var t=Yc.current;return Yc.current=Qc,t===null?Qc:t}function mg(){(dt===0||dt===3||dt===2)&&(dt=4),wt===null||!(_i&268435455)&&!($h&268435455)||os(wt,At)}function Zc(t,e){var n=ye;ye|=2;var r=OT();(wt!==t||At!==e)&&(xr=null,di(t,e));do try{BI();break}catch(s){LT(t,s)}while(!0);if(Xm(),ye=n,Yc.current=r,it!==null)throw Error(B(261));return wt=null,At=0,dt}function BI(){for(;it!==null;)FT(it)}function HI(){for(;it!==null&&!mb();)FT(it)}function FT(t){var e=zT(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?jT(t):it=e,cg.current=null}function jT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OI(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,it=null;return}}else if(n=LI(n,e,un),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);dt===0&&(dt=5)}function ni(t,e,n){var r=Se,s=Sn.transition;try{Sn.transition=null,Se=1,WI(t,e,n,r)}finally{Sn.transition=s,Se=r}return null}function WI(t,e,n,r){do uo();while(ls!==null);if(ye&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(kb(t,i),t===wt&&(it=wt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$u||($u=!0,UT(Vc,function(){return uo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Sn.transition,Sn.transition=null;var o=Se;Se=1;var a=ye;ye|=4,cg.current=null,jI(t,n),NT(n,t),hI(ep),Lc=!!Zd,ep=Zd=null,t.current=n,$I(n),gb(),ye=a,Se=o,Sn.transition=i}else t.current=n;if($u&&($u=!1,ls=t,Jc=s),i=t.pendingLanes,i===0&&(gs=null),wb(n.stateNode),tn(t,Ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xc)throw Xc=!1,t=_p,_p=null,t;return Jc&1&&t.tag!==0&&uo(),i=t.pendingLanes,i&1?t===Ep?Xa++:(Xa=0,Ep=t):Xa=0,Ms(),null}function uo(){if(ls!==null){var t=wx(Jc),e=Sn.transition,n=Se;try{if(Sn.transition=null,Se=16>t?16:t,ls===null)var r=!1;else{if(t=ls,ls=null,Jc=0,ye&6)throw Error(B(331));var s=ye;for(ye|=4,K=t.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(K=c;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:Qa(8,h,i)}var f=h.child;if(f!==null)f.return=h,K=f;else for(;K!==null;){h=K;var d=h.sibling,m=h.return;if(RT(h),h===c){K=null;break}if(d!==null){d.return=m,K=d;break}K=m}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qa(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,K=w;break e}K=i.return}}var _=t.current;for(K=_;K!==null;){o=K;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,K=E;else e:for(o=_;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jh(9,a)}}catch(V){qe(a,a.return,V)}if(a===o){K=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,K=P;break e}K=a.return}}if(ye=s,Ms(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(Ph,t)}catch{}r=!0}return r}finally{Se=n,Sn.transition=e}}return!1}function P0(t,e,n){e=Eo(n,e),e=wT(t,e,1),t=ms(t,e,1),e=Ut(),t!==null&&(Bl(t,1,e),tn(t,e))}function qe(t,e,n){if(t.tag===3)P0(t,t,n);else for(;e!==null;){if(e.tag===3){P0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gs===null||!gs.has(r))){t=Eo(n,t),t=_T(e,t,1),e=ms(e,t,1),t=Ut(),e!==null&&(Bl(e,1,t),tn(e,t));break}}e=e.return}}function GI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(At&n)===n&&(dt===4||dt===3&&(At&130023424)===At&&500>Ze()-fg?di(t,0):hg|=n),tn(t,e)}function $T(t,e){e===0&&(t.mode&1?(e=Ru,Ru<<=1,!(Ru&130023424)&&(Ru=4194304)):e=1);var n=Ut();t=Nr(t,e),t!==null&&(Bl(t,e,n),tn(t,n))}function qI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$T(t,n)}function KI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),$T(t,n)}var zT;zT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,MI(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,Le&&e.flags&1048576&&Wx(e,Bc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fc(t,e),t=e.pendingProps;var s=yo(e,Lt.current);lo(e,n),s=ig(null,e,r,t,s,n);var i=og();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(r)?(i=!0,zc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,eg(e),s.updater=Fh,e.stateNode=s,s._reactInternals=e,up(e,r,t,n),e=fp(null,e,r,!0,i,n)):(e.tag=0,Le&&i&&qm(e),Ft(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=YI(r),t=Ln(r,t),s){case 0:e=hp(null,e,r,t,n);break e;case 1:e=E0(null,e,r,t,n);break e;case 11:e=w0(null,e,r,t,n);break e;case 14:e=_0(null,e,r,Ln(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ln(r,s),hp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ln(r,s),E0(t,e,r,s,n);case 3:e:{if(ST(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Xx(t,e),Gc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Eo(Error(B(423)),e),e=x0(t,e,r,n,s);break e}else if(r!==s){s=Eo(Error(B(424)),e),e=x0(t,e,r,n,s);break e}else for(cn=ps(e.stateNode.containerInfo.firstChild),fn=e,Le=!0,Fn=null,n=Qx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vo(),r===s){e=Vr(t,e,n);break e}Ft(t,e,r,n)}e=e.child}return e;case 5:return Jx(e),t===null&&op(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,tp(r,s)?o=null:i!==null&&tp(r,i)&&(e.flags|=32),TT(t,e),Ft(t,e,o,n),e.child;case 6:return t===null&&op(e),null;case 13:return kT(t,e,n);case 4:return tg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wo(e,null,r,n):Ft(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ln(r,s),w0(t,e,r,s,n);case 7:return Ft(t,e,e.pendingProps,n),e.child;case 8:return Ft(t,e,e.pendingProps.children,n),e.child;case 12:return Ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Re(Hc,r._currentValue),r._currentValue=o,i!==null)if(Wn(i.value,o)){if(i.children===s.children&&!Zt.current){e=Vr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Cr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ap(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ap(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ft(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,lo(e,n),s=An(s),r=r(s),e.flags|=1,Ft(t,e,r,n),e.child;case 14:return r=e.type,s=Ln(r,e.pendingProps),s=Ln(r.type,s),_0(t,e,r,s,n);case 15:return ET(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ln(r,s),fc(t,e),e.tag=1,en(r)?(t=!0,zc(e)):t=!1,lo(e,n),vT(e,r,s),up(e,r,s,n),fp(null,e,r,!0,t,n);case 19:return AT(t,e,n);case 22:return xT(t,e,n)}throw Error(B(156,e.tag))};function UT(t,e){return mx(t,e)}function QI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,n,r){return new QI(t,e,n,r)}function gg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YI(t){if(typeof t=="function")return gg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mm)return 11;if(t===Lm)return 14}return 2}function vs(t,e){var n=t.alternate;return n===null?(n=xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")gg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bi:return pi(n.children,s,i,e);case Vm:o=8,s|=8;break;case Nd:return t=xn(12,n,e,s|2),t.elementType=Nd,t.lanes=i,t;case Vd:return t=xn(13,n,e,s),t.elementType=Vd,t.lanes=i,t;case Md:return t=xn(19,n,e,s),t.elementType=Md,t.lanes=i,t;case JE:return zh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case YE:o=10;break e;case XE:o=9;break e;case Mm:o=11;break e;case Lm:o=14;break e;case rs:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=xn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function pi(t,e,n,r){return t=xn(7,t,r,e),t.lanes=n,t}function zh(t,e,n,r){return t=xn(22,t,r,e),t.elementType=JE,t.lanes=n,t.stateNode={isHidden:!1},t}function Gf(t,e,n){return t=xn(6,t,null,e),t.lanes=n,t}function qf(t,e,n){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XI(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yg(t,e,n,r,s,i,o,a,l){return t=new XI(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=xn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eg(i),t}function JI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BT(t){if(!t)return Ss;t=t._reactInternals;e:{if(Ai(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(en(n))return Bx(t,n,e)}return e}function HT(t,e,n,r,s,i,o,a,l){return t=yg(n,r,!0,t,s,i,o,a,l),t.context=BT(null),n=t.current,r=Ut(),s=ys(n),i=Cr(r,s),i.callback=e??null,ms(n,i,s),t.current.lanes=s,Bl(t,s,r),tn(t,r),t}function Uh(t,e,n,r){var s=e.current,i=Ut(),o=ys(s);return n=BT(n),e.context===null?e.context=n:e.pendingContext=n,e=Cr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ms(s,e,o),t!==null&&(Un(t,s,o,i),uc(t,s,o)),o}function eh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function D0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vg(t,e){D0(t,e),(t=t.alternate)&&D0(t,e)}function ZI(){return null}var WT=typeof reportError=="function"?reportError:function(t){console.error(t)};function wg(t){this._internalRoot=t}Bh.prototype.render=wg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Uh(t,e,null,null)};Bh.prototype.unmount=wg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ei(function(){Uh(null,t,null,null)}),e[Dr]=null}};function Bh(t){this._internalRoot=t}Bh.prototype.unstable_scheduleHydration=function(t){if(t){var e=xx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<is.length&&e!==0&&e<is[n].priority;n++);is.splice(n,0,t),n===0&&Sx(t)}};function _g(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function N0(){}function eR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=eh(o);i.call(c)}}var o=HT(e,r,t,0,null,!1,!1,"",N0);return t._reactRootContainer=o,t[Dr]=o.current,vl(t.nodeType===8?t.parentNode:t),Ei(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=eh(l);a.call(c)}}var l=yg(t,0,!1,null,null,!1,!1,"",N0);return t._reactRootContainer=l,t[Dr]=l.current,vl(t.nodeType===8?t.parentNode:t),Ei(function(){Uh(e,l,n,r)}),l}function Wh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=eh(o);a.call(l)}}Uh(e,o,t,s)}else o=eR(n,e,t,s,r);return eh(o)}_x=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Va(e.pendingLanes);n!==0&&(jm(e,n|1),tn(e,Ze()),!(ye&6)&&(xo=Ze()+500,Ms()))}break;case 13:Ei(function(){var r=Nr(t,1);if(r!==null){var s=Ut();Un(r,t,1,s)}}),vg(t,1)}};$m=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var n=Ut();Un(e,t,134217728,n)}vg(t,134217728)}};Ex=function(t){if(t.tag===13){var e=ys(t),n=Nr(t,e);if(n!==null){var r=Ut();Un(n,t,e,r)}vg(t,e)}};xx=function(){return Se};Tx=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};Wd=function(t,e,n){switch(e){case"input":if(Fd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Mh(r);if(!s)throw Error(B(90));ex(r),Fd(r,s)}}}break;case"textarea":nx(t,n);break;case"select":e=n.value,e!=null&&so(t,!!n.multiple,e,!1)}};ux=dg;cx=Ei;var tR={usingClientEntryPoint:!1,Events:[Wl,qi,Mh,ax,lx,dg]},_a={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nR={bundleType:_a.bundleType,version:_a.version,rendererPackageName:_a.rendererPackageName,rendererConfig:_a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dx(t),t===null?null:t.stateNode},findFiberByHostInstance:_a.findFiberByHostInstance||ZI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Ph=zu.inject(nR),ar=zu}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tR;pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_g(e))throw Error(B(200));return JI(t,e,null,n)};pn.createRoot=function(t,e){if(!_g(t))throw Error(B(299));var n=!1,r="",s=WT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=yg(t,1,!1,null,null,n,!1,r,s),t[Dr]=e.current,vl(t.nodeType===8?t.parentNode:t),new wg(e)};pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=dx(e),t=t===null?null:t.stateNode,t};pn.flushSync=function(t){return Ei(t)};pn.hydrate=function(t,e,n){if(!Hh(e))throw Error(B(200));return Wh(null,t,e,!0,n)};pn.hydrateRoot=function(t,e,n){if(!_g(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=WT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=HT(e,null,t,1,n??null,s,!1,i,o),t[Dr]=e.current,vl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Bh(e)};pn.render=function(t,e,n){if(!Hh(e))throw Error(B(200));return Wh(null,t,e,!1,n)};pn.unmountComponentAtNode=function(t){if(!Hh(t))throw Error(B(40));return t._reactRootContainer?(Ei(function(){Wh(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1};pn.unstable_batchedUpdates=dg;pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hh(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Wh(t,e,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function GT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GT)}catch(t){console.error(t)}}GT(),GE.exports=pn;var rR=GE.exports,V0=rR;Pd.createRoot=V0.createRoot,Pd.hydrateRoot=V0.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var M0="popstate";function sR(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Sp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Cl(s)}return oR(e,n,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iR(){return Math.random().toString(36).substring(2,10)}function L0(t,e){return{usr:t.state,key:t.key,idx:e}}function Sp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vo(e):e,state:n,key:e&&e.key||r||iR()}}function Cl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function oR(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let k=h(),w=k==null?null:k-c;c=k,l&&l({action:a,location:x.location,delta:w})}function d(k,w){a="PUSH";let _=Sp(x.location,k,w);c=h()+1;let E=L0(_,c),P=x.createHref(_);try{o.pushState(E,"",P)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(P)}i&&l&&l({action:a,location:x.location,delta:1})}function m(k,w){a="REPLACE";let _=Sp(x.location,k,w);c=h();let E=L0(_,c),P=x.createHref(_);o.replaceState(E,"",P),i&&l&&l({action:a,location:x.location,delta:0})}function y(k){return aR(k)}let x={get action(){return a},get location(){return t(s,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(M0,f),l=k,()=>{s.removeEventListener(M0,f),l=null}},createHref(k){return e(s,k)},createURL:y,encodeLocation(k){let w=y(k);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:m,go(k){return o.go(k)}};return x}function aR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ze(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Cl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function qT(t,e,n="/"){return lR(t,e,n,!1)}function lR(t,e,n,r){let s=typeof e=="string"?Vo(e):e,i=Mr(s.pathname||"/",n);if(i==null)return null;let o=KT(t);uR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=_R(i);a=vR(o[l],c,r)}return a}function KT(t,e=[],n=[],r="",s=!1){let i=(o,a,l=s,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&l)return;ze(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let f=br([r,h.relativePath]),d=n.concat(h);o.children&&o.children.length>0&&(ze(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),KT(o.children,e,d,f,l)),!(o.path==null&&!o.index)&&e.push({path:f,score:gR(f,o.index),routesMeta:d})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of QT(o.path))i(o,a,!0,c)}),e}function QT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=QT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function uR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cR=/^:[\w-]+$/,hR=3,fR=2,dR=1,pR=10,mR=-2,O0=t=>t==="*";function gR(t,e){let n=t.split("/"),r=n.length;return n.some(O0)&&(r+=mR),e&&(r+=fR),n.filter(s=>!O0(s)).reduce((s,i)=>s+(cR.test(i)?hR:i===""?dR:pR),r)}function yR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function vR(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=th({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),d=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=th({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:br([i,f.pathname]),pathnameBase:SR(br([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=br([i,f.pathnameBase]))}return o}function th(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:f},d)=>{if(h==="*"){let y=a[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return f&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function wR(t,e=!1,n=!0){Gn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function _R(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var ER=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function xR(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Vo(t):t,i;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?i=F0(n.substring(1),"/"):i=F0(n,e)):i=e,{pathname:i,search:kR(r),hash:AR(s)}}function F0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Kf(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function YT(t){let e=TR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function XT(t,e,n,r=!1){let s;typeof t=="string"?s=Vo(t):(s={...t},ze(!s.pathname||!s.pathname.includes("?"),Kf("?","pathname","search",s)),ze(!s.pathname||!s.pathname.includes("#"),Kf("#","pathname","hash",s)),ze(!s.search||!s.search.includes("#"),Kf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;s.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=xR(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var br=t=>t.join("/").replace(/\/\/+/g,"/"),SR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,CR=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function bR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function IR(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var JT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ZT(t,e){let n=t;if(typeof n!="string"||!ER.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(JT)try{let i=new URL(window.location.href),o=n.startsWith("//")?new URL(i.protocol+n):new URL(n),a=Mr(o.pathname,e);o.origin===i.origin&&a!=null?n=a+o.search+o.hash:s=!0}catch{Gn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var e1=["POST","PUT","PATCH","DELETE"];new Set(e1);var RR=["GET",...e1];new Set(RR);var Mo=D.createContext(null);Mo.displayName="DataRouter";var Gh=D.createContext(null);Gh.displayName="DataRouterState";var PR=D.createContext(!1),t1=D.createContext({isTransitioning:!1});t1.displayName="ViewTransition";var DR=D.createContext(new Map);DR.displayName="Fetchers";var NR=D.createContext(null);NR.displayName="Await";var In=D.createContext(null);In.displayName="Navigation";var ql=D.createContext(null);ql.displayName="Location";var mr=D.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var Eg=D.createContext(null);Eg.displayName="RouteError";var n1="REACT_ROUTER_ERROR",VR="REDIRECT",MR="ROUTE_ERROR_RESPONSE";function LR(t){if(t.startsWith(`${n1}:${VR}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function OR(t){if(t.startsWith(`${n1}:${MR}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new CR(e.status,e.statusText,e.data)}catch{}}function FR(t,{relative:e}={}){ze(Kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(In),{hash:s,pathname:i,search:o}=Ql(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:br([n,i])),r.createHref({pathname:a,search:o,hash:s})}function Kl(){return D.useContext(ql)!=null}function Ls(){return ze(Kl(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(ql).location}var r1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function s1(t){D.useContext(In).static||D.useLayoutEffect(t)}function Lo(){let{isDataRoute:t}=D.useContext(mr);return t?XR():jR()}function jR(){ze(Kl(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Mo),{basename:e,navigator:n}=D.useContext(In),{matches:r}=D.useContext(mr),{pathname:s}=Ls(),i=JSON.stringify(YT(r)),o=D.useRef(!1);return s1(()=>{o.current=!0}),D.useCallback((l,c={})=>{if(Gn(o.current,r1),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=XT(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:br([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,i,s,t])}D.createContext(null);function i1(){let{matches:t}=D.useContext(mr),e=t[t.length-1];return e?e.params:{}}function Ql(t,{relative:e}={}){let{matches:n}=D.useContext(mr),{pathname:r}=Ls(),s=JSON.stringify(YT(n));return D.useMemo(()=>XT(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function $R(t,e){return o1(t,e)}function o1(t,e,n,r,s){var _;ze(Kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=D.useContext(In),{matches:o}=D.useContext(mr),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let E=f&&f.path||"";l1(c,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let d=Ls(),m;if(e){let E=typeof e=="string"?Vo(e):e;ze(h==="/"||((_=E.pathname)==null?void 0:_.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),m=E}else m=d;let y=m.pathname||"/",x=y;if(h!=="/"){let E=h.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=qT(t,{pathname:x});Gn(f||k!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Gn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=WR(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:br([h,i.encodeLocation?i.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:br([h,i.encodeLocation?i.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,n,r,s);return e&&w?D.createElement(ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function zR(){let t=YR(),e=bR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:i},"ErrorBoundary")," or"," ",D.createElement("code",{style:i},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:s},n):null,o)}var UR=D.createElement(zR,null),a1=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=OR(t.digest);n&&(t=n)}let e=t!==void 0?D.createElement(mr.Provider,{value:this.props.routeContext},D.createElement(Eg.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?D.createElement(BR,{error:t},e):e}};a1.contextType=PR;var Qf=new WeakMap;function BR({children:t,error:e}){let{basename:n}=D.useContext(In);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=LR(e.digest);if(r){let s=Qf.get(e);if(s)throw s;let i=ZT(r.location,n);if(JT&&!Qf.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw Qf.set(e,o),o}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function HR({routeContext:t,match:e,children:n}){let r=D.useContext(Mo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(mr.Provider,{value:t},n)}function WR(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let h=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);ze(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let a=!1,l=-1;if(n)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=h),f.route.id){let{loaderData:d,errors:m}=n,y=f.route.loader&&!d.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}let c=n&&r?(h,f)=>{var d,m;r(h,{location:n.location,params:((m=(d=n.matches)==null?void 0:d[0])==null?void 0:m.params)??{},unstable_pattern:IR(n.matches),errorInfo:f})}:void 0;return i.reduceRight((h,f,d)=>{let m,y=!1,x=null,k=null;n&&(m=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||UR,a&&(l<0&&d===0?(l1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,k=null):l===d&&(y=!0,k=f.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,d+1)),_=()=>{let E;return m?E=x:y?E=k:f.route.Component?E=D.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,D.createElement(HR,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?D.createElement(a1,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:c}):_()},null)}function xg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GR(t){let e=D.useContext(Mo);return ze(e,xg(t)),e}function qR(t){let e=D.useContext(Gh);return ze(e,xg(t)),e}function KR(t){let e=D.useContext(mr);return ze(e,xg(t)),e}function Tg(t){let e=KR(t),n=e.matches[e.matches.length-1];return ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function QR(){return Tg("useRouteId")}function YR(){var r;let t=D.useContext(Eg),e=qR("useRouteError"),n=Tg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function XR(){let{router:t}=GR("useNavigate"),e=Tg("useNavigate"),n=D.useRef(!1);return s1(()=>{n.current=!0}),D.useCallback(async(s,i={})=>{Gn(n.current,r1),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var j0={};function l1(t,e,n){!e&&!j0[t]&&(j0[t]=!0,Gn(!1,n))}D.memo(JR);function JR({routes:t,future:e,state:n,onError:r}){return o1(t,void 0,n,r,e)}function ri(t){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1,unstable_useTransitions:o}){ze(!Kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=D.useMemo(()=>({basename:a,navigator:s,static:i,unstable_useTransitions:o,future:{}}),[a,s,i,o]);typeof n=="string"&&(n=Vo(n));let{pathname:c="/",search:h="",hash:f="",state:d=null,key:m="default"}=n,y=D.useMemo(()=>{let x=Mr(c,a);return x==null?null:{location:{pathname:x,search:h,hash:f,state:d,key:m},navigationType:r}},[a,c,h,f,d,m,r]);return Gn(y!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:D.createElement(In.Provider,{value:l},D.createElement(ql.Provider,{children:e,value:y}))}function eP({children:t,location:e}){return $R(kp(t),e)}function kp(t,e=[]){let n=[];return D.Children.forEach(t,(r,s)=>{if(!D.isValidElement(r))return;let i=[...e,s];if(r.type===D.Fragment){n.push.apply(n,kp(r.props.children,i));return}ze(r.type===ri,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kp(r.props.children,i)),n.push(o)}),n}var gc="get",yc="application/x-www-form-urlencoded";function qh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function tP(t){return qh(t)&&t.tagName.toLowerCase()==="button"}function nP(t){return qh(t)&&t.tagName.toLowerCase()==="form"}function rP(t){return qh(t)&&t.tagName.toLowerCase()==="input"}function sP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iP(t,e){return t.button===0&&(!e||e==="_self")&&!sP(t)}function Ap(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function oP(t,e){let n=Ap(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}var Uu=null;function aP(){if(Uu===null)try{new FormData(document.createElement("form"),0),Uu=!1}catch{Uu=!0}return Uu}var lP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yf(t){return t!=null&&!lP.has(t)?(Gn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yc}"`),null):t}function uP(t,e){let n,r,s,i,o;if(nP(t)){let a=t.getAttribute("action");r=a?Mr(a,e):null,n=t.getAttribute("method")||gc,s=Yf(t.getAttribute("enctype"))||yc,i=new FormData(t)}else if(tP(t)||rP(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Mr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||gc,s=Yf(t.getAttribute("formenctype"))||Yf(a.getAttribute("enctype"))||yc,i=new FormData(a,t),!aP()){let{name:c,type:h,value:f}=t;if(h==="image"){let d=c?`${c}.`:"";i.append(`${d}x`,"0"),i.append(`${d}y`,"0")}else c&&i.append(c,f)}}else{if(qh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gc,r=null,s=yc,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cP(t,e,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&Mr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function hP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function dP(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await hP(i,n);return o.links?o.links():[]}return[]}));return yP(r.flat(1).filter(fP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function $0(t,e,n,r,s,i){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var h;return n[c].pathname!==l.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):i==="data"?e.filter((l,c)=>{var f;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function pP(t,e,{includeHydrateFallback:n}={}){return mP(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function mP(t){return[...new Set(t)]}function gP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function yP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(gP(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function u1(){let t=D.useContext(Mo);return Sg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function vP(){let t=D.useContext(Gh);return Sg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var kg=D.createContext(void 0);kg.displayName="FrameworkContext";function c1(){let t=D.useContext(kg);return Sg(t,"You must render this element inside a <HydratedRouter> element"),t}function wP(t,e){let n=D.useContext(kg),[r,s]=D.useState(!1),[i,o]=D.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=e,d=D.useRef(null);D.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=w=>{w.forEach(_=>{o(_.isIntersecting)})},k=new IntersectionObserver(x,{threshold:.5});return d.current&&k.observe(d.current),()=>{k.disconnect()}}},[t]),D.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let m=()=>{s(!0)},y=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,d,{}]:[i,d,{onFocus:Ea(a,m),onBlur:Ea(l,y),onMouseEnter:Ea(c,m),onMouseLeave:Ea(h,y),onTouchStart:Ea(f,m)}]:[!1,d,{}]}function Ea(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _P({page:t,...e}){let{router:n}=u1(),r=D.useMemo(()=>qT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?D.createElement(xP,{page:t,matches:r,...e}):null}function EP(t){let{manifest:e,routeModules:n}=c1(),[r,s]=D.useState([]);return D.useEffect(()=>{let i=!1;return dP(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function xP({page:t,matches:e,...n}){let r=Ls(),{future:s,manifest:i,routeModules:o}=c1(),{basename:a}=u1(),{loaderData:l,matches:c}=vP(),h=D.useMemo(()=>$0(t,e,c,i,r,"data"),[t,e,c,i,r]),f=D.useMemo(()=>$0(t,e,c,i,r,"assets"),[t,e,c,i,r]),d=D.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,k=!1;if(e.forEach(_=>{var P;let E=i.routes[_.route.id];!E||!E.hasLoader||(!h.some(V=>V.route.id===_.route.id)&&_.route.id in l&&((P=o[_.route.id])!=null&&P.shouldRevalidate)||E.hasClientLoader?k=!0:x.add(_.route.id))}),x.size===0)return[];let w=cP(t,a,s.unstable_trailingSlashAwareDataRequests,"data");return k&&x.size>0&&w.searchParams.set("_routes",e.filter(_=>x.has(_.route.id)).map(_=>_.route.id).join(",")),[w.pathname+w.search]},[a,s.unstable_trailingSlashAwareDataRequests,l,r,i,h,e,t,o]),m=D.useMemo(()=>pP(f,i),[f,i]),y=EP(f);return D.createElement(D.Fragment,null,d.map(x=>D.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),m.map(x=>D.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:k})=>D.createElement("link",{key:x,nonce:n.nonce,...k,crossOrigin:k.crossOrigin??n.crossOrigin})))}function TP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var SP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SP&&(window.__reactRouterVersion="7.13.0")}catch{}function kP({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=D.useRef();s.current==null&&(s.current=sR({window:r,v5Compat:!0}));let i=s.current,[o,a]=D.useState({action:i.action,location:i.location}),l=D.useCallback(c=>{n===!1?a(c):D.startTransition(()=>a(c))},[n]);return D.useLayoutEffect(()=>i.listen(l),[i,l]),D.createElement(ZR,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:n})}var h1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_n=D.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:d,...m},y){let{basename:x,unstable_useTransitions:k}=D.useContext(In),w=typeof c=="string"&&h1.test(c),_=ZT(c,x);c=_.to;let E=FR(c,{relative:s}),[P,V,F]=wP(r,m),S=IP(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f,unstable_defaultShouldRevalidate:d,unstable_useTransitions:k});function v(b){e&&e(b),b.defaultPrevented||S(b)}let C=D.createElement("a",{...m,...F,href:_.absoluteURL||E,onClick:_.isExternal||i?e:v,ref:TP(y,V),target:l,"data-discover":!w&&n==="render"?"true":void 0});return P&&!w?D.createElement(D.Fragment,null,C,D.createElement(_P,{page:E})):C});_n.displayName="Link";var AP=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...c},h){let f=Ql(o,{relative:c.relative}),d=Ls(),m=D.useContext(Gh),{navigator:y,basename:x}=D.useContext(In),k=m!=null&&VP(f)&&a===!0,w=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,_=d.pathname,E=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(_=_.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&x&&(E=Mr(E,x)||E);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let V=_===w||!s&&_.startsWith(w)&&_.charAt(P)==="/",F=E!=null&&(E===w||!s&&E.startsWith(w)&&E.charAt(w.length)==="/"),S={isActive:V,isPending:F,isTransitioning:k},v=V?e:void 0,C;typeof r=="function"?C=r(S):C=[r,V?"active":null,F?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let b=typeof i=="function"?i(S):i;return D.createElement(_n,{...c,"aria-current":v,className:C,ref:h,style:b,to:o,viewTransition:a},typeof l=="function"?l(S):l)});AP.displayName="NavLink";var CP=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=gc,action:a,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:d,...m},y)=>{let{unstable_useTransitions:x}=D.useContext(In),k=DP(),w=NP(a,{relative:c}),_=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&h1.test(a),P=V=>{if(l&&l(V),V.defaultPrevented)return;V.preventDefault();let F=V.nativeEvent.submitter,S=(F==null?void 0:F.getAttribute("formmethod"))||o,v=()=>k(F||V.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:s,state:i,relative:c,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:d});x&&n!==!1?D.startTransition(()=>v()):v()};return D.createElement("form",{ref:y,method:_,action:w,onSubmit:r?l:P,...m,"data-discover":!E&&t==="render"?"true":void 0})});CP.displayName="Form";function bP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f1(t){let e=D.useContext(Mo);return ze(e,bP(t)),e}function IP(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:a,unstable_useTransitions:l}={}){let c=Lo(),h=Ls(),f=Ql(t,{relative:i});return D.useCallback(d=>{if(iP(d,e)){d.preventDefault();let m=n!==void 0?n:Cl(h)===Cl(f),y=()=>c(t,{replace:m,state:r,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:a});l?D.startTransition(()=>y()):y()}},[h,c,f,n,r,e,t,s,i,o,a,l])}function d1(t){Gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(Ap(t)),n=D.useRef(!1),r=Ls(),s=D.useMemo(()=>oP(r.search,n.current?null:e.current),[r.search]),i=Lo(),o=D.useCallback((a,l)=>{const c=Ap(typeof a=="function"?a(new URLSearchParams(s)):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}var RP=0,PP=()=>`__${String(++RP)}__`;function DP(){let{router:t}=f1("useSubmit"),{basename:e}=D.useContext(In),n=QR(),r=t.fetch,s=t.navigate;return D.useCallback(async(i,o={})=>{let{action:a,method:l,encType:c,formData:h,body:f}=uP(i,e);if(o.navigate===!1){let d=o.fetcherKey||PP();await r(d,n,o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||l,formEncType:o.encType||c,flushSync:o.flushSync})}else await s(o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||l,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,s,e,n])}function NP(t,{relative:e}={}){let{basename:n}=D.useContext(In),r=D.useContext(mr);ze(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Ql(t||".",{relative:e})},o=Ls();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:br([n,i.pathname])),Cl(i)}function VP(t,{relative:e}={}){let n=D.useContext(t1);ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=f1("useViewTransitionState"),s=Ql(t,{relative:e});if(!n.isTransitioning)return!1;let i=Mr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Mr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return th(s.pathname,o)!=null||th(s.pathname,i)!=null}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=t=>{const e=LP(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>D.createElement("svg",{ref:l,...OP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:p1("lucide",s),...!i&&!FP(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,h])=>D.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(t,e)=>{const n=D.forwardRef(({className:r,...s},i)=>D.createElement(jP,{ref:i,iconNode:e,className:p1(`lucide-${MP(z0(t))}`,`lucide-${t}`,r),...s}));return n.displayName=z0(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zP=Oe("arrow-left",$P);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],BP=Oe("arrow-right",UP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],WP=Oe("calendar",HP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qP=Oe("chevron-down",GP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],QP=Oe("chevron-right",KP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],XP=Oe("circle-alert",YP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],U0=Oe("clock",JP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],e2=Oe("file-text",ZP);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],n2=Oe("flag",t2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],s2=Oe("folder-open",r2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],o2=Oe("folder",i2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],l2=Oe("funnel",a2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],c2=Oe("git-merge",u2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],f2=Oe("layers",h2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],To=Oe("loader-circle",d2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],m2=Oe("menu",p2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],B0=Oe("plus",g2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],v2=Oe("save",y2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],m1=Oe("search",w2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],E2=Oe("square-pen",_2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],T2=Oe("tag",x2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],k2=Oe("trash-2",S2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vc=Oe("user",A2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],b2=Oe("x",C2),H0=t=>{let e;const n=new Set,r=(c,h)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const d=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,d))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,s,a);return a},I2=t=>t?H0(t):H0,R2=t=>t;function P2(t,e=R2){const n=oi.useSyncExternalStore(t.subscribe,oi.useCallback(()=>e(t.getState()),[t,e]),oi.useCallback(()=>e(t.getInitialState()),[t,e]));return oi.useDebugValue(n),n}const W0=t=>{const e=I2(t),n=r=>P2(e,r);return Object.assign(n,e),n},D2=t=>t?W0(t):W0;function N2(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Cp=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Cp(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Cp(r)(n)}}}},V2=(t,e)=>(n,r,s)=>{let i={storage:N2(()=>window.localStorage),partialize:k=>k,version:0,merge:(k,w)=>({...w,...k}),...e},o=!1,a=0;const l=new Set,c=new Set;let h=i.storage;if(!h)return t((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...k)},r,s);const f=()=>{const k=i.partialize({...r()});return h.setItem(i.name,{state:k,version:i.version})},d=s.setState;s.setState=(k,w)=>(d(k,w),f());const m=t((...k)=>(n(...k),f()),r,s);s.getInitialState=()=>m;let y;const x=()=>{var k,w;if(!h)return;const _=++a;o=!1,l.forEach(P=>{var V;return P((V=r())!=null?V:m)});const E=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(k=r())!=null?k:m))||void 0;return Cp(h.getItem.bind(h))(i.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==i.version){if(i.migrate){const V=i.migrate(P.state,P.version);return V instanceof Promise?V.then(F=>[!0,F]):[!0,V]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var V;if(_!==a)return;const[F,S]=P;if(y=i.merge(S,(V=r())!=null?V:m),n(y,!0),F)return f()}).then(()=>{_===a&&(E==null||E(y,void 0),y=r(),o=!0,c.forEach(P=>P(y)))}).catch(P=>{_===a&&(E==null||E(void 0,P))})};return s.persist={setOptions:k=>{i={...i,...k},k.storage&&(h=k.storage)},clearStorage:()=>{h==null||h.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:k=>(l.add(k),()=>{l.delete(k)}),onFinishHydration:k=>(c.add(k),()=>{c.delete(k)})},i.skipHydration||x(),y||m},M2=V2,Ag=D2(M2(t=>({currentAuthor:null,login:e=>t({currentAuthor:e}),logout:()=>t({currentAuthor:null})}),{name:"solar-wars-storage"}));function L2(){const[t,e]=D.useState(""),n=Lo(),{currentAuthor:r,login:s,logout:i}=Ag(),[o,a]=D.useState(!1),[l,c]=D.useState(""),[h,f]=D.useState(!1),d=y=>{y.preventDefault(),t.trim()&&(n(`/search?q=${encodeURIComponent(t)}`),e(""),f(!1))},m=y=>{y.preventDefault(),l.trim()&&(s(l.trim()),a(!1),c(""))};return A.jsxs("nav",{className:"sticky top-0 z-50 w-full border-b border-white/10 bg-bg-card/90 backdrop-blur-md",children:[A.jsxs("div",{className:"mx-auto flex h-16 max-w-7xl items-center justify-between px-4",children:[A.jsx(_n,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary transition-transform hover:scale-105",children:A.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Solar Wars Wiki"})}),A.jsx("div",{className:"hidden flex-1 items-center justify-center px-8 md:flex",children:A.jsxs("form",{onSubmit:d,className:"relative w-full max-w-md",children:[A.jsx("input",{type:"text",placeholder:"Search the archives...",value:t,onChange:y=>e(y.target.value),className:"w-full rounded-full border border-white/10 bg-bg-dark py-2 pl-4 pr-10 text-sm text-slate-100 placeholder:text-slate-500 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"}),A.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-primary",children:A.jsx(m1,{size:18})})]})}),A.jsxs("div",{className:"hidden items-center gap-4 md:flex",children:[A.jsxs(_n,{to:"/timeline",className:"flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium text-slate-300 transition-colors hover:bg-white/5 hover:text-primary",children:[A.jsx(U0,{size:18}),"Timeline"]}),A.jsxs(_n,{to:"/create",className:"flex items-center gap-2 rounded-full bg-gradient-to-r from-accent to-secondary px-4 py-2 text-sm font-bold text-white shadow-lg shadow-accent/20 transition-all hover:scale-105 hover:shadow-accent/40",children:[A.jsx(B0,{size:18}),"New Page"]}),r?A.jsxs("div",{className:"group relative",children:[A.jsxs("button",{className:"flex items-center gap-2 rounded-full border border-primary/30 bg-bg-dark px-3 py-1.5 text-sm text-primary",children:[A.jsx(vc,{size:16}),r]}),A.jsx("div",{className:"absolute right-0 top-full mt-2 hidden w-32 rounded-lg border border-white/10 bg-bg-card p-1 shadow-xl group-hover:block",children:A.jsx("button",{onClick:i,className:"w-full rounded px-2 py-1.5 text-left text-sm text-red-400 hover:bg-white/5",children:"Logout"})})]}):A.jsx("button",{onClick:()=>a(!0),className:"text-sm font-medium text-slate-300 hover:text-primary",children:"Login"})]}),A.jsx("button",{onClick:()=>f(!h),className:"text-slate-300 md:hidden",children:h?A.jsx(b2,{size:24}):A.jsx(m2,{size:24})})]}),h&&A.jsxs("div",{className:"border-t border-white/10 bg-bg-card p-4 md:hidden",children:[A.jsx("form",{onSubmit:d,className:"mb-4",children:A.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:y=>e(y.target.value),className:"w-full rounded-lg bg-bg-dark px-4 py-2 text-sm text-slate-100"})}),A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsxs(_n,{to:"/timeline",onClick:()=>f(!1),className:"flex items-center gap-2 rounded-lg p-2 text-slate-300 hover:bg-white/5",children:[A.jsx(U0,{size:18})," Timeline"]}),A.jsxs(_n,{to:"/create",onClick:()=>f(!1),className:"flex items-center gap-2 rounded-lg p-2 text-accent hover:bg-white/5",children:[A.jsx(B0,{size:18})," New Page"]}),r?A.jsxs("button",{onClick:()=>{i(),f(!1)},className:"flex items-center gap-2 rounded-lg p-2 text-red-400 hover:bg-white/5",children:[A.jsx(vc,{size:18})," Logout (",r,")"]}):A.jsxs("button",{onClick:()=>{a(!0),f(!1)},className:"flex items-center gap-2 rounded-lg p-2 text-primary hover:bg-white/5",children:[A.jsx(vc,{size:18})," Login"]})]})]}),o&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 px-4 backdrop-blur-sm",children:A.jsxs("div",{className:"w-full max-w-sm rounded-xl border border-primary/30 bg-bg-card p-6 shadow-2xl shadow-primary/20",children:[A.jsx("h2",{className:"mb-4 text-2xl font-bold text-primary",children:"Identify Yourself"}),A.jsxs("form",{onSubmit:m,children:[A.jsx("input",{type:"text",placeholder:"Enter your name...",value:l,onChange:y=>c(y.target.value),className:"mb-4 w-full rounded-lg border border-white/10 bg-bg-dark px-4 py-3 text-slate-100 focus:border-primary focus:outline-none",autoFocus:!0}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 rounded-lg border border-white/10 px-4 py-2 font-medium hover:bg-white/5",children:"Cancel"}),A.jsx("button",{type:"submit",className:"flex-1 rounded-lg bg-primary px-4 py-2 font-bold text-bg-dark hover:bg-primary/90",children:"Confirm"})]})]})]})})]})}const O2=()=>{};var G0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},F2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},y1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let d=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(d=64)),r.push(n[h],n[f],n[d],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(g1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new j2;const d=i<<2|a>>4;if(r.push(d),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const y=c<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class j2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $2=function(t){const e=g1(t);return y1.encodeByteArray(e,!0)},nh=function(t){return $2(t).replace(/\./g,"")},z2=function(t){try{return y1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=()=>U2().__FIREBASE_DEFAULTS__,H2=()=>{if(typeof process>"u"||typeof G0>"u")return;const t=G0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&z2(t[1]);return e&&JSON.parse(e)},Cg=()=>{try{return O2()||B2()||H2()||W2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},G2=t=>{var e,n;return(n=(e=Cg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},q2=t=>{const e=G2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},v1=()=>{var t;return(t=Cg())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Q2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[nh(JSON.stringify(n)),nh(JSON.stringify(o)),""].join(".")}const Ja={};function X2(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ja))Ja[e]?t.emulator.push(e):t.prod.push(e);return t}function J2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let q0=!1;function Z2(t,e){if(typeof window>"u"||typeof document>"u"||!bg(window.location.host)||Ja[t]===e||Ja[t]||q0)return;Ja[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",i=X2().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,m){d.setAttribute("width","24"),d.setAttribute("id",m),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{q0=!0,o()},d}function h(d,m){d.setAttribute("id",m),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=J2(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),x=n("learnmore"),k=document.getElementById(x)||document.createElement("a"),w=n("preprendIcon"),_=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const E=d.element;a(E),h(k,x);const P=c();l(_,w),E.append(_,y,k,P),document.body.appendChild(E)}i?(y.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tD(){var e;const t=(e=Cg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nD(){return!tD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rD(){try{return typeof indexedDB=="object"}catch{return!1}}function sD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="FirebaseError";class Oo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iD,Object.setPrototypeOf(this,Oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w1.prototype.create)}}class w1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?oD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Oo(s,a,r)}}function oD(t,e){return t.replace(aD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const aD=/\{\$([^}]+)}/g;function rh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(K0(i)&&K0(o)){if(!rh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function K0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t){return t&&t._delegate?t._delegate:t}class bl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cD(e))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=si){return this.instances.has(e)}getOptions(e=si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=si){return this.component?this.component.multipleInstances?e:si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uD(t){return t===si?void 0:t}function cD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const fD={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},dD=me.INFO,pD={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},mD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=pD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _1{constructor(e){this.name=e,this._logLevel=dD,this._logHandler=mD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const gD=(t,e)=>e.some(n=>t instanceof n);let Q0,Y0;function yD(){return Q0||(Q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vD(){return Y0||(Y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E1=new WeakMap,bp=new WeakMap,x1=new WeakMap,Xf=new WeakMap,Ig=new WeakMap;function wD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ws(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&E1.set(n,t)}).catch(()=>{}),Ig.set(e,t),e}function _D(t){if(bp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});bp.set(t,e)}let Ip={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||x1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ED(t){Ip=t(Ip)}function xD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jf(this),e,...n);return x1.set(r,e.sort?e.sort():[e]),ws(r)}:vD().includes(t)?function(...e){return t.apply(Jf(this),e),ws(E1.get(this))}:function(...e){return ws(t.apply(Jf(this),e))}}function TD(t){return typeof t=="function"?xD(t):(t instanceof IDBTransaction&&_D(t),gD(t,yD())?new Proxy(t,Ip):t)}function ws(t){if(t instanceof IDBRequest)return wD(t);if(Xf.has(t))return Xf.get(t);const e=TD(t);return e!==t&&(Xf.set(t,e),Ig.set(e,t)),e}const Jf=t=>Ig.get(t);function SD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ws(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ws(o.result),l.oldVersion,l.newVersion,ws(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const kD=["get","getKey","getAll","getAllKeys","count"],AD=["put","add","delete","clear"],Zf=new Map;function X0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=AD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||kD.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Zf.set(e,i),i}ED(t=>({...t,get:(e,n,r)=>X0(e,n)||t.get(e,n,r),has:(e,n)=>!!X0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rp="@firebase/app",J0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new _1("@firebase/app"),ID="@firebase/app-compat",RD="@firebase/analytics-compat",PD="@firebase/analytics",DD="@firebase/app-check-compat",ND="@firebase/app-check",VD="@firebase/auth",MD="@firebase/auth-compat",LD="@firebase/database",OD="@firebase/data-connect",FD="@firebase/database-compat",jD="@firebase/functions",$D="@firebase/functions-compat",zD="@firebase/installations",UD="@firebase/installations-compat",BD="@firebase/messaging",HD="@firebase/messaging-compat",WD="@firebase/performance",GD="@firebase/performance-compat",qD="@firebase/remote-config",KD="@firebase/remote-config-compat",QD="@firebase/storage",YD="@firebase/storage-compat",XD="@firebase/firestore",JD="@firebase/ai",ZD="@firebase/firestore-compat",eN="firebase",tN="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="[DEFAULT]",nN={[Rp]:"fire-core",[ID]:"fire-core-compat",[PD]:"fire-analytics",[RD]:"fire-analytics-compat",[ND]:"fire-app-check",[DD]:"fire-app-check-compat",[VD]:"fire-auth",[MD]:"fire-auth-compat",[LD]:"fire-rtdb",[OD]:"fire-data-connect",[FD]:"fire-rtdb-compat",[jD]:"fire-fn",[$D]:"fire-fn-compat",[zD]:"fire-iid",[UD]:"fire-iid-compat",[BD]:"fire-fcm",[HD]:"fire-fcm-compat",[WD]:"fire-perf",[GD]:"fire-perf-compat",[qD]:"fire-rc",[KD]:"fire-rc-compat",[QD]:"fire-gcs",[YD]:"fire-gcs-compat",[XD]:"fire-fst",[ZD]:"fire-fst-compat",[JD]:"fire-vertex","fire-js":"fire-js",[eN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Map,rN=new Map,Dp=new Map;function Z0(t,e){try{t.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ih(t){const e=t.name;if(Dp.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;Dp.set(e,t);for(const n of sh.values())Z0(n,t);for(const n of rN.values())Z0(n,t);return!0}function sN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function iN(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new w1("app","Firebase",oN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=tN;function T1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Pp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw _s.create("bad-app-name",{appName:String(s)});if(n||(n=v1()),!n)throw _s.create("no-options");const i=sh.get(s);if(i){if(rh(n,i.options)&&rh(r,i.config))return i;throw _s.create("duplicate-app",{appName:s})}const o=new hD(s);for(const l of Dp.values())o.addComponent(l);const a=new aN(n,r,o);return sh.set(s,a),a}function uN(t=Pp){const e=sh.get(t);if(!e&&t===Pp&&v1())return T1();if(!e)throw _s.create("no-app",{appName:t});return e}function co(t,e,n){let r=nN[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(o.join(" "));return}ih(new bl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="firebase-heartbeat-database",hN=1,Il="firebase-heartbeat-store";let ed=null;function S1(){return ed||(ed=SD(cN,hN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(t=>{throw _s.create("idb-open",{originalErrorMessage:t.message})})),ed}async function fN(t){try{const n=(await S1()).transaction(Il),r=await n.objectStore(Il).get(k1(t));return await n.done,r}catch(e){if(e instanceof Oo)Or.warn(e.message);else{const n=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(n.message)}}}async function ew(t,e){try{const r=(await S1()).transaction(Il,"readwrite");await r.objectStore(Il).put(e,k1(t)),await r.done}catch(n){if(n instanceof Oo)Or.warn(n.message);else{const r=_s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Or.warn(r.message)}}}function k1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=1024,pN=30;class mN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>pN){const o=vN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Or.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tw(),{heartbeatsToSend:r,unsentEntries:s}=gN(this._heartbeatsCache.heartbeats),i=nh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Or.warn(n),""}}}function tw(){return new Date().toISOString().substring(0,10)}function gN(t,e=dN){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),nw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),nw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rD()?sD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ew(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ew(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function nw(t){return nh(JSON.stringify({version:2,heartbeats:t})).length}function vN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){ih(new bl("platform-logger",e=>new CD(e),"PRIVATE")),ih(new bl("heartbeat",e=>new mN(e),"PRIVATE")),co(Rp,J0,t),co(Rp,J0,"esm2020"),co("fire-js","")}wN("");var rw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,A1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function C(){}C.prototype=v.prototype,S.F=v.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(b,R,M){for(var I=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)I[ke-2]=arguments[ke];return v.prototype[R].apply(b,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,v,C){C||(C=0);const b=Array(16);if(typeof v=="string")for(var R=0;R<16;++R)b[R]=v.charCodeAt(C++)|v.charCodeAt(C++)<<8|v.charCodeAt(C++)<<16|v.charCodeAt(C++)<<24;else for(R=0;R<16;++R)b[R]=v[C++]|v[C++]<<8|v[C++]<<16|v[C++]<<24;v=S.g[0],C=S.g[1],R=S.g[2];let M=S.g[3],I;I=v+(M^C&(R^M))+b[0]+3614090360&4294967295,v=C+(I<<7&4294967295|I>>>25),I=M+(R^v&(C^R))+b[1]+3905402710&4294967295,M=v+(I<<12&4294967295|I>>>20),I=R+(C^M&(v^C))+b[2]+606105819&4294967295,R=M+(I<<17&4294967295|I>>>15),I=C+(v^R&(M^v))+b[3]+3250441966&4294967295,C=R+(I<<22&4294967295|I>>>10),I=v+(M^C&(R^M))+b[4]+4118548399&4294967295,v=C+(I<<7&4294967295|I>>>25),I=M+(R^v&(C^R))+b[5]+1200080426&4294967295,M=v+(I<<12&4294967295|I>>>20),I=R+(C^M&(v^C))+b[6]+2821735955&4294967295,R=M+(I<<17&4294967295|I>>>15),I=C+(v^R&(M^v))+b[7]+4249261313&4294967295,C=R+(I<<22&4294967295|I>>>10),I=v+(M^C&(R^M))+b[8]+1770035416&4294967295,v=C+(I<<7&4294967295|I>>>25),I=M+(R^v&(C^R))+b[9]+2336552879&4294967295,M=v+(I<<12&4294967295|I>>>20),I=R+(C^M&(v^C))+b[10]+4294925233&4294967295,R=M+(I<<17&4294967295|I>>>15),I=C+(v^R&(M^v))+b[11]+2304563134&4294967295,C=R+(I<<22&4294967295|I>>>10),I=v+(M^C&(R^M))+b[12]+1804603682&4294967295,v=C+(I<<7&4294967295|I>>>25),I=M+(R^v&(C^R))+b[13]+4254626195&4294967295,M=v+(I<<12&4294967295|I>>>20),I=R+(C^M&(v^C))+b[14]+2792965006&4294967295,R=M+(I<<17&4294967295|I>>>15),I=C+(v^R&(M^v))+b[15]+1236535329&4294967295,C=R+(I<<22&4294967295|I>>>10),I=v+(R^M&(C^R))+b[1]+4129170786&4294967295,v=C+(I<<5&4294967295|I>>>27),I=M+(C^R&(v^C))+b[6]+3225465664&4294967295,M=v+(I<<9&4294967295|I>>>23),I=R+(v^C&(M^v))+b[11]+643717713&4294967295,R=M+(I<<14&4294967295|I>>>18),I=C+(M^v&(R^M))+b[0]+3921069994&4294967295,C=R+(I<<20&4294967295|I>>>12),I=v+(R^M&(C^R))+b[5]+3593408605&4294967295,v=C+(I<<5&4294967295|I>>>27),I=M+(C^R&(v^C))+b[10]+38016083&4294967295,M=v+(I<<9&4294967295|I>>>23),I=R+(v^C&(M^v))+b[15]+3634488961&4294967295,R=M+(I<<14&4294967295|I>>>18),I=C+(M^v&(R^M))+b[4]+3889429448&4294967295,C=R+(I<<20&4294967295|I>>>12),I=v+(R^M&(C^R))+b[9]+568446438&4294967295,v=C+(I<<5&4294967295|I>>>27),I=M+(C^R&(v^C))+b[14]+3275163606&4294967295,M=v+(I<<9&4294967295|I>>>23),I=R+(v^C&(M^v))+b[3]+4107603335&4294967295,R=M+(I<<14&4294967295|I>>>18),I=C+(M^v&(R^M))+b[8]+1163531501&4294967295,C=R+(I<<20&4294967295|I>>>12),I=v+(R^M&(C^R))+b[13]+2850285829&4294967295,v=C+(I<<5&4294967295|I>>>27),I=M+(C^R&(v^C))+b[2]+4243563512&4294967295,M=v+(I<<9&4294967295|I>>>23),I=R+(v^C&(M^v))+b[7]+1735328473&4294967295,R=M+(I<<14&4294967295|I>>>18),I=C+(M^v&(R^M))+b[12]+2368359562&4294967295,C=R+(I<<20&4294967295|I>>>12),I=v+(C^R^M)+b[5]+4294588738&4294967295,v=C+(I<<4&4294967295|I>>>28),I=M+(v^C^R)+b[8]+2272392833&4294967295,M=v+(I<<11&4294967295|I>>>21),I=R+(M^v^C)+b[11]+1839030562&4294967295,R=M+(I<<16&4294967295|I>>>16),I=C+(R^M^v)+b[14]+4259657740&4294967295,C=R+(I<<23&4294967295|I>>>9),I=v+(C^R^M)+b[1]+2763975236&4294967295,v=C+(I<<4&4294967295|I>>>28),I=M+(v^C^R)+b[4]+1272893353&4294967295,M=v+(I<<11&4294967295|I>>>21),I=R+(M^v^C)+b[7]+4139469664&4294967295,R=M+(I<<16&4294967295|I>>>16),I=C+(R^M^v)+b[10]+3200236656&4294967295,C=R+(I<<23&4294967295|I>>>9),I=v+(C^R^M)+b[13]+681279174&4294967295,v=C+(I<<4&4294967295|I>>>28),I=M+(v^C^R)+b[0]+3936430074&4294967295,M=v+(I<<11&4294967295|I>>>21),I=R+(M^v^C)+b[3]+3572445317&4294967295,R=M+(I<<16&4294967295|I>>>16),I=C+(R^M^v)+b[6]+76029189&4294967295,C=R+(I<<23&4294967295|I>>>9),I=v+(C^R^M)+b[9]+3654602809&4294967295,v=C+(I<<4&4294967295|I>>>28),I=M+(v^C^R)+b[12]+3873151461&4294967295,M=v+(I<<11&4294967295|I>>>21),I=R+(M^v^C)+b[15]+530742520&4294967295,R=M+(I<<16&4294967295|I>>>16),I=C+(R^M^v)+b[2]+3299628645&4294967295,C=R+(I<<23&4294967295|I>>>9),I=v+(R^(C|~M))+b[0]+4096336452&4294967295,v=C+(I<<6&4294967295|I>>>26),I=M+(C^(v|~R))+b[7]+1126891415&4294967295,M=v+(I<<10&4294967295|I>>>22),I=R+(v^(M|~C))+b[14]+2878612391&4294967295,R=M+(I<<15&4294967295|I>>>17),I=C+(M^(R|~v))+b[5]+4237533241&4294967295,C=R+(I<<21&4294967295|I>>>11),I=v+(R^(C|~M))+b[12]+1700485571&4294967295,v=C+(I<<6&4294967295|I>>>26),I=M+(C^(v|~R))+b[3]+2399980690&4294967295,M=v+(I<<10&4294967295|I>>>22),I=R+(v^(M|~C))+b[10]+4293915773&4294967295,R=M+(I<<15&4294967295|I>>>17),I=C+(M^(R|~v))+b[1]+2240044497&4294967295,C=R+(I<<21&4294967295|I>>>11),I=v+(R^(C|~M))+b[8]+1873313359&4294967295,v=C+(I<<6&4294967295|I>>>26),I=M+(C^(v|~R))+b[15]+4264355552&4294967295,M=v+(I<<10&4294967295|I>>>22),I=R+(v^(M|~C))+b[6]+2734768916&4294967295,R=M+(I<<15&4294967295|I>>>17),I=C+(M^(R|~v))+b[13]+1309151649&4294967295,C=R+(I<<21&4294967295|I>>>11),I=v+(R^(C|~M))+b[4]+4149444226&4294967295,v=C+(I<<6&4294967295|I>>>26),I=M+(C^(v|~R))+b[11]+3174756917&4294967295,M=v+(I<<10&4294967295|I>>>22),I=R+(v^(M|~C))+b[2]+718787259&4294967295,R=M+(I<<15&4294967295|I>>>17),I=C+(M^(R|~v))+b[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+M&4294967295}r.prototype.v=function(S,v){v===void 0&&(v=S.length);const C=v-this.blockSize,b=this.C;let R=this.h,M=0;for(;M<v;){if(R==0)for(;M<=C;)s(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<v;)if(b[R++]=S.charCodeAt(M++),R==this.blockSize){s(this,b),R=0;break}}else for(;M<v;)if(b[R++]=S[M++],R==this.blockSize){s(this,b),R=0;break}}this.h=R,this.o+=v},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;v=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=v&255,v/=256;for(this.v(S),S=Array(16),v=0,C=0;C<4;++C)for(let b=0;b<32;b+=8)S[v++]=this.g[C]>>>b&255;return S};function i(S,v){var C=a;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=v(S)}function o(S,v){this.h=v;const C=[];let b=!0;for(let R=S.length-1;R>=0;R--){const M=S[R]|0;b&&M==v||(C[R]=M,b=!1)}this.g=C}var a={};function l(S){return-128<=S&&S<128?i(S,function(v){return new o([v|0],v<0?-1:0)}):new o([S|0],S<0?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return k(c(-S));const v=[];let C=1;for(let b=0;S>=C;b++)v[b]=S/C|0,C*=4294967296;return new o(v,0)}function h(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return k(h(S.substring(1),v));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=c(Math.pow(v,8));let b=f;for(let M=0;M<S.length;M+=8){var R=Math.min(8,S.length-M);const I=parseInt(S.substring(M,M+R),v);R<8?(R=c(Math.pow(v,R)),b=b.j(R).add(c(I))):(b=b.j(C),b=b.add(c(I)))}return b}var f=l(0),d=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-k(this).m();let S=0,v=1;for(let C=0;C<this.g.length;C++){const b=this.i(C);S+=(b>=0?b:4294967296+b)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(x(this))return"-"+k(this).toString(S);const v=c(Math.pow(S,6));var C=this;let b="";for(;;){const R=P(C,v).g;C=w(C,R.j(v));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=R,y(C))return M+b;for(;M.length<6;)M="0"+M;b=M+b}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(let v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function x(S){return S.h==-1}t.l=function(S){return S=w(this,S),x(S)?-1:y(S)?0:1};function k(S){const v=S.g.length,C=[];for(let b=0;b<v;b++)C[b]=~S.g[b];return new o(C,~S.h).add(d)}t.abs=function(){return x(this)?k(this):this},t.add=function(S){const v=Math.max(this.g.length,S.g.length),C=[];let b=0;for(let R=0;R<=v;R++){let M=b+(this.i(R)&65535)+(S.i(R)&65535),I=(M>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);b=I>>>16,M&=65535,I&=65535,C[R]=I<<16|M}return new o(C,C[C.length-1]&-2147483648?-1:0)};function w(S,v){return S.add(k(v))}t.j=function(S){if(y(this)||y(S))return f;if(x(this))return x(S)?k(this).j(k(S)):k(k(this).j(S));if(x(S))return k(this.j(k(S)));if(this.l(m)<0&&S.l(m)<0)return c(this.m()*S.m());const v=this.g.length+S.g.length,C=[];for(var b=0;b<2*v;b++)C[b]=0;for(b=0;b<this.g.length;b++)for(let R=0;R<S.g.length;R++){const M=this.i(b)>>>16,I=this.i(b)&65535,ke=S.i(R)>>>16,Ke=S.i(R)&65535;C[2*b+2*R]+=I*Ke,_(C,2*b+2*R),C[2*b+2*R+1]+=M*Ke,_(C,2*b+2*R+1),C[2*b+2*R+1]+=I*ke,_(C,2*b+2*R+1),C[2*b+2*R+2]+=M*ke,_(C,2*b+2*R+2)}for(S=0;S<v;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=v;S<2*v;S++)C[S]=0;return new o(C,0)};function _(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function E(S,v){this.g=S,this.h=v}function P(S,v){if(y(v))throw Error("division by zero");if(y(S))return new E(f,f);if(x(S))return v=P(k(S),v),new E(k(v.g),k(v.h));if(x(v))return v=P(S,k(v)),new E(k(v.g),v.h);if(S.g.length>30){if(x(S)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var C=d,b=v;b.l(S)<=0;)C=V(C),b=V(b);var R=F(C,1),M=F(b,1);for(b=F(b,2),C=F(C,2);!y(b);){var I=M.add(b);I.l(S)<=0&&(R=R.add(C),M=I),b=F(b,1),C=F(C,1)}return v=w(S,R.j(v)),new E(R,v)}for(R=f;S.l(v)>=0;){for(C=Math.max(1,Math.floor(S.m()/v.m())),b=Math.ceil(Math.log(C)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),M=c(C),I=M.j(v);x(I)||I.l(S)>0;)C-=b,M=c(C),I=M.j(v);y(M)&&(M=d),R=R.add(M),S=w(S,I)}return new E(R,S)}t.B=function(S){return P(this,S).h},t.and=function(S){const v=Math.max(this.g.length,S.g.length),C=[];for(let b=0;b<v;b++)C[b]=this.i(b)&S.i(b);return new o(C,this.h&S.h)},t.or=function(S){const v=Math.max(this.g.length,S.g.length),C=[];for(let b=0;b<v;b++)C[b]=this.i(b)|S.i(b);return new o(C,this.h|S.h)},t.xor=function(S){const v=Math.max(this.g.length,S.g.length),C=[];for(let b=0;b<v;b++)C[b]=this.i(b)^S.i(b);return new o(C,this.h^S.h)};function V(S){const v=S.g.length+1,C=[];for(let b=0;b<v;b++)C[b]=S.i(b)<<1|S.i(b-1)>>>31;return new o(C,S.h)}function F(S,v){const C=v>>5;v%=32;const b=S.g.length-C,R=[];for(let M=0;M<b;M++)R[M]=v>0?S.i(M+C)>>>v|S.i(M+C+1)<<32-v:S.i(M+C);return new o(R,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,A1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Es=o}).apply(typeof rw<"u"?rw:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C1,La,b1,wc,Np,I1,R1,P1;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var g=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in g))break e;g=g[L]}u=u[u.length-1],T=g[u],p=p(T),p!=T&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(p){var g=[],T;for(T in p)Object.prototype.hasOwnProperty.call(p,T)&&g.push([T,p[T]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function l(u,p,g){return u.call.apply(u.bind,arguments)}function c(u,p,g){return c=l,c.apply(null,arguments)}function h(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function f(u,p){function g(){}g.prototype=p.prototype,u.Z=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Ob=function(T,L,O){for(var H=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)H[ae-2]=arguments[ae];return p.prototype[L].apply(T,H)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function m(u){const p=u.length;if(p>0){const g=Array(p);for(let T=0;T<p;T++)g[T]=u[T];return g}return[]}function y(u,p){for(let T=1;T<arguments.length;T++){const L=arguments[T];var g=typeof L;if(g=g!="object"?g:L?Array.isArray(L)?"array":g:"null",g=="array"||g=="object"&&typeof L.length=="number"){g=u.length||0;const O=L.length||0;u.length=g+O;for(let H=0;H<O;H++)u[g+H]=L[H]}else u.push(L)}}class x{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function k(u){o.setTimeout(()=>{throw u},0)}function w(){var u=S;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class _{constructor(){this.h=this.g=null}add(p,g){const T=E.get();T.set(p,g),this.h?this.h.next=T:this.g=T,this.h=T}}var E=new x(()=>new P,u=>u.reset());class P{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let V,F=!1,S=new _,v=()=>{const u=Promise.resolve(void 0);V=()=>{u.then(C)}};function C(){for(var u;u=w();){try{u.h.call(u.g)}catch(g){k(g)}var p=E;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}F=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};o.addEventListener("test",g,p),o.removeEventListener("test",g,p)}catch{}return u}();function I(u){return/^[\s\xa0]*$/.test(u)}function ke(u,p){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}f(ke,R),ke.prototype.init=function(u,p){const g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),mt=0;function ge(u,p,g,T,L){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!T,this.ha=L,this.key=++mt,this.da=this.fa=!1}function j(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Z(u,p,g){for(const T in u)p.call(g,u[T],T,u)}function te(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function re(u){const p={};for(const g in u)p[g]=u[g];return p}const Ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(u,p){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)u[g]=T[g];for(let O=0;O<Ae.length;O++)g=Ae[O],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function xe(u){this.src=u,this.g={},this.h=0}xe.prototype.add=function(u,p,g,T,L){const O=u.toString();u=this.g[O],u||(u=this.g[O]=[],this.h++);const H=et(u,p,T,L);return H>-1?(p=u[H],g||(p.fa=!1)):(p=new ge(p,this.src,O,!!T,L),p.fa=g,u.push(p)),p};function de(u,p){const g=p.type;if(g in u.g){var T=u.g[g],L=Array.prototype.indexOf.call(T,p,void 0),O;(O=L>=0)&&Array.prototype.splice.call(T,L,1),O&&(j(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function et(u,p,g,T){for(let L=0;L<u.length;++L){const O=u[L];if(!O.da&&O.listener==p&&O.capture==!!g&&O.ha==T)return L}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),nn={};function Kn(u,p,g,T,L){if(Array.isArray(p)){for(let O=0;O<p.length;O++)Kn(u,p[O],g,T,L);return null}return g=yr(g),u&&u[Ke]?u.J(p,g,a(T)?!!T.capture:!1,L):Qn(u,p,g,!1,T,L)}function Qn(u,p,g,T,L,O){if(!p)throw Error("Invalid event type");const H=a(L)?!!L.capture:!!L;let ae=zs(u);if(ae||(u[_e]=ae=new xe(u)),g=ae.add(p,g,T,H,O),g.proxy)return g;if(T=Br(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)M||(L=H),L===void 0&&(L=!1),u.addEventListener(p.toString(),T,L);else if(u.attachEvent)u.attachEvent($s(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Br(){function u(g){return p.call(u.src,u.listener,g)}const p=gr;return u}function Yn(u,p,g,T,L){if(Array.isArray(p))for(var O=0;O<p.length;O++)Yn(u,p[O],g,T,L);else T=a(T)?!!T.capture:!!T,g=yr(g),u&&u[Ke]?(u=u.i,O=String(p).toString(),O in u.g&&(p=u.g[O],g=et(p,g,T,L),g>-1&&(j(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete u.g[O],u.h--)))):u&&(u=zs(u))&&(p=u.g[p.toString()],u=-1,p&&(u=et(p,g,T,L)),(g=u>-1?p[u]:null)&&Xn(g))}function Xn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Ke])de(p.i,u);else{var g=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(g,T,u.capture):p.detachEvent?p.detachEvent($s(g),T):p.addListener&&p.removeListener&&p.removeListener(T),(g=zs(p))?(de(g,u),g.h==0&&(g.src=null,p[_e]=null)):j(u)}}}function $s(u){return u in nn?nn[u]:nn[u]="on"+u}function gr(u,p){if(u.da)u=!0;else{p=new ke(p,this);const g=u.listener,T=u.ha||u.src;u.fa&&Xn(u),u=g.call(T,p)}return u}function zs(u){return u=u[_e],u instanceof xe?u:null}var Us="__closure_events_fn_"+(Math.random()*1e9>>>0);function yr(u){return typeof u=="function"?u:(u[Us]||(u[Us]=function(p){return u.handleEvent(p)}),u[Us])}function Qe(){b.call(this),this.i=new xe(this),this.M=this,this.G=null}f(Qe,b),Qe.prototype[Ke]=!0,Qe.prototype.removeEventListener=function(u,p,g,T){Yn(this,u,p,g,T)};function tt(u,p){var g,T=u.G;if(T)for(g=[];T;T=T.G)g.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new R(p,u);else if(p instanceof R)p.target=p.target||u;else{var L=p;p=new R(T,u),oe(p,L)}L=!0;let O,H;if(g)for(H=g.length-1;H>=0;H--)O=p.g=g[H],L=Bs(O,T,!0,p)&&L;if(O=p.g=u,L=Bs(O,T,!0,p)&&L,L=Bs(O,T,!1,p)&&L,g)for(H=0;H<g.length;H++)O=p.g=g[H],L=Bs(O,T,!1,p)&&L}Qe.prototype.N=function(){if(Qe.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const g=u.g[p];for(let T=0;T<g.length;T++)j(g[T]);delete u.g[p],u.h--}}this.G=null},Qe.prototype.J=function(u,p,g,T){return this.i.add(String(u),p,!1,g,T)},Qe.prototype.K=function(u,p,g,T){return this.i.add(String(u),p,!0,g,T)};function Bs(u,p,g,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let O=0;O<p.length;++O){const H=p[O];if(H&&!H.da&&H.capture==g){const ae=H.listener,ut=H.ha||H.src;H.fa&&de(u.i,H),L=ae.call(ut,T)!==!1&&L}}return L&&!T.defaultPrevented}function lu(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(u,p||0)}function uu(u){u.g=lu(()=>{u.g=null,u.i&&(u.i=!1,uu(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Qo extends b{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:uu(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(u){b.call(this),this.h=u,this.g={}}f(Rn,b);var vr=[];function rn(u){Z(u.g,function(p,g){this.g.hasOwnProperty(g)&&Xn(p)},u),u.g={}}Rn.prototype.N=function(){Rn.Z.N.call(this),rn(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hs=o.JSON.stringify,cu=o.JSON.parse,hu=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Ri(){}function Yo(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Hr(){R.call(this,"d")}f(Hr,R);function sn(){R.call(this,"c")}f(sn,R);var qt={},Pi=null;function Wr(){return Pi=Pi||new Qe}qt.Ia="serverreachability";function fu(u){R.call(this,qt.Ia,u)}f(fu,R);function Zn(u){const p=Wr();tt(p,new fu(p))}qt.STAT_EVENT="statevent";function Ws(u,p){R.call(this,qt.STAT_EVENT,u),this.stat=p}f(Ws,R);function _t(u){const p=Wr();tt(p,new Ws(p,u))}qt.Ja="timingevent";function Gr(u,p){R.call(this,qt.Ja,u),this.size=p}f(Gr,R);function Gs(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},p)}function qs(){this.g=!0}qs.prototype.ua=function(){this.g=!1};function Ye(u,p,g,T,L,O){u.info(function(){if(u.g)if(O){var H="",ae=O.split("&");for(let be=0;be<ae.length;be++){var ut=ae[be].split("=");if(ut.length>1){const gt=ut[0];ut=ut[1];const tr=gt.split("_");H=tr.length>=2&&tr[1]=="type"?H+(gt+"="+ut+"&"):H+(gt+"=redacted&")}}}else H=null;else H=O;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+p+`
`+g+`
`+H})}function qr(u,p,g,T,L,O,H){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+p+`
`+g+`
`+O+" "+H})}function Kr(u,p,g,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Xo(u,g)+(T?" "+T:"")})}function du(u,p){u.info(function(){return"TIMEOUT: "+p})}qs.prototype.info=function(){};function Xo(u,p){if(!u.g)return p;if(!p)return null;try{const O=JSON.parse(p);if(O){for(u=0;u<O.length;u++)if(Array.isArray(O[u])){var g=O[u];if(!(g.length<2)){var T=g[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let H=1;H<T.length;H++)T[H]=""}}}}return Hs(O)}catch{return p}}var Ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pu;function Kt(){}f(Kt,Ri),Kt.prototype.g=function(){return new XMLHttpRequest},pu=new Kt;function on(u){return encodeURIComponent(String(u))}function mu(u){var p=1;u=u.split(":");const g=[];for(;p>0&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function Pn(u,p,g,T){this.j=u,this.i=p,this.l=g,this.S=T||1,this.V=new Rn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Di}function Di(){this.i=null,this.g="",this.h=!1}var Zo={},an={};function Ni(u,p,g){u.M=1,u.A=yu(er(p)),u.u=g,u.R=!0,ea(u,null)}function ea(u,p){u.F=Date.now(),J(u),u.B=er(u.A);var g=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),sv(g.i,"t",T),u.C=0,g=u.j.L,u.h=new Di,u.g=xv(u.j,g?p:null,!u.u),u.P>0&&(u.O=new Qo(c(u.Y,u,u.g),u.P)),p=u.V,g=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(vr[0]=L.toString()),L=vr);for(let O=0;O<L.length;O++){const H=Kn(g,L[O],T||p.handleEvent,!1,p.h||p);if(!H)break;p.g[H.key]=H}p=u.J?re(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),Zn(),Ye(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const p=this.O;p&&Xr(u)==3?p.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)e:{const ae=Xr(this.g),ut=this.g.ya(),be=this.g.ca();if(!(ae<3)&&(ae!=3||this.g&&(this.h.h||this.g.la()||hv(this.g)))){this.K||ae!=4||ut==7||(ut==8||be<=0?Zn(3):Zn(2)),U(this);var p=this.g.ca();this.X=p;var g=gu(this);if(this.o=p==200,qr(this.i,this.v,this.B,this.l,this.S,ae,p),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var O=T;break t}}O=null}if(u=O)Kr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,nt(this,u);else{this.o=!1,this.m=3,_t(12),ve(this),q(this);break e}}if(this.R){u=!0;let gt;for(;!this.K&&this.C<g.length;)if(gt=pf(this,g),gt==an){ae==4&&(this.m=4,_t(14),u=!1),Kr(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Zo){this.m=4,_t(15),Kr(this.i,this.l,g,"[Invalid Chunk]"),u=!1;break}else Kr(this.i,this.l,gt,null),nt(this,gt);if(ta(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ae!=4||g.length!=0||this.h.h||(this.m=1,_t(16),u=!1),this.o=this.o&&u,!u)Kr(this.i,this.l,g,"[Invalid Chunked Response]"),ve(this),q(this);else if(g.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),_f(H),H.P=!0,_t(11))}}else Kr(this.i,this.l,g,null),nt(this,g);ae==4&&ve(this),this.o&&!this.K&&(ae==4?vv(this.j,this):(this.o=!1,J(this)))}else CC(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),ve(this),q(this)}}}catch{}finally{}};function gu(u){if(!ta(u))return u.g.la();const p=hv(u.g);if(p==="")return"";let g="";const T=p.length,L=Xr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ve(u),q(u),"";u.h.i=new o.TextDecoder}for(let O=0;O<T;O++)u.h.h=!0,g+=u.h.i.decode(p[O],{stream:!(L&&O==T-1)});return p.length=0,u.h.g+=g,u.C=0,u.h.g}function ta(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pf(u,p){var g=u.C,T=p.indexOf(`
`,g);return T==-1?an:(g=Number(p.substring(g,T)),isNaN(g)?Zo:(T+=1,T+g>p.length?an:(p=p.slice(T,T+g),u.C=T+g,p)))}Pn.prototype.cancel=function(){this.K=!0,ve(this)};function J(u){u.T=Date.now()+u.H,N(u,u.H)}function N(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Gs(c(u.aa,u),p)}function U(u){u.D&&(o.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(du(this.i,this.B),this.M!=2&&(Zn(),_t(17)),ve(this),this.m=2,q(this)):N(this,this.T-u)};function q(u){u.j.I==0||u.K||vv(u.j,u)}function ve(u){U(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,rn(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function nt(u,p){try{var g=u.j;if(g.I!=0&&(g.g==u||Qs(g.h,u))){if(!u.L&&Qs(g.h,u)&&g.I==3){try{var T=g.Ba.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<u.F)xu(g),_u(g);else break e;wf(g),_t(18)}}else g.xa=L[1],0<g.xa-g.K&&L[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Gs(c(g.Va,g),6e3));wr(g.h)<=1&&g.ta&&(g.ta=void 0)}else Xs(g,11)}else if((u.L||g.g==u)&&xu(g),!I(p))for(L=g.Ba.g.parse(p),p=0;p<L.length;p++){let be=L[p];const gt=be[0];if(!(gt<=g.K))if(g.K=gt,be=be[1],g.I==2)if(be[0]=="c"){g.M=be[1],g.ba=be[2];const tr=be[3];tr!=null&&(g.ka=tr,g.j.info("VER="+g.ka));const Js=be[4];Js!=null&&(g.za=Js,g.j.info("SVER="+g.za));const Jr=be[5];Jr!=null&&typeof Jr=="number"&&Jr>0&&(T=1.5*Jr,g.O=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Zr=u.g;if(Zr){const Su=Zr.g?Zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Su){var O=T.h;O.g||Su.indexOf("spdy")==-1&&Su.indexOf("quic")==-1&&Su.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Xe(O,O.h),O.h=null))}if(T.G){const Ef=Zr.g?Zr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ef&&(T.wa=Ef,De(T.J,T.G,Ef))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-u.F,g.j.info("Handshake RTT: "+g.T+"ms")),T=g;var H=u;if(T.na=Ev(T,T.L?T.ba:null,T.W),H.L){na(T.h,H);var ae=H,ut=T.O;ut&&(ae.H=ut),ae.D&&(U(ae),J(ae)),T.g=H}else gv(T);g.i.length>0&&Eu(g)}else be[0]!="stop"&&be[0]!="close"||Xs(g,7);else g.I==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Xs(g,7):vf(g):be[0]!="noop"&&g.l&&g.l.qa(be),g.A=0)}}Zn(4)}catch{}}var He=class{constructor(u,p){this.g=u,this.map=p}};function Et(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wr(u){return u.h?1:u.g?u.g.size:0}function Qs(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Xe(u,p){u.g?u.g.add(p):u.h=p}function na(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Et.prototype.cancel=function(){if(this.i=ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ra(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.G);return p}return m(u.i)}var Zy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mC(u,p){if(u){u=u.split("&");for(let g=0;g<u.length;g++){const T=u[g].indexOf("=");let L,O=null;T>=0?(L=u[g].substring(0,T),O=u[g].substring(T+1)):L=u[g],p(L,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Qr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Qr?(this.l=u.l,sa(this,u.j),this.o=u.o,this.g=u.g,ia(this,u.u),this.h=u.h,mf(this,iv(u.i)),this.m=u.m):u&&(p=String(u).match(Zy))?(this.l=!1,sa(this,p[1]||"",!0),this.o=oa(p[2]||""),this.g=oa(p[3]||"",!0),ia(this,p[4]),this.h=oa(p[5]||"",!0),mf(this,p[6]||"",!0),this.m=oa(p[7]||"")):(this.l=!1,this.i=new la(null,this.l))}Qr.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(aa(p,ev,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(aa(p,ev,!0),"@"),u.push(on(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&u.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(aa(g,g.charAt(0)=="/"?vC:yC,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",aa(g,_C)),u.join("")},Qr.prototype.resolve=function(u){const p=er(this);let g=!!u.j;g?sa(p,u.j):g=!!u.o,g?p.o=u.o:g=!!u.g,g?p.g=u.g:g=u.u!=null;var T=u.h;if(g)ia(p,u.u);else if(g=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=p.h.lastIndexOf("/");L!=-1&&(T=p.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const O=[];for(let H=0;H<L.length;){const ae=L[H++];ae=="."?T&&H==L.length&&O.push(""):ae==".."?((O.length>1||O.length==1&&O[0]!="")&&O.pop(),T&&H==L.length&&O.push("")):(O.push(ae),T=!0)}T=O.join("/")}else T=L}return g?p.h=T:g=u.i.toString()!=="",g?mf(p,iv(u.i)):g=!!u.m,g&&(p.m=u.m),p};function er(u){return new Qr(u)}function sa(u,p,g){u.j=g?oa(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ia(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function mf(u,p,g){p instanceof la?(u.i=p,EC(u.i,u.l)):(g||(p=aa(p,wC)),u.i=new la(p,u.l))}function De(u,p,g){u.i.set(p,g)}function yu(u){return De(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oa(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function aa(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,gC),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gC(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ev=/[#\/\?@]/g,yC=/[#\?:]/g,vC=/[#\?]/g,wC=/[#\?@]/g,_C=/#/g;function la(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Ys(u){u.g||(u.g=new Map,u.h=0,u.i&&mC(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=la.prototype,t.add=function(u,p){Ys(this),this.i=null,u=Vi(this,u);let g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function tv(u,p){Ys(u),p=Vi(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function nv(u,p){return Ys(u),p=Vi(u,p),u.g.has(p)}t.forEach=function(u,p){Ys(this),this.g.forEach(function(g,T){g.forEach(function(L){u.call(p,L,T,this)},this)},this)};function rv(u,p){Ys(u);let g=[];if(typeof p=="string")nv(u,p)&&(g=g.concat(u.g.get(Vi(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)g=g.concat(u[p]);return g}t.set=function(u,p){return Ys(this),this.i=null,u=Vi(this,u),nv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=rv(this,u),u.length>0?String(u[0]):p):p};function sv(u,p,g){tv(u,p),g.length>0&&(u.i=null,u.g.set(Vi(u,p),m(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let T=0;T<p.length;T++){var g=p[T];const L=on(g);g=rv(this,g);for(let O=0;O<g.length;O++){let H=L;g[O]!==""&&(H+="="+on(g[O])),u.push(H)}}return this.i=u.join("&")};function iv(u){const p=new la;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function Vi(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function EC(u,p){p&&!u.j&&(Ys(u),u.i=null,u.g.forEach(function(g,T){const L=T.toLowerCase();T!=L&&(tv(this,T),sv(this,L,g))},u)),u.j=p}function xC(u,p){const g=new qs;if(o.Image){const T=new Image;T.onload=h(Yr,g,"TestLoadImage: loaded",!0,p,T),T.onerror=h(Yr,g,"TestLoadImage: error",!1,p,T),T.onabort=h(Yr,g,"TestLoadImage: abort",!1,p,T),T.ontimeout=h(Yr,g,"TestLoadImage: timeout",!1,p,T),o.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function TC(u,p){const g=new qs,T=new AbortController,L=setTimeout(()=>{T.abort(),Yr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then(O=>{clearTimeout(L),O.ok?Yr(g,"TestPingServer: ok",!0,p):Yr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Yr(g,"TestPingServer: error",!1,p)})}function Yr(u,p,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function SC(){this.g=new hu}function gf(u){this.i=u.Sb||null,this.h=u.ab||!1}f(gf,Ri),gf.prototype.g=function(){return new vu(this.i,this.h)};function vu(u,p){Qe.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(vu,Qe),t=vu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,ca(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ov(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ov(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?ua(this):ca(this),this.readyState==3&&ov(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,ua(this))},t.Na=function(u){this.g&&(this.response=u,ua(this))},t.ga=function(){this.g&&ua(this)};function ua(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ca(u)}t.setRequestHeader=function(u,p){this.A.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function ca(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function av(u){let p="";return Z(u,function(g,T){p+=T,p+=":",p+=g,p+=`\r
`}),p}function yf(u,p,g){e:{for(T in g){var T=!1;break e}T=!0}T||(g=av(g),typeof u=="string"?g!=null&&on(g):De(u,p,g))}function We(u){Qe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(We,Qe);var kC=/^https?$/i,AC=["POST","PUT"];t=We.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,p,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pu.g(),this.g.onreadystatechange=d(c(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(O){lv(this,O);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const O of T.keys())g.set(O,T.get(O));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(O=>O.toLowerCase()=="content-type"),L=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(AC,p,void 0)>=0)||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,H]of g)this.g.setRequestHeader(O,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(O){lv(this,O)}};function lv(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,uv(u),wu(u)}function uv(u){u.A||(u.A=!0,tt(u,"complete"),tt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,tt(this,"complete"),tt(this,"abort"),wu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wu(this,!0)),We.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?cv(this):this.Xa())},t.Xa=function(){cv(this)};function cv(u){if(u.h&&typeof i<"u"){if(u.v&&Xr(u)==4)setTimeout(u.Ca.bind(u),0);else if(tt(u,"readystatechange"),Xr(u)==4){u.h=!1;try{const O=u.ca();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var T;if(T=O===0){let H=String(u.D).match(Zy)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),T=!kC.test(H?H.toLowerCase():"")}g=T}if(g)tt(u,"complete"),tt(u,"success");else{u.o=6;try{var L=Xr(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",uv(u)}}finally{wu(u)}}}}function wu(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const g=u.g;u.g=null,p||tt(u,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xr(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Xr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),cu(p)}};function hv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function CC(u){const p={};u=(u.g&&Xr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(I(u[T]))continue;var g=mu(u[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const O=p[L]||[];p[L]=O,O.push(g)}te(p,function(T){return T.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function fv(u){this.za=0,this.i=[],this.j=new qs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ha("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ha("baseRetryDelayMs",5e3,u),this.Za=ha("retryDelaySeedMs",1e4,u),this.Ta=ha("forwardChannelMaxRetries",2,u),this.va=ha("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Et(u&&u.concurrentRequestLimit),this.Ba=new SC,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=fv.prototype,t.ka=8,t.I=1,t.connect=function(u,p,g,T){_t(0),this.W=u,this.H=p||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.J=Ev(this,null,this.W),Eu(this)};function vf(u){if(dv(u),u.I==3){var p=u.V++,g=er(u.J);if(De(g,"SID",u.M),De(g,"RID",p),De(g,"TYPE","terminate"),fa(u,g),p=new Pn(u,u.j,p),p.M=2,p.A=yu(er(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=p.A,g=!0),g||(p.g=xv(p.j,null),p.g.ea(p.A)),p.F=Date.now(),J(p)}_v(u)}function _u(u){u.g&&(_f(u),u.g.cancel(),u.g=null)}function dv(u){_u(u),u.v&&(o.clearTimeout(u.v),u.v=null),xu(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function Eu(u){if(!gn(u.h)&&!u.m){u.m=!0;var p=u.Ea;V||v(),F||(V(),F=!0),S.add(p,u),u.D=0}}function bC(u,p){return wr(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Gs(c(u.Ea,u,p),wv(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Pn(this,this.j,u);let O=this.o;if(this.U&&(O?(O=re(O),oe(O,this.U)):O=this.U),this.u!==null||this.R||(L.J=O,O=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=mv(this,L,p),g=er(this.J),De(g,"RID",u),De(g,"CVER",22),this.G&&De(g,"X-HTTP-Session-Id",this.G),fa(this,g),O&&(this.R?p="headers="+on(av(O))+"&"+p:this.u&&yf(g,this.u,O)),Xe(this.h,L),this.Ra&&De(g,"TYPE","init"),this.S?(De(g,"$req",p),De(g,"SID","null"),L.U=!0,Ni(L,g,null)):Ni(L,g,p),this.I=2}}else this.I==3&&(u?pv(this,u):this.i.length==0||gn(this.h)||pv(this))};function pv(u,p){var g;p?g=p.l:g=u.V++;const T=er(u.J);De(T,"SID",u.M),De(T,"RID",g),De(T,"AID",u.K),fa(u,T),u.u&&u.o&&yf(T,u.u,u.o),g=new Pn(u,u.j,g,u.D+1),u.u===null&&(g.J=u.o),p&&(u.i=p.G.concat(u.i)),p=mv(u,g,1e3),g.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Xe(u.h,g),Ni(g,T,p)}function fa(u,p){u.H&&Z(u.H,function(g,T){De(p,T,g)}),u.l&&Z({},function(g,T){De(p,T,g)})}function mv(u,p,g){g=Math.min(u.i.length,g);const T=u.l?c(u.l.Ka,u.l,u):null;e:{var L=u.i;let ae=-1;for(;;){const ut=["count="+g];ae==-1?g>0?(ae=L[0].g,ut.push("ofs="+ae)):ae=0:ut.push("ofs="+ae);let be=!0;for(let gt=0;gt<g;gt++){var O=L[gt].g;const tr=L[gt].map;if(O-=ae,O<0)ae=Math.max(0,L[gt].g-100),be=!1;else try{O="req"+O+"_"||"";try{var H=tr instanceof Map?tr:Object.entries(tr);for(const[Js,Jr]of H){let Zr=Jr;a(Jr)&&(Zr=Hs(Jr)),ut.push(O+Js+"="+encodeURIComponent(Zr))}}catch(Js){throw ut.push(O+"type="+encodeURIComponent("_badmap")),Js}}catch{T&&T(tr)}}if(be){H=ut.join("&");break e}}H=void 0}return u=u.i.splice(0,g),p.G=u,H}function gv(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;V||v(),F||(V(),F=!0),S.add(p,u),u.A=0}}function wf(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Gs(c(u.Da,u),wv(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,yv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Gs(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),_u(this),yv(this))};function _f(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function yv(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=er(u.na);De(p,"RID","rpc"),De(p,"SID",u.M),De(p,"AID",u.K),De(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&De(p,"TO",u.ia),De(p,"TYPE","xmlhttp"),fa(u,p),u.u&&u.o&&yf(p,u.u,u.o),u.O&&(u.g.H=u.O);var g=u.g;u=u.ba,g.M=1,g.A=yu(er(p)),g.u=null,g.R=!0,ea(g,u)}t.Va=function(){this.C!=null&&(this.C=null,_u(this),wf(this),_t(19))};function xu(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function vv(u,p){var g=null;if(u.g==p){xu(u),_f(u),u.g=null;var T=2}else if(Qs(u.h,p))g=p.G,na(u.h,p),T=1;else return;if(u.I!=0){if(p.o)if(T==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var L=u.D;T=Wr(),tt(T,new Gr(T,g)),Eu(u)}else gv(u);else if(L=p.m,L==3||L==0&&p.X>0||!(T==1&&bC(u,p)||T==2&&wf(u)))switch(g&&g.length>0&&(p=u.h,p.i=p.i.concat(g)),L){case 1:Xs(u,5);break;case 4:Xs(u,10);break;case 3:Xs(u,6);break;default:Xs(u,2)}}}function wv(u,p){let g=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(g*=2),g*p}function Xs(u,p){if(u.j.info("Error code "+p),p==2){var g=c(u.bb,u),T=u.Ua;const L=!T;T=new Qr(T||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||sa(T,"https"),yu(T),L?xC(T.toString(),g):TC(T.toString(),g)}else _t(2);u.I=0,u.l&&u.l.pa(p),_v(u),dv(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function _v(u){if(u.I=0,u.ja=[],u.l){const p=ra(u.h);(p.length!=0||u.i.length!=0)&&(y(u.ja,p),y(u.ja,u.i),u.h.i.length=0,m(u.i),u.i.length=0),u.l.oa()}}function Ev(u,p,g){var T=g instanceof Qr?er(g):new Qr(g);if(T.g!="")p&&(T.g=p+"."+T.g),ia(T,T.u);else{var L=o.location;T=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const O=new Qr(null);T&&sa(O,T),p&&(O.g=p),L&&ia(O,L),g&&(O.h=g),T=O}return g=u.G,p=u.wa,g&&p&&De(T,g,p),De(T,"VER",u.ka),fa(u,T),T}function xv(u,p,g){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new We(new gf({ab:g})):new We(u.ma),p.Fa(u.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tv(){}t=Tv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Tu(){}Tu.prototype.g=function(u,p){return new ln(u,p)};function ln(u,p){Qe.call(this),this.g=new fv(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!I(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Mi(this)}f(ln,Qe),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){vf(this.g)},ln.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.v&&(g={},g.__data__=Hs(u),u=g);p.i.push(new He(p.Ya++,u)),p.I==3&&Eu(p)},ln.prototype.N=function(){this.g.l=null,delete this.j,vf(this.g),delete this.g,ln.Z.N.call(this)};function Sv(u){Hr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}f(Sv,Hr);function kv(){sn.call(this),this.status=1}f(kv,sn);function Mi(u){this.g=u}f(Mi,Tv),Mi.prototype.ra=function(){tt(this.g,"a")},Mi.prototype.qa=function(u){tt(this.g,new Sv(u))},Mi.prototype.pa=function(u){tt(this.g,new kv)},Mi.prototype.oa=function(){tt(this.g,"b")},Tu.prototype.createWebChannel=Tu.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,P1=function(){return new Tu},R1=function(){return Wr()},I1=qt,Np={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ks.NO_ERROR=0,Ks.TIMEOUT=8,Ks.HTTP_ERROR=6,wc=Ks,Jo.COMPLETE="complete",b1=Jo,Yo.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Qe.prototype.listen=Qe.prototype.J,La=Yo,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,C1=We}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="12.8.0";function _N(t){Fo=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new _1("@firebase/firestore");function Fi(){return xi.logLevel}function G(t,...e){if(xi.logLevel<=me.DEBUG){const n=e.map(Rg);xi.debug(`Firestore (${Fo}): ${t}`,...n)}}function Fr(t,...e){if(xi.logLevel<=me.ERROR){const n=e.map(Rg);xi.error(`Firestore (${Fo}): ${t}`,...n)}}function So(t,...e){if(xi.logLevel<=me.WARN){const n=e.map(Rg);xi.warn(`Firestore (${Fo}): ${t}`,...n)}}function Rg(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,D1(t,r,n)}function D1(t,e,n){let r=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fr(r),new Error(r)}function Ee(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||D1(e,s,r)}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends Oo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class xN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TN{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ir,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ir)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new N1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new Dt(e)}}class SN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class kN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new SN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,iN(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=CN(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Vp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return td(s)===td(i)?he(s,i):td(s)?1:-1}return he(t.length,e.length)}const bN=55296,IN=57343;function td(t){const e=t.charCodeAt(0);return e>=bN&&e<=IN}function ko(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="__name__";class ir{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ir.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ir?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ir.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return he(e.length,n.length)}static compareSegments(e,n){const r=ir.isNumericId(e),s=ir.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ir.extractNumericId(e).compare(ir.extractNumericId(n)):Vp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class Ie extends ir{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const RN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends ir{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return RN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iw}static keyField(){return new kt([iw])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new W($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new W($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new W($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new W($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Ie.fromString(e))}static fromName(e){return new ee(Ie.fromString(e).popFirst(5))}static empty(){return new ee(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Ie(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e,n){if(!n)throw new W($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PN(t,e,n,r){if(e===!0&&r===!0)throw new W($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ow(t){if(!ee.isDocumentKey(t))throw new W($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aw(t){if(ee.isDocumentKey(t))throw new W($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function M1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Kh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(t);throw new W($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t,e){const n={typeString:t};return e&&(n.value=e),n}function Yl(t,e){if(!M1(t))throw new W($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new W($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=-62135596800,uw=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*uw);return new Ve(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lw)throw new W($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uw}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yl(e,Ve._jsonSchema))return new Ve(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:at("string",Ve._jsonSchemaVersion),seconds:at("number"),nanoseconds:at("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new Ve(0,0))}static max(){return new se(new Ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=-1;function DN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=se.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new ks(s,ee.empty(),e)}function NN(t){return new ks(t.readTime,t.key,Rl)}class ks{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ks(se.min(),ee.empty(),Rl)}static max(){return new ks(se.max(),ee.empty(),Rl)}}function VN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==MN)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function ON(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=-1;function Yh(t){return t==null}function oh(t){return t===0&&1/t==-1/0}function FN(t){return typeof t=="number"&&Number.isInteger(t)&&!oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="";function jN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=cw(e)),e=$N(t.get(n),e);return cw(e)}function $N(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case L1:n+="";break;default:n+=i}}return n}function cw(t){return t+L1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Os(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function O1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hu(this.root,e,this.comparator,!0)}}class Hu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??St.RED,this.left=s??St.EMPTY,this.right=i??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new St(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fw(this.data.getIterator())}getIteratorFrom(e){return new fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new hn([])}unionWith(e){let n=new pt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new F1("Invalid base64 string: "+i):i}}(e);return new bt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const zN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(t){if(Ee(!!t,39018),typeof t=="string"){let e=0;const n=zN.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cs(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="server_timestamp",$1="__type__",z1="__previous_value__",U1="__local_write_time__";function Ng(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$1])==null?void 0:r.stringValue)===j1}function Xh(t){const e=t.mapValue.fields[z1];return Ng(e)?Xh(e):e}function Pl(t){const e=As(t.mapValue.fields[U1].timestampValue);return new Ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,r,s,i,o,a,l,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h,this.apiKey=f}}const ah="(default)";class Dl{constructor(e,n){this.projectId=e,this.database=n||ah}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}function BN(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new W($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="__type__",HN="__max__",Wu={mapValue:{}},H1="__vector__",lh="value";function bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ng(t)?4:GN(t)?9007199254740991:WN(t)?10:11:ne(28295,{value:t})}function dr(t,e){if(t===e)return!0;const n=bs(t);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pl(t).isEqual(Pl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=As(s.timestampValue),a=As(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Cs(s.bytesValue).isEqual(Cs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Je(s.geoPointValue.latitude)===Je(i.geoPointValue.latitude)&&Je(s.geoPointValue.longitude)===Je(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Je(s.integerValue)===Je(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Je(s.doubleValue),a=Je(i.doubleValue);return o===a?oh(o)===oh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ko(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(hw(o)!==hw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!dr(o[l],a[l])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function Nl(t,e){return(t.values||[]).find(n=>dr(n,e))!==void 0}function Ao(t,e){if(t===e)return 0;const n=bs(t),r=bs(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Je(i.integerValue||i.doubleValue),l=Je(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return dw(t.timestampValue,e.timestampValue);case 4:return dw(Pl(t),Pl(e));case 5:return Vp(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Cs(i),l=Cs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=he(a[c],l[c]);if(h!==0)return h}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=he(Je(i.latitude),Je(o.latitude));return a!==0?a:he(Je(i.longitude),Je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var d,m,y,x;const a=i.fields||{},l=o.fields||{},c=(d=a[lh])==null?void 0:d.arrayValue,h=(m=l[lh])==null?void 0:m.arrayValue,f=he(((y=c==null?void 0:c.values)==null?void 0:y.length)||0,((x=h==null?void 0:h.values)==null?void 0:x.length)||0);return f!==0?f:pw(c,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Wu.mapValue&&o===Wu.mapValue)return 0;if(i===Wu.mapValue)return 1;if(o===Wu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=Vp(l[f],h[f]);if(d!==0)return d;const m=Ao(a[l[f]],c[h[f]]);if(m!==0)return m}return he(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{he:n})}}function dw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=As(t),r=As(e),s=he(n.seconds,r.seconds);return s!==0?s:he(n.nanos,r.nanos)}function pw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ao(n[s],r[s]);if(i)return i}return he(n.length,r.length)}function Co(t){return Mp(t)}function Mp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=As(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Cs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Mp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Mp(n.fields[o])}`;return s+"}"}(t.mapValue):ne(61005,{value:t})}function _c(t){switch(bs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xh(t);return e?16+_c(e):16;case 5:return 2*t.stringValue.length;case 6:return Cs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+_c(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Os(r.fields,(i,o)=>{s+=i.length+_c(o)}),s}(t.mapValue);default:throw ne(13486,{value:t})}}function mw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lp(t){return!!t&&"integerValue"in t}function Vg(t){return!!t&&"arrayValue"in t}function gw(t){return!!t&&"nullValue"in t}function yw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ec(t){return!!t&&"mapValue"in t}function WN(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[B1])==null?void 0:r.stringValue)===H1}function Za(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Os(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Za(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Za(t.arrayValue.values[n]);return e}return{...t}}function GN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===HN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ec(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Za(n)}setAll(e){let n=kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Za(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ec(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ec(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Os(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Xt(Za(this.value))}}function W1(t){const e=[];return Os(t.fields,(n,r)=>{const s=new kt([n]);if(Ec(r)){const i=W1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Vt(e,0,se.min(),se.min(),se.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,s){return new Vt(e,1,n,se.min(),r,s,0)}static newNoDocument(e,n){return new Vt(e,2,n,se.min(),se.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,se.min(),se.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.position=e,this.inclusive=n}}function vw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=Ao(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ww(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function qN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{}class ot extends G1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QN(e,n,r):n==="array-contains"?new JN(e,r):n==="in"?new ZN(e,r):n==="not-in"?new eV(e,r):n==="array-contains-any"?new tV(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YN(e,r):new XN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends G1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qn(e,n)}matches(e){return q1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q1(t){return t.op==="and"}function K1(t){return KN(t)&&q1(t)}function KN(t){for(const e of t.filters)if(e instanceof qn)return!1;return!0}function Op(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+Co(t.value);if(K1(t))return t.filters.map(e=>Op(e)).join(",");{const e=t.filters.map(n=>Op(n)).join(",");return`${t.op}(${e})`}}function Q1(t,e){return t instanceof ot?function(r,s){return s instanceof ot&&r.op===s.op&&r.field.isEqual(s.field)&&dr(r.value,s.value)}(t,e):t instanceof qn?function(r,s){return s instanceof qn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Q1(o,s.filters[a]),!0):!1}(t,e):void ne(19439)}function Y1(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`}(t):t instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(Y1).join(" ,")+"}"}(t):"Filter"}class QN extends ot{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class YN extends ot{constructor(e,n){super(e,"in",n),this.keys=X1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XN extends ot{constructor(e,n){super(e,"not-in",n),this.keys=X1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function X1(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class JN extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vg(n)&&Nl(n.arrayValue,this.value)}}class ZN extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nl(this.value.arrayValue,n)}}class eV extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nl(this.value.arrayValue,n)}}class tV extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function _w(t,e=null,n=[],r=[],s=null,i=null,o=null){return new nV(t,e,n,r,s,i,o)}function Mg(t){const e=ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Op(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),e.Te=n}return e.Te}function Lg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Q1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ww(t.startAt,e.startAt)&&ww(t.endAt,e.endAt)}function Fp(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function rV(t,e,n,r,s,i,o,a){return new Xl(t,e,n,r,s,i,o,a)}function Og(t){return new Xl(t)}function Ew(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sV(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function J1(t){return t.collectionGroup!==null}function el(t){const e=ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pt(kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ch(i,r))}),n.has(kt.keyField().canonicalString())||e.Ie.push(new ch(kt.keyField(),r))}return e.Ie}function ur(t){const e=ie(t);return e.Ee||(e.Ee=iV(e,el(t))),e.Ee}function iV(t,e){if(t.limitType==="F")return _w(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ch(s.field,i)});const n=t.endAt?new uh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uh(t.startAt.position,t.startAt.inclusive):null;return _w(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jp(t,e){const n=t.filters.concat([e]);return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $p(t,e,n){return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jh(t,e){return Lg(ur(t),ur(e))&&t.limitType===e.limitType}function Z1(t){return`${Mg(ur(t))}|lt:${t.limitType}`}function ji(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Y1(s)).join(", ")}]`),Yh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Co(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Co(s)).join(",")),`Target(${r})`}(ur(t))}; limitType=${t.limitType})`}function Zh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of el(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=vw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,el(r),s)||r.endAt&&!function(o,a,l){const c=vw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,el(r),s))}(t,e)}function oV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eS(t){return(e,n)=>{let r=!1;for(const s of el(t)){const i=aV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function aV(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Ao(l,c):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return O1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=new Be(ee.comparator);function $r(){return lV}const tS=new Be(ee.comparator);function Oa(...t){let e=tS;for(const n of t)e=e.insert(n.key,n);return e}function nS(t){let e=tS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ci(){return tl()}function rS(){return tl()}function tl(){return new Ci(t=>t.toString(),(t,e)=>t.isEqual(e))}const uV=new Be(ee.comparator),cV=new pt(ee.comparator);function fe(...t){let e=cV;for(const n of t)e=e.add(n);return e}const hV=new pt(he);function fV(){return hV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function sS(t){return{integerValue:""+t}}function dV(t,e){return FN(e)?sS(e):Fg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function pV(t,e,n){return t instanceof hh?function(s,i){const o={fields:{[$1]:{stringValue:j1},[U1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ng(i)&&(i=Xh(i)),i&&(o.fields[z1]=i),{mapValue:o}}(n,e):t instanceof Vl?oS(t,e):t instanceof Ml?aS(t,e):function(s,i){const o=iS(s,i),a=xw(o)+xw(s.Ae);return Lp(o)&&Lp(s.Ae)?sS(a):Fg(s.serializer,a)}(t,e)}function mV(t,e,n){return t instanceof Vl?oS(t,e):t instanceof Ml?aS(t,e):n}function iS(t,e){return t instanceof fh?function(r){return Lp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class hh extends ef{}class Vl extends ef{constructor(e){super(),this.elements=e}}function oS(t,e){const n=lS(e);for(const r of t.elements)n.some(s=>dr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ml extends ef{constructor(e){super(),this.elements=e}}function aS(t,e){let n=lS(e);for(const r of t.elements)n=n.filter(s=>!dr(s,r));return{arrayValue:{values:n}}}class fh extends ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xw(t){return Je(t.integerValue||t.doubleValue)}function lS(t){return Vg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Vl&&s instanceof Vl||r instanceof Ml&&s instanceof Ml?ko(r.elements,s.elements,dr):r instanceof fh&&s instanceof fh?dr(r.Ae,s.Ae):r instanceof hh&&s instanceof hh}(t.transform,e.transform)}class yV{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tf{}function uS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jg(t.key,Bn.none()):new Jl(t.key,t.data,Bn.none());{const n=t.data,r=Xt.empty();let s=new pt(kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Fs(t.key,r,new hn(s.toArray()),Bn.none())}}function vV(t,e,n){t instanceof Jl?function(s,i,o){const a=s.value.clone(),l=Sw(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fs?function(s,i,o){if(!xc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Sw(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(cS(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nl(t,e,n,r){return t instanceof Jl?function(i,o,a,l){if(!xc(i.precondition,o))return a;const c=i.value.clone(),h=kw(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fs?function(i,o,a,l){if(!xc(i.precondition,o))return a;const c=kw(i.fieldTransforms,l,o),h=o.data;return h.setAll(cS(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return xc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function wV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=iS(r.transform,s||null);i!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,i))}return n||null}function Tw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ko(r,s,(i,o)=>gV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jl extends tf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Fs extends tf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sw(t,e,n){const r=new Map;Ee(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,mV(o,a,n[s]))}return r}function kw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,pV(i,o,e))}return r}class jg extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _V extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&vV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=uS(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(n,r)=>Tw(n,r))&&ko(this.baseMutations,e.baseMutations,(n,r)=>Tw(n,r))}}class $g{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ee(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return uV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new $g(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,pe;function SV(t){switch(t){case $.OK:return ne(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function hS(t){if(t===void 0)return Fr("GRPC error has no .code"),$.UNKNOWN;switch(t){case rt.OK:return $.OK;case rt.CANCELLED:return $.CANCELLED;case rt.UNKNOWN:return $.UNKNOWN;case rt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case rt.INTERNAL:return $.INTERNAL;case rt.UNAVAILABLE:return $.UNAVAILABLE;case rt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case rt.NOT_FOUND:return $.NOT_FOUND;case rt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case rt.ABORTED:return $.ABORTED;case rt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case rt.DATA_LOSS:return $.DATA_LOSS;default:return ne(39323,{code:t})}}(pe=rt||(rt={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=new Es([4294967295,4294967295],0);function Aw(t){const e=kV().encode(t),n=new A1;return n.update(e),new Uint8Array(n.digest())}function Cw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Es([n,r],0),new Es([s,i],0)]}class zg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fa(`Invalid padding: ${n}`);if(r<0)throw new Fa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Es.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Es.fromNumber(r)));return s.compare(AV)===1&&(s=new Es([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Aw(e),[r,s]=Cw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new zg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Aw(e),[r,s]=Cw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nf(se.min(),s,new Be(he),$r(),fe())}}class Zl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zl(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class fS{constructor(e,n){this.targetId=e,this.Ce=n}}class dS{constructor(e,n,r=bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class bw{constructor(){this.ve=0,this.Fe=Iw(),this.Me=bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=fe(),n=fe(),r=fe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ne(38017,{changeType:i})}}),new Zl(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=Iw()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class CV{constructor(e){this.Ge=e,this.ze=new Map,this.je=$r(),this.He=Gu(),this.Je=Gu(),this.Ze=new Be(he)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Fp(i))if(r===0){const o=new ee(i.path);this.et(n,o,Vt.newNoDocument(o,se.min()))}else Ee(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Cs(r).toUint8Array()}catch(l){if(l instanceof F1)return So("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new zg(o,s,i)}catch(l){return So(l instanceof Fa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Fp(a.target)){const l=new ee(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Vt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=fe();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new nf(e,n,this.Ze,this.je,r);return this.je=$r(),this.He=Gu(),this.Je=Gu(),this.Ze=new Be(he),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new bw,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new pt(he),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new pt(he),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gu(){return new Be(ee.comparator)}function Iw(){return new Be(ee.comparator)}const bV={asc:"ASCENDING",desc:"DESCENDING"},IV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RV={and:"AND",or:"OR"};class PV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zp(t,e){return t.useProto3Json||Yh(e)?e:{value:e}}function dh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DV(t,e){return dh(t,e.toTimestamp())}function cr(t){return Ee(!!t,49232),se.fromTimestamp(function(n){const r=As(n);return new Ve(r.seconds,r.nanos)}(t))}function Ug(t,e){return Up(t,e).canonicalString()}function Up(t,e){const n=function(s){return new Ie(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mS(t){const e=Ie.fromString(t);return Ee(_S(e),10190,{key:e.toString()}),e}function Bp(t,e){return Ug(t.databaseId,e.path)}function nd(t,e){const n=mS(e);if(n.get(1)!==t.databaseId.projectId)throw new W($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(yS(n))}function gS(t,e){return Ug(t.databaseId,e)}function NV(t){const e=mS(t);return e.length===4?Ie.emptyPath():yS(e)}function Hp(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yS(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Rw(t,e,n){return{name:Bp(t,e),fields:n.value.mapValue.fields}}function VV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ne(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Ee(h===void 0||typeof h=="string",58123),bt.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),bt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?$.UNKNOWN:hS(c.code);return new W(h,c.message||"")}(o);n=new dS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=nd(t,r.document.name),i=cr(r.document.updateTime),o=r.document.createTime?cr(r.document.createTime):se.min(),a=new Xt({mapValue:{fields:r.document.fields}}),l=Vt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Tc(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=nd(t,r.document),i=r.readTime?cr(r.readTime):se.min(),o=Vt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Tc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=nd(t,r.document),i=r.removedTargetIds||[];n=new Tc([],i,s,null)}else{if(!("filter"in e))return ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new TV(s,i),a=r.targetId;n=new fS(a,o)}}return n}function MV(t,e){let n;if(e instanceof Jl)n={update:Rw(t,e.key,e.value)};else if(e instanceof jg)n={delete:Bp(t,e.key)};else if(e instanceof Fs)n={update:Rw(t,e.key,e.data),updateMask:HV(e.fieldMask)};else{if(!(e instanceof _V))return ne(16599,{dt:e.type});n={verify:Bp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof hh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:DV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne(27497)}(t,e.precondition)),n}function LV(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?cr(s.updateTime):cr(i);return o.isEqual(se.min())&&(o=cr(i)),new yV(o,s.transformResults||[])}(n,e))):[]}function OV(t,e){return{documents:[gS(t,e.path)]}}function FV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gS(t,s);const i=function(c){if(c.length!==0)return wS(qn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:$i(d.field),direction:zV(d.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=zp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function jV(t){let e=NV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ee(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const d=vS(f);return d instanceof qn&&K1(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(y){return new ch(zi(y.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,Yh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,m=f.values||[];return new uh(m,d)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const d=!f.before,m=f.values||[];return new uh(m,d)}(n.endAt)),rV(e,s,o,i,a,"F",l,c)}function $V(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zi(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=zi(n.unaryFilter.field);return ot.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zi(n.unaryFilter.field);return ot.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zi(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return ot.create(zi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(r=>vS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function zV(t){return bV[t]}function UV(t){return IV[t]}function BV(t){return RV[t]}function $i(t){return{fieldPath:t.canonicalString()}}function zi(t){return kt.fromServerFormat(t.fieldPath)}function wS(t){return t instanceof ot?function(n){if(n.op==="=="){if(yw(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NAN"}};if(gw(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yw(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NOT_NAN"}};if(gw(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$i(n.field),op:UV(n.op),value:n.value}}}(t):t instanceof qn?function(n){const r=n.getFilters().map(s=>wS(s));return r.length===1?r[0]:{compositeFilter:{op:BV(n.op),filters:r}}}(t):ne(54877,{filter:t})}function HV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _S(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function ES(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,r,s,i=se.min(),o=se.min(),a=bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.yt=e}}function GV(t){const e=jV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.Sn=new KV}addToCollectionParentIndex(e,n){return this.Sn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(ks.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class KV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new pt(Ie.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new pt(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xS=41943040;class Qt{static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(xS,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new bo(0)}static ar(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="LruGarbageCollector",QV=1048576;function Nw([t,e],[n,r]){const s=he(t,n);return s===0?he(e,r):s}class YV{constructor(e){this.Pr=e,this.buffer=new pt(Nw),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Nw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){G(Dw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?G(Dw,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Ar(3e5)})}}class JV{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Qh.ce);const r=new YV(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Pw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pw):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Fi()<=me.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function ZV(t,e){return new JV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.changes=new Ci(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&nl(r.mutation,s,hn.empty(),Ve.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const s=ci();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Oa();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=$r();const o=tl(),a=function(){return tl()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Fs)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),nl(h.mutation,c,h.mutation.getFieldMask(),Ve.now())):o.set(c.key,hn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new tM(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=tl();let s=new Be((o,a)=>o-a),i=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||hn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const f=(s.get(a.batchId)||fe()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=rS();h.forEach(d=>{if(!i.has(d)){const m=uS(n.get(d),r.get(d));m!==null&&f.set(d,m),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return sV(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):J1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(ci());let a=Rl,l=i;return o.next(c=>z.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,fe())).next(h=>({batchId:a,changes:nS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=Oa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Oa();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,l=>{const c=function(f,d){return new Xl(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Vt.newInvalidDocument(h)))});let a=Oa();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&nl(h.mutation,c,hn.empty(),Ve.now()),Zh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return z.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:cr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:GV(s.bundledQuery),readTime:cr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.overlays=new Be(ee.comparator),this.Lr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ci();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=ci(),i=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Be((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=ci(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=ci(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return z.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xV(n,r));let i=this.Lr.get(n);i===void 0&&(i=fe(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this.kr=new pt(yt.Kr),this.qr=new pt(yt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new yt(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new ee(new Ie([])),r=new yt(n,e),s=new yt(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ee(new Ie([])),r=new yt(n,e),s=new yt(n,e+1);let i=fe();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new yt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ee.comparator(e.key,n.key)||he(e.Hr,n.Hr)}static Ur(e,n){return he(e.Hr,n.Hr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new pt(yt.Kr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new EV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new yt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Dg:this.Yn-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),s=new yt(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(he);return n.forEach(s=>{const i=new yt(s,0),o=new yt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ee.isDocumentKey(i)||(i=i.child(""));const o=new yt(new ee(i),0);let a=new pt(he);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Hr)),!0)},o),z.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ee(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return z.forEach(n.mutations,s=>{const i=new yt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new yt(n,0),s=this.Jr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.ti=e,this.docs=function(){return new Be(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Vt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=$r();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||VN(NN(h),r)<=0||(s.has(h.key)||Zh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ne(9500)}ni(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lM(this)}getSize(e){return z.resolve(this.size)}}class lM extends eM{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.persistence=e,this.ri=new Ci(n=>Mg(n),Lg),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.ii=0,this.si=new Bg,this.targetCount=0,this.oi=bo._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),z.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.lr(n),z.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this._i={},this.overlays={},this.ai=new Qh(0),this.ui=!1,this.ui=!0,this.ci=new iM,this.referenceDelegate=e(this),this.li=new uM(this),this.indexManager=new qV,this.remoteDocumentCache=function(s){return new aM(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new WV(n),this.Pi=new rM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new oM(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new cM(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return z.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class cM extends LN{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Ri=new Bg,this.Ai=null}static Vi(e){return new Hg(e)}get di(){if(this.Ai)return this.Ai;throw ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.di,r=>{const s=ee.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,se.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ph{constructor(e,n){this.persistence=e,this.fi=new Ci(r=>jN(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=ZV(this,n)}static Vi(e,n){return new ph(e,n)}Ti(){}Ii(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return z.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,se.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),z.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_c(e.data.value)),n}wr(e,n,r){return z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=fe(),s=fe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Wg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return nD()?8:ON(eD())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new hM;return this.ys(e,n,o).next(a=>{if(i.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Fi()<=me.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",ji(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(Fi()<=me.DEBUG&&G("QueryEngine","Query:",ji(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Fi()<=me.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",ji(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(n))):z.resolve())}gs(e,n){if(Ew(n))return z.resolve(null);let r=ur(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=$p(n,null,"F"),r=ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=fe(...i);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ss(n,c,o,l.readTime)?this.gs(e,$p(n,null,"F")):this.Ds(e,c,n,l)}))})))}ps(e,n,r,s){return Ew(n)||s.isEqual(se.min())?z.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?z.resolve(null):(Fi()<=me.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ji(n)),this.Ds(e,o,n,DN(s,Rl)).next(a=>a))})}bs(e,n){let r=new pt(eS(e));return n.forEach((s,i)=>{Zh(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return Fi()<=me.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ji(n)),this.fs.getDocumentsMatchingQuery(e,n,ks.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="LocalStore",dM=3e8;class pM{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Be(he),this.Fs=new Ci(i=>Mg(i),Lg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function mM(t,e,n,r){return new pM(t,e,n,r)}async function SS(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=fe();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function gM(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,d=f.keys();let m=z.resolve();return d.forEach(y=>{m=m.next(()=>h.getEntry(l,y)).next(x=>{const k=c.docVersions.get(y);Ee(k!==null,48541),x.version.compareTo(k)<0&&(f.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),h.addEntry(x)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=fe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function kS(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function yM(t,e){const n=ie(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];e.targetChanges.forEach((h,f)=>{const d=s.get(f);if(!d)return;a.push(n.li.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.li.addMatchingKeys(i,h.addedDocuments,f)));let m=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(bt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),s=s.insert(f,m),function(x,k,w){return x.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=dM?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,m,h)&&a.push(n.li.updateTargetData(i,m))});let l=$r(),c=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(vM(i,o,e.documentUpdates).next(h=>{l=h.Bs,c=h.Ls})),!r.isEqual(se.min())){const h=n.li.getLastRemoteSnapshotVersion(i).next(f=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.vs=s,i))}function vM(t,e,n){let r=fe(),s=fe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=$r();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(Gg,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Bs:o,Ls:s}})}function wM(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Dg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _M(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new us(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function Wp(t,e,n){const r=ie(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!$o(o))throw o;G(Gg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function Vw(t,e,n){const r=ie(t);let s=se.min(),i=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=ie(l),d=f.Fs.get(h);return d!==void 0?z.resolve(f.vs.get(d)):f.li.getTargetData(c,h)}(r,o,ur(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:se.min(),n?i:fe())).next(a=>(EM(r,oV(e),a),{documents:a,ks:i})))}function EM(t,e,n){let r=t.Ms.get(e)||se.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class Mw{constructor(){this.activeTargetIds=fV()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xM{constructor(){this.vo=new Mw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Mw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="ConnectivityMonitor";class Ow{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){G(Lw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){G(Lw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function Gp(){return qu===null?qu=function(){return 268435456+Math.round(2147483648*Math.random())}():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="RestConnection",SM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===ah?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Gp(),a=this.Qo(e,n.toUriEncodedString());G(rd,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,s,i);const{host:c}=new URL(a),h=bg(c);return this.zo(e,a,l,r,h).then(f=>(G(rd,`Received RPC '${e}' ${o}: `,f),f),f=>{throw So(rd,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=SM[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection",xa=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class ho extends kM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ho.c_){const e=R1();xa(e,I1.STAT_EVENT,n=>{n.stat===Np.PROXY?G(Pt,"STAT_EVENT: detected buffering proxy"):n.stat===Np.NOPROXY&&G(Pt,"STAT_EVENT: detected no buffering proxy")}),ho.c_=!0}}zo(e,n,r,s,i){const o=Gp();return new Promise((a,l)=>{const c=new C1;c.setWithCredentials(!0),c.listenOnce(b1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case wc.NO_ERROR:const f=c.getResponseJson();G(Pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case wc.TIMEOUT:G(Pt,`RPC '${e}' ${o} timed out`),l(new W($.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const d=c.getStatus();if(G(Pt,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const x=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_)>=0?_:$.UNKNOWN}(y.status);l(new W(x,y.message))}else l(new W($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new W($.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(Pt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);G(Pt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Gp(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=i.join("");G(Pt,`Creating RPC '${e}' stream ${s}: ${c}`,a);const h=o.createWebChannel(c,a);this.I_(h);let f=!1,d=!1;const m=new AM({Ho:y=>{d?G(Pt,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(f||(G(Pt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),G(Pt,`RPC '${e}' stream ${s} sending:`,y),h.send(y))},Jo:()=>h.close()});return xa(h,La.EventType.OPEN,()=>{d||(G(Pt,`RPC '${e}' stream ${s} transport opened.`),m.i_())}),xa(h,La.EventType.CLOSE,()=>{d||(d=!0,G(Pt,`RPC '${e}' stream ${s} transport closed`),m.o_(),this.E_(h))}),xa(h,La.EventType.ERROR,y=>{d||(d=!0,So(Pt,`RPC '${e}' stream ${s} transport errored. Name:`,y.name,"Message:",y.message),m.o_(new W($.UNAVAILABLE,"The operation could not be completed")))}),xa(h,La.EventType.MESSAGE,y=>{var x;if(!d){const k=y.data[0];Ee(!!k,16349);const w=k,_=(w==null?void 0:w.error)||((x=w[0])==null?void 0:x.error);if(_){G(Pt,`RPC '${e}' stream ${s} received error:`,_);const E=_.status;let P=function(S){const v=rt[S];if(v!==void 0)return hS(v)}(E),V=_.message;P===void 0&&(P=$.INTERNAL,V="Unknown error status: "+E+" with message "+_.message),d=!0,m.o_(new W(P,V)),h.close()}else G(Pt,`RPC '${e}' stream ${s} received:`,k),m.__(k)}}),ho.u_(),setTimeout(()=>{m.s_()},0),m}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return P1()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t){return new ho(t)}function sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){return new PV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ho.c_=!1;class AS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="PersistentStream";class CS{constructor(e,n,r,s,i,o,a,l){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new W($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(Fw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(G(Fw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bM extends CS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=VV(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?cr(o.readTime):se.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Hp(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Fp(l)?{documents:OV(i,l)}:{query:FV(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=pS(i,o.resumeToken);const c=zp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=dh(i,o.snapshotVersion.toTimestamp());const c=zp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=$V(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Hp(this.serializer),n.removeTarget=e,this.K_(n)}}class IM extends CS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LV(e.writeResults,e.commitTime),r=cr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Hp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>MV(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{}class PM extends RM{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new W($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Up(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W($.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,Up(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function DM(t,e,n,r){return new PM(t,e,n,r)}class NM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fr(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="RemoteStore";class VM{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{bi(this)&&(G(Ti,"Restarting streams for network reachability change."),await async function(l){const c=ie(l);c.Ea.add(4),await eu(c),c.Va.set("Unknown"),c.Ea.delete(4),await sf(c)}(this))})}),this.Va=new NM(r,s)}}async function sf(t){if(bi(t))for(const e of t.Ra)await e(!0)}async function eu(t){for(const e of t.Ra)await e(!1)}function bS(t,e){const n=ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yg(n)?Qg(n):zo(n).O_()&&Kg(n,e))}function qg(t,e){const n=ie(t),r=zo(n);n.Ia.delete(e),r.O_()&&IS(n,e),n.Ia.size===0&&(r.O_()?r.L_():bi(n)&&n.Va.set("Unknown"))}function Kg(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(t).Z_(e)}function IS(t,e){t.da.$e(e),zo(t).X_(e)}function Qg(t){t.da=new CV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zo(t).start(),t.Va.ua()}function Yg(t){return bi(t)&&!zo(t).x_()&&t.Ia.size>0}function bi(t){return ie(t).Ea.size===0}function RS(t){t.da=void 0}async function MM(t){t.Va.set("Online")}async function LM(t){t.Ia.forEach((e,n)=>{Kg(t,e)})}async function OM(t,e){RS(t),Yg(t)?(t.Va.ha(e),Qg(t)):t.Va.set("Unknown")}async function FM(t,e,n){if(t.Va.set("Online"),e instanceof dS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(t,e)}catch(r){G(Ti,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mh(t,r)}else if(e instanceof Tc?t.da.Xe(e):e instanceof fS?t.da.st(e):t.da.tt(e),!n.isEqual(se.min()))try{const r=await kS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(c);h&&i.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(bt.EMPTY_BYTE_STRING,h.snapshotVersion)),IS(i,l);const f=new us(h.target,l,c,h.sequenceNumber);Kg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(Ti,"Failed to raise snapshot:",r),await mh(t,r)}}async function mh(t,e,n){if(!$o(e))throw e;t.Ea.add(1),await eu(t),t.Va.set("Offline"),n||(n=()=>kS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(Ti,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sf(t)})}function PS(t,e){return e().catch(n=>mh(t,n,e))}async function of(t){const e=ie(t),n=Is(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dg;for(;jM(e);)try{const s=await wM(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,$M(e,s)}catch(s){await mh(e,s)}DS(e)&&NS(e)}function jM(t){return bi(t)&&t.Ta.length<10}function $M(t,e){t.Ta.push(e);const n=Is(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function DS(t){return bi(t)&&!Is(t).x_()&&t.Ta.length>0}function NS(t){Is(t).start()}async function zM(t){Is(t).ra()}async function UM(t){const e=Is(t);for(const n of t.Ta)e.ea(n.mutations)}async function BM(t,e,n){const r=t.Ta.shift(),s=$g.from(r,e,n);await PS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await of(t)}async function HM(t,e){e&&Is(t).Y_&&await async function(r,s){if(function(o){return SV(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();Is(r).B_(),await PS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await of(r)}}(t,e),DS(t)&&NS(t)}async function jw(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),G(Ti,"RemoteStore received new credentials");const r=bi(n);n.Ea.add(3),await eu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sf(n)}async function WM(t,e){const n=ie(t);e?(n.Ea.delete(2),await sf(n)):e||(n.Ea.add(2),await eu(n),n.Va.set("Unknown"))}function zo(t){return t.ma||(t.ma=function(n,r,s){const i=ie(n);return i.sa(),new bM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:MM.bind(null,t),Yo:LM.bind(null,t),t_:OM.bind(null,t),J_:FM.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Yg(t)?Qg(t):t.Va.set("Unknown")):(await t.ma.stop(),RS(t))})),t.ma}function Is(t){return t.fa||(t.fa=function(n,r,s){const i=ie(n);return i.sa(),new IM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zM.bind(null,t),t_:HM.bind(null,t),ta:UM.bind(null,t),na:BM.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await of(t)):(await t.fa.stop(),t.Ta.length>0&&(G(Ti,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Xg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(t,e){if(Fr("AsyncQueue",`${e}: ${t}`),$o(t))return new W($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Oa(),this.sortedSet=new Be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.ga=new Be(ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ne(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Io{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Io(e,n,fo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class qM{constructor(){this.queries=zw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ie(n),i=s.queries;s.queries=zw(),i.forEach((o,a)=>{for(const l of a.ba)l.onError(r)})})(this,new W($.ABORTED,"Firestore shutting down"))}}function zw(){return new Ci(t=>Z1(t),Jh)}async function VS(t,e){const n=ie(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new GM,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Jg(o,`Initialization of query '${ji(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Zg(n)}async function MS(t,e){const n=ie(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KM(t,e){const n=ie(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&Zg(n)}function QM(t,e,n){const r=ie(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function Zg(t){t.Ca.forEach(e=>{e.next()})}var qp,Uw;(Uw=qp||(qp={})).Ma="default",Uw.Cache="cache";class LS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.key=e}}class FS{constructor(e){this.key=e}}class YM{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=fe(),this.mutatedKeys=fe(),this.eu=eS(e),this.tu=new fo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new $w,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const d=s.get(h),m=Zh(this.query,f)?f:null,y=!!d&&this.mutatedKeys.has(d.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let k=!1;d&&m?d.data.isEqual(m.data)?y!==x&&(r.track({type:3,doc:m}),k=!0):this.su(d,m)||(r.track({type:2,doc:m}),k=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!d&&m?(r.track({type:0,doc:m}),k=!0):d&&!m&&(r.track({type:1,doc:d}),k=!0,(l||c)&&(a=!0)),k&&(m?(o=o.add(m),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(m,y){const x=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Vt:k})}};return x(m)-x(y)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Ya.size===0&&this.current&&!s?1:0,c=l!==this.Xa;return this.Xa=l,o.length!==0||c?{snapshot:new Io(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $w,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=fe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new FS(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new OS(r))}),n}cu(e){this.Za=e.ks,this.Ya=fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ey="SyncEngine";class XM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JM{constructor(e){this.key=e,this.hu=!1}}class ZM{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ci(a=>Z1(a),Jh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Be(ee.comparator),this.Au=new Map,this.Vu=new Bg,this.du={},this.mu=new Map,this.fu=bo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eL(t,e,n=!0){const r=HS(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await jS(r,e,n,!0),s}async function tL(t,e){const n=HS(t);await jS(n,e,!0,!1)}async function jS(t,e,n,r){const s=await _M(t.localStore,ur(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await nL(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&bS(t.remoteStore,s),a}async function nL(t,e,n,r,s){t.pu=(f,d,m)=>async function(x,k,w,_){let E=k.view.ru(w);E.Ss&&(E=await Vw(x.localStore,k.query,!1).then(({documents:S})=>k.view.ru(S,E)));const P=_&&_.targetChanges.get(k.targetId),V=_&&_.targetMismatches.get(k.targetId)!=null,F=k.view.applyChanges(E,x.isPrimaryClient,P,V);return Hw(x,k.targetId,F.au),F.snapshot}(t,f,d,m);const i=await Vw(t.localStore,e,!0),o=new YM(e,i.ks),a=o.ru(i.documents),l=Zl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);Hw(t,n,c.au);const h=new XM(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function rL(t,e,n){const r=ie(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Jh(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Wp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&qg(r.remoteStore,s.targetId),Kp(r,s.targetId)}).catch(jo)):(Kp(r,s.targetId),await Wp(r.localStore,s.targetId,!0))}async function sL(t,e){const n=ie(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qg(n.remoteStore,r.targetId))}async function iL(t,e,n){const r=fL(t);try{const s=await function(o,a){const l=ie(o),c=Ve.now(),h=a.reduce((m,y)=>m.add(y.key),fe());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=$r(),x=fe();return l.xs.getEntries(m,h).next(k=>{y=k,y.forEach((w,_)=>{_.isValidDocument()||(x=x.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(k=>{f=k;const w=[];for(const _ of a){const E=wV(_,f.get(_.key).overlayedDocument);E!=null&&w.push(new Fs(_.key,E,W1(E.value.mapValue),Bn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,w,a)}).next(k=>{d=k;const w=k.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(m,k.batchId,w)})}).then(()=>({batchId:d.batchId,changes:nS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.du[o.currentUser.toKey()];c||(c=new Be(he)),c=c.insert(a,l),o.du[o.currentUser.toKey()]=c}(r,s.batchId,n),await tu(r,s.changes),await of(r.remoteStore)}catch(s){const i=Jg(s,"Failed to persist write");n.reject(i)}}async function $S(t,e){const n=ie(t);try{const r=await yM(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ee(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ee(o.hu,14607):s.removedDocuments.size>0&&(Ee(o.hu,42227),o.hu=!1))}),await tu(n,r,e)}catch(r){await jo(r)}}function Bw(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ie(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const d of f.ba)d.va(a)&&(c=!0)}),c&&Zg(l)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oL(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Be(ee.comparator);o=o.insert(i,Vt.newNoDocument(i,se.min()));const a=fe().add(i),l=new nf(se.min(),new Map,new Be(he),o,a);await $S(r,l),r.Ru=r.Ru.remove(i),r.Au.delete(e),ty(r)}else await Wp(r.localStore,e,!1).then(()=>Kp(r,e,n)).catch(jo)}async function aL(t,e){const n=ie(t),r=e.batch.batchId;try{const s=await gM(n.localStore,e);US(n,r,null),zS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tu(n,s)}catch(s){await jo(s)}}async function lL(t,e,n){const r=ie(t);try{const s=await function(o,a){const l=ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ee(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);US(r,e,n),zS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tu(r,s)}catch(s){await jo(s)}}function zS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function US(t,e,n){const r=ie(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Kp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||BS(t,r)})}function BS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(qg(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),ty(t))}function Hw(t,e,n){for(const r of n)r instanceof OS?(t.Vu.addReference(r.key,e),uL(t,r)):r instanceof FS?(G(ey,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||BS(t,r.key)):ne(19791,{wu:r})}function uL(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(G(ey,"New document in limbo: "+n),t.Eu.add(r),ty(t))}function ty(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ee(Ie.fromString(e)),r=t.fu.next();t.Au.set(r,new JM(n)),t.Ru=t.Ru.insert(n,r),bS(t.remoteStore,new us(ur(Og(n.path)),r,"TargetPurposeLimboResolution",Qh.ce))}}async function tu(t,e,n){const r=ie(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Wg.Es(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(l,c){const h=ie(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(c,d=>z.forEach(d.Ts,m=>h.persistence.referenceDelegate.addReference(f,d.targetId,m)).next(()=>z.forEach(d.Is,m=>h.persistence.referenceDelegate.removeReference(f,d.targetId,m)))))}catch(f){if(!$o(f))throw f;G(Gg,"Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const m=h.vs.get(d),y=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(y);h.vs=h.vs.insert(d,x)}}}(r.localStore,i))}async function cL(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){G(ey,"User change. New user:",e.toKey());const r=await SS(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new W($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(n,r.Ns)}}function hL(t,e){const n=ie(t),r=n.Au.get(e);if(r&&r.hu)return fe().add(r.key);{let s=fe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function HS(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$S.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oL.bind(null,e),e.Pu.J_=KM.bind(null,e.eventManager),e.Pu.yu=QM.bind(null,e.eventManager),e}function fL(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lL.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mM(this.persistence,new fM,e.initialUser,this.serializer)}Cu(e){return new TS(Hg.Vi,this.serializer)}Du(e){return new xM}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class dL extends gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ee(this.persistence.referenceDelegate instanceof ph,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new TS(r=>ph.Vi(r,n),this.serializer)}}class Qp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cL.bind(null,this.syncEngine),await WM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qM}()}createDatastore(e){const n=rf(e.databaseInfo.databaseId),r=CM(e.databaseInfo);return DM(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new VM(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Bw(this.syncEngine,n,0),function(){return Ow.v()?new Ow:new TM}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const f=new ZM(s,i,o,a,l,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ie(s);G(Ti,"RemoteStore shutting down."),i.Ea.add(5),await eu(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Qp.provider={build:()=>new Qp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="FirestoreClient";class pL{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=Dt.UNAUTHENTICATED,this.clientId=Pg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(Rs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(Rs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Jg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function id(t,e){t.asyncQueue.verifyOperationInProgress(),G(Rs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await SS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ww(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mL(t);G(Rs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>jw(e.remoteStore,s)),t._onlineComponents=e}async function mL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Rs,"Using user provided OfflineComponentProvider");try{await id(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await id(t,new gh)}}else G(Rs,"Using default OfflineComponentProvider"),await id(t,new dL(void 0));return t._offlineComponents}async function GS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Rs,"Using user provided OnlineComponentProvider"),await Ww(t,t._uninitializedComponentsProvider._online)):(G(Rs,"Using default OnlineComponentProvider"),await Ww(t,new Qp))),t._onlineComponents}function gL(t){return GS(t).then(e=>e.syncEngine)}async function qS(t){const e=await GS(t),n=e.eventManager;return n.onListen=eL.bind(null,e.syncEngine),n.onUnlisten=rL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sL.bind(null,e.syncEngine),n}function yL(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new WS({next:d=>{h.Nu(),o.enqueueAndForget(()=>MS(i,f));const m=d.docs.has(a);!m&&d.fromCache?c.reject(new W($.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&d.fromCache&&l&&l.source==="server"?c.reject(new W($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new LS(Og(a.path),h,{includeMetadataChanges:!0,Ka:!0});return VS(i,f)}(await qS(t),t.asyncQueue,e,n,r)),r.promise}function vL(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new WS({next:d=>{h.Nu(),o.enqueueAndForget(()=>MS(i,f)),d.fromCache&&l.source==="server"?c.reject(new W($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new LS(a,h,{includeMetadataChanges:!0,Ka:!0});return VS(i,f)}(await qS(t),t.asyncQueue,e,n,r)),r.promise}function wL(t,e){const n=new Ir;return t.asyncQueue.enqueueAndForget(async()=>iL(await gL(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L="ComponentProvider",Gw=new Map;function EL(t,e,n,r,s){return new UN(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,KS(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firestore.googleapis.com",qw=!0;class Kw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new W($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QS,this.ssl=qw}else this.host=e.host,this.ssl=e.ssl??qw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QV)throw new W($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new W($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new W($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new W($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new EN;switch(r.type){case"firstParty":return new kN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Gw.get(n);r&&(G(_L,"Removing Datastore"),Gw.delete(n),r.terminate())}(this),Promise.resolve()}}function xL(t,e,n,r={}){var c;t=jr(t,af);const s=bg(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Q2(`https://${a}`),Z2("Firestore",!0)),i.host!==QS&&i.host!==a&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!rh(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Dt.MOCK_USER;else{h=Y2(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new W($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Dt(d)}t._authCredentials=new xN(new N1(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Uo(this.firestore,e,this._query)}}class lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}toJSON(){return{type:lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Yl(n,lt._jsonSchema))return new lt(e,r||null,new ee(Ie.fromString(n.referencePath)))}}lt._jsonSchemaVersion="firestore/documentReference/1.0",lt._jsonSchema={type:at("string",lt._jsonSchemaVersion),referencePath:at("string")};class xs extends Uo{constructor(e,n,r){super(e,n,Og(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new ee(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function rl(t,e,...n){if(t=Lr(t),V1("collection","path",e),t instanceof af){const r=Ie.fromString(e,...n);return aw(r),new xs(t,null,r)}{if(!(t instanceof lt||t instanceof xs))throw new W($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return aw(r),new xs(t.firestore,null,r)}}function sl(t,e,...n){if(t=Lr(t),arguments.length===1&&(e=Pg.newId()),V1("doc","path",e),t instanceof af){const r=Ie.fromString(e,...n);return ow(r),new lt(t,null,new ee(r))}{if(!(t instanceof lt||t instanceof xs))throw new W($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return ow(r),new lt(t.firestore,t instanceof xs?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="AsyncQueue";class Yw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AS(this,"async_queue_retry"),this._c=()=>{const r=sd();r&&G(Qw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=sd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ir;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!$o(e))throw e;G(Qw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Fr("INTERNAL UNHANDLED ERROR: ",Xw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Xg.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ne(47125,{Pc:Xw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Xw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Bo extends af{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Yw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yw(e),this._firestoreClient=void 0,await e}}}function TL(t,e){const n=typeof t=="object"?t:uN(),r=typeof t=="string"?t:ah,s=sN(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=q2("firestore");i&&xL(s,...i)}return s}function ny(t){if(t._terminated)throw new W($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SL(t),t._firestoreClient}function SL(t){var r,s,i,o;const e=t._freezeSettings(),n=EL(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new pL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this._byteString=e}static fromBase64String(e){try{return new En(bt.fromBase64String(e))}catch(n){throw new W($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new En(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yl(e,En._jsonSchema))return En.fromBase64String(e.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:at("string",En._jsonSchemaVersion),bytes:at("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hr._jsonSchemaVersion}}static fromJSON(e){if(Yl(e,hr._jsonSchema))return new hr(e.latitude,e.longitude)}}hr._jsonSchemaVersion="firestore/geoPoint/1.0",hr._jsonSchema={type:at("string",hr._jsonSchemaVersion),latitude:at("number"),longitude:at("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Hn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yl(e,Hn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Hn(e.vectorValues);throw new W($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hn._jsonSchemaVersion="firestore/vectorValue/1.0",Hn._jsonSchema={type:at("string",Hn._jsonSchemaVersion),vectorValues:at("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=/^__.*__$/;class AL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(e,this.data,n,this.fieldTransforms)}}class YS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{dataSource:t})}}class iy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new iy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return yh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(XS(this.dataSource)&&kL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class CL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rf(e)}createContext(e,n,r,s=!1){return new iy({dataSource:e,methodName:n,targetDoc:r,path:kt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oy(t){const e=t._freezeSettings(),n=rf(t._databaseId);return new CL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bL(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);ay("Data must be an object, but it was:",o,r);const a=JS(r,o);let l,c;if(i.merge)l=new hn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const d=Ll(e,f,n);if(!o.contains(d))throw new W($.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);tk(h,d)||h.push(d)}l=new hn(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new AL(new Xt(a),l,c)}class lf extends sy{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}function IL(t,e,n,r){const s=t.createContext(1,e,n);ay("Data must be an object, but it was:",s,r);const i=[],o=Xt.empty();Os(r,(l,c)=>{const h=ek(e,l,n);c=Lr(c);const f=s.childContextForFieldPath(h);if(c instanceof lf)i.push(h);else{const d=nu(c,f);d!=null&&(i.push(h),o.set(h,d))}});const a=new hn(i);return new YS(o,a,s.fieldTransforms)}function RL(t,e,n,r,s,i){const o=t.createContext(1,e,n),a=[Ll(e,r,n)],l=[s];if(i.length%2!=0)throw new W($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)a.push(Ll(e,i[d])),l.push(i[d+1]);const c=[],h=Xt.empty();for(let d=a.length-1;d>=0;--d)if(!tk(c,a[d])){const m=a[d];let y=l[d];y=Lr(y);const x=o.childContextForFieldPath(m);if(y instanceof lf)c.push(m);else{const k=nu(y,x);k!=null&&(c.push(m),h.set(m,k))}}const f=new hn(c);return new YS(h,f,o.fieldTransforms)}function PL(t,e,n,r=!1){return nu(n,t.createContext(r?4:3,e))}function nu(t,e){if(ZS(t=Lr(t)))return ay("Unsupported field value:",e,t),JS(t,e);if(t instanceof sy)return function(r,s){if(!XS(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=nu(a,s.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Lr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ve.fromDate(r);return{timestampValue:dh(s.serializer,i)}}if(r instanceof Ve){const i=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(s.serializer,i)}}if(r instanceof hr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof En)return{bytesValue:pS(s.serializer,r._byteString)};if(r instanceof lt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ug(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Hn)return function(o,a){const l=o instanceof Hn?o.toArray():o;return{mapValue:{fields:{[B1]:{stringValue:H1},[lh]:{arrayValue:{values:l.map(h=>{if(typeof h!="number")throw a.createError("VectorValues must only contain numeric values.");return Fg(a.serializer,h)})}}}}}}(r,s);if(ES(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Kh(r)}`)}(t,e)}function JS(t,e){const n={};return O1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(t,(r,s)=>{const i=nu(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function ZS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof hr||t instanceof En||t instanceof lt||t instanceof sy||t instanceof Hn||ES(t))}function ay(t,e,n){if(!ZS(n)||!M1(n)){const r=Kh(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Ll(t,e,n){if((e=Lr(e))instanceof ry)return e._internalPath;if(typeof e=="string")return ek(t,e);throw yh("Field path arguments must be of type string or ",t,!1,void 0,n)}const DL=new RegExp("[~\\*/\\[\\]]");function ek(t,e,n){if(e.search(DL)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ry(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new W($.INVALID_ARGUMENT,a+t+l)}function tk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Os(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[lh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Je(o.doubleValue));return new Hn(n)}convertGeoPoint(e){return new hr(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const n=As(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ie.fromString(e);Ee(_S(r),9688,{name:e});const s=new Dl(r.get(1),r.get(3)),i=new ee(r.popFirst(5));return s.isEqual(n)||Fr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk extends NL{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}}const Jw="@firebase/firestore",Zw="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Ll("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VL extends rk{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ly{}class LL extends ly{}function OL(t,e,...n){let r=[];e instanceof ly&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof cy).length,a=i.filter(l=>l instanceof uy).length;if(o>1||o>0&&a>0)throw new W($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class uy extends LL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new uy(e,n,r)}_apply(e){const n=this._parse(e);return sk(e._query,n),new Uo(e.firestore,e.converter,jp(e._query,n))}_parse(e){const n=oy(e.firestore);return function(i,o,a,l,c,h,f){let d;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){t_(f,h);const y=[];for(const x of f)y.push(e_(l,i,x));d={arrayValue:{values:y}}}else d=e_(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||t_(f,h),d=PL(a,o,f,h==="in"||h==="not-in");return ot.create(c,h,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class cy extends ly{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)sk(o,l),o=jp(o,l)}(e._query,n),new Uo(e.firestore,e.converter,jp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function e_(t,e,n){if(typeof(n=Lr(n))=="string"){if(n==="")throw new W($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J1(e)&&n.indexOf("/")!==-1)throw new W($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ie.fromString(n));if(!ee.isDocumentKey(r))throw new W($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mw(t,new ee(r))}if(n instanceof lt)return mw(t,n._key);throw new W($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function t_(t,e){if(!Array.isArray(t)||t.length===0)throw new W($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sk(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function FL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mi extends rk{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ll("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=mi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}mi._jsonSchemaVersion="firestore/documentSnapshot/1.0",mi._jsonSchema={type:at("string",mi._jsonSchemaVersion),bundleSource:at("string","DocumentSnapshot"),bundleName:at("string"),bundle:at("string")};class Sc extends mi{data(e={}){return super.data(e)}}class po{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ja(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sc(this._firestore,this._userDataWriter,r.key,r,new ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Sc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ja(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Sc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ja(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:jL(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:at("string",po._jsonSchemaVersion),bundleSource:at("string","QuerySnapshot"),bundleName:at("string"),bundle:at("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(t){t=jr(t,lt);const e=jr(t.firestore,Bo),n=ny(e);return yL(n,t._key).then(r=>BL(e,t,r))}function vh(t){t=jr(t,Uo);const e=jr(t.firestore,Bo),n=ny(e),r=new nk(e);return ML(t._query),vL(n,t._query).then(s=>new po(e,r,t,s))}function $L(t,e,n,...r){t=jr(t,lt);const s=jr(t.firestore,Bo),i=oy(s);let o;return o=typeof(e=Lr(e))=="string"||e instanceof ry?RL(i,"updateDoc",t._key,e,n,r):IL(i,"updateDoc",t._key,e),hy(s,[o.toMutation(t._key,Bn.exists(!0))])}function zL(t){return hy(jr(t.firestore,Bo),[new jg(t._key,Bn.none())])}function UL(t,e){const n=jr(t.firestore,Bo),r=sl(t),s=FL(t.converter,e),i=oy(t.firestore);return hy(n,[bL(i,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function hy(t,e){const n=ny(t);return wL(n,e)}function BL(t,e,n){const r=n.docs.get(e._key),s=new nk(t);return new mi(t,s,e._key,r,new ja(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){_N(lN),ih(new bl("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Bo(new TN(r.getProvider("auth-internal")),new AN(o,r.getProvider("app-check-internal")),BN(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),co(Jw,Zw,e),co(Jw,Zw,"esm2020")})();var HL="firebase",WL="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(HL,WL,"app");const GL={apiKey:"AIzaSyAVfYL9M5iibrFL8P4Klm35CyUslOxO5Ug",authDomain:"solar-wars-wiki.firebaseapp.com",projectId:"solar-wars-wiki",storageBucket:"solar-wars-wiki.firebasestorage.app",messagingSenderId:"200924544853",appId:"1:200924544853:web:25572513e0ee299d7979dc"},qL=T1(GL),Sr=TL(qL);async function fy(){try{const t=OL(rl(Sr,"pages"));return(await vh(t)).docs.map(r=>({id:r.id,...r.data()})).sort((r,s)=>{const i=r.lastModified?new Date(r.lastModified):new Date(0);return(s.lastModified?new Date(s.lastModified):new Date(0))-i})}catch(t){return console.error("Error fetching pages:",t),[]}}function KL(t){const e=new Set;t.forEach(s=>{s.categories&&Array.isArray(s.categories)&&s.categories.forEach(i=>e.add(i.trim()))});const n={};Array.from(e).forEach(s=>{const i=s.split("-");let o=n;i.forEach((a,l)=>{o[a]||(o[a]={name:a,fullPath:i.slice(0,l+1).join("-"),children:{},pageCount:0}),o=o[a].children})});const r=s=>{t.filter(o=>o.categories&&o.categories.some(a=>a===s.fullPath)).length;const i=t.filter(o=>o.categories&&o.categories.some(a=>a.startsWith(s.fullPath))).length;s.pageCount=i,Object.values(s.children).forEach(o=>r(o))};return Object.values(n).forEach(s=>r(s)),n}function ik(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=ik(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function QL(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=ik(t))&&(r&&(r+=" "),r+=e);return r}const YL=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},XL=(t,e)=>({classGroupId:t,validator:e}),ok=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),wh="-",n_=[],JL="arbitrary..",ZL=t=>{const e=t4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return e4(o);const a=o.split(wh),l=a[0]===""&&a.length>1?1:0;return ak(a,l,e)},getConflictingClassGroupIds:(o,a)=>{if(a){const l=r[o],c=n[o];return l?c?YL(c,l):l:c||n_}return n[o]||n_}}},ak=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],i=n.nextPart.get(s);if(i){const c=ak(t,e+1,i);if(c)return c}const o=n.validators;if(o===null)return;const a=e===0?t.join(wh):t.slice(e).join(wh),l=o.length;for(let c=0;c<l;c++){const h=o[c];if(h.validator(a))return h.classGroupId}},e4=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?JL+r:void 0})(),t4=t=>{const{theme:e,classGroups:n}=t;return n4(n,e)},n4=(t,e)=>{const n=ok();for(const r in t){const s=t[r];dy(s,n,r,e)}return n},dy=(t,e,n,r)=>{const s=t.length;for(let i=0;i<s;i++){const o=t[i];r4(o,e,n,r)}},r4=(t,e,n,r)=>{if(typeof t=="string"){s4(t,e,n);return}if(typeof t=="function"){i4(t,e,n,r);return}o4(t,e,n,r)},s4=(t,e,n)=>{const r=t===""?e:lk(e,t);r.classGroupId=n},i4=(t,e,n,r)=>{if(a4(t)){dy(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(XL(n,t))},o4=(t,e,n,r)=>{const s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,l]=s[o];dy(l,lk(e,a),n,r)}},lk=(t,e)=>{let n=t;const r=e.split(wh),s=r.length;for(let i=0;i<s;i++){const o=r[i];let a=n.nextPart.get(o);a||(a=ok(),n.nextPart.set(o,a)),n=a}return n},a4=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,l4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const s=(i,o)=>{n[i]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(i){let o=n[i];if(o!==void 0)return o;if((o=r[i])!==void 0)return s(i,o),o},set(i,o){i in n?n[i]=o:s(i,o)}}},Xp="!",r_=":",u4=[],s_=(t,e,n,r,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),c4=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,a=0,l=0,c;const h=s.length;for(let x=0;x<h;x++){const k=s[x];if(o===0&&a===0){if(k===r_){i.push(s.slice(l,x)),l=x+1;continue}if(k==="/"){c=x;continue}}k==="["?o++:k==="]"?o--:k==="("?a++:k===")"&&a--}const f=i.length===0?s:s.slice(l);let d=f,m=!1;f.endsWith(Xp)?(d=f.slice(0,-1),m=!0):f.startsWith(Xp)&&(d=f.slice(1),m=!0);const y=c&&c>l?c-l:void 0;return s_(i,m,d,y)};if(e){const s=e+r_,i=r;r=o=>o.startsWith(s)?i(o.slice(s.length)):s_(u4,!1,o,void 0,!0)}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},h4=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let i=0;i<n.length;i++){const o=n[i],a=o[0]==="[",l=e.has(o);a||l?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(o)):s.push(o)}return s.length>0&&(s.sort(),r.push(...s)),r}},f4=t=>({cache:l4(t.cacheSize),parseClassName:c4(t),sortModifiers:h4(t),...ZL(t)}),d4=/\s+/,p4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(d4);let l="";for(let c=a.length-1;c>=0;c-=1){const h=a[c],{isExternal:f,modifiers:d,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:x}=n(h);if(f){l=h+(l.length>0?" "+l:l);continue}let k=!!x,w=r(k?y.substring(0,x):y);if(!w){if(!k){l=h+(l.length>0?" "+l:l);continue}if(w=r(y),!w){l=h+(l.length>0?" "+l:l);continue}k=!1}const _=d.length===0?"":d.length===1?d[0]:i(d).join(":"),E=m?_+Xp:_,P=E+w;if(o.indexOf(P)>-1)continue;o.push(P);const V=s(w,k);for(let F=0;F<V.length;++F){const S=V[F];o.push(E+S)}l=h+(l.length>0?" "+l:l)}return l},m4=(...t)=>{let e=0,n,r,s="";for(;e<t.length;)(n=t[e++])&&(r=uk(n))&&(s&&(s+=" "),s+=r);return s},uk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=uk(t[r]))&&(n&&(n+=" "),n+=e);return n},g4=(t,...e)=>{let n,r,s,i;const o=l=>{const c=e.reduce((h,f)=>f(h),t());return n=f4(c),r=n.cache.get,s=n.cache.set,i=a,a(l)},a=l=>{const c=r(l);if(c)return c;const h=p4(l,n);return s(l,h),h};return i=o,(...l)=>i(m4(...l))},y4=[],ct=t=>{const e=n=>n[t]||y4;return e.isThemeGetter=!0,e},ck=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,hk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,v4=/^\d+\/\d+$/,w4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,x4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,T4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oi=t=>v4.test(t),le=t=>!!t&&!Number.isNaN(Number(t)),ts=t=>!!t&&Number.isInteger(Number(t)),od=t=>t.endsWith("%")&&le(t.slice(0,-1)),_r=t=>w4.test(t),S4=()=>!0,k4=t=>_4.test(t)&&!E4.test(t),fk=()=>!1,A4=t=>x4.test(t),C4=t=>T4.test(t),b4=t=>!Q(t)&&!Y(t),I4=t=>Ho(t,mk,fk),Q=t=>ck.test(t),Zs=t=>Ho(t,gk,k4),ad=t=>Ho(t,V4,le),i_=t=>Ho(t,dk,fk),R4=t=>Ho(t,pk,C4),Ku=t=>Ho(t,yk,A4),Y=t=>hk.test(t),Ta=t=>Wo(t,gk),P4=t=>Wo(t,M4),o_=t=>Wo(t,dk),D4=t=>Wo(t,mk),N4=t=>Wo(t,pk),Qu=t=>Wo(t,yk,!0),Ho=(t,e,n)=>{const r=ck.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Wo=(t,e,n=!1)=>{const r=hk.exec(t);return r?r[1]?e(r[1]):n:!1},dk=t=>t==="position"||t==="percentage",pk=t=>t==="image"||t==="url",mk=t=>t==="length"||t==="size"||t==="bg-size",gk=t=>t==="length",V4=t=>t==="number",M4=t=>t==="family-name",yk=t=>t==="shadow",L4=()=>{const t=ct("color"),e=ct("font"),n=ct("text"),r=ct("font-weight"),s=ct("tracking"),i=ct("leading"),o=ct("breakpoint"),a=ct("container"),l=ct("spacing"),c=ct("radius"),h=ct("shadow"),f=ct("inset-shadow"),d=ct("text-shadow"),m=ct("drop-shadow"),y=ct("blur"),x=ct("perspective"),k=ct("aspect"),w=ct("ease"),_=ct("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],V=()=>[...P(),Y,Q],F=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],v=()=>[Y,Q,l],C=()=>[Oi,"full","auto",...v()],b=()=>[ts,"none","subgrid",Y,Q],R=()=>["auto",{span:["full",ts,Y,Q]},ts,Y,Q],M=()=>[ts,"auto",Y,Q],I=()=>["auto","min","max","fr",Y,Q],ke=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ke=()=>["start","end","center","stretch","center-safe","end-safe"],mt=()=>["auto",...v()],ge=()=>[Oi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],j=()=>[t,Y,Q],Z=()=>[...P(),o_,i_,{position:[Y,Q]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",D4,I4,{size:[Y,Q]}],Ae=()=>[od,Ta,Zs],oe=()=>["","none","full",c,Y,Q],xe=()=>["",le,Ta,Zs],de=()=>["solid","dashed","dotted","double"],et=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_e=()=>[le,od,o_,i_],nn=()=>["","none",y,Y,Q],Kn=()=>["none",le,Y,Q],Qn=()=>["none",le,Y,Q],Br=()=>[le,Y,Q],Yn=()=>[Oi,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_r],breakpoint:[_r],color:[S4],container:[_r],"drop-shadow":[_r],ease:["in","out","in-out"],font:[b4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_r],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_r],shadow:[_r],spacing:["px",le],text:[_r],"text-shadow":[_r],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Oi,Q,Y,k]}],container:["container"],columns:[{columns:[le,Q,Y,a]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:V()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[ts,"auto",Y,Q]}],basis:[{basis:[Oi,"full","auto",a,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[le,Oi,"auto","initial","none",Q]}],grow:[{grow:["",le,Y,Q]}],shrink:[{shrink:["",le,Y,Q]}],order:[{order:[ts,"first","last","none",Y,Q]}],"grid-cols":[{"grid-cols":b()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":b()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:[...ke(),"normal"]}],"justify-items":[{"justify-items":[...Ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ke()]}],"align-content":[{content:["normal",...ke()]}],"align-items":[{items:[...Ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":ke()}],"place-items":[{"place-items":[...Ke(),"baseline"]}],"place-self":[{"place-self":["auto",...Ke()]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:mt()}],mx:[{mx:mt()}],my:[{my:mt()}],ms:[{ms:mt()}],me:[{me:mt()}],mt:[{mt:mt()}],mr:[{mr:mt()}],mb:[{mb:mt()}],ml:[{ml:mt()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:ge()}],w:[{w:[a,"screen",...ge()]}],"min-w":[{"min-w":[a,"screen","none",...ge()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...ge()]}],h:[{h:["screen","lh",...ge()]}],"min-h":[{"min-h":["screen","lh","none",...ge()]}],"max-h":[{"max-h":["screen","lh",...ge()]}],"font-size":[{text:["base",n,Ta,Zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Y,ad]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",od,Q]}],"font-family":[{font:[P4,Q,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Y,Q]}],"line-clamp":[{"line-clamp":[le,"none",Y,ad]}],leading:[{leading:[i,...v()]}],"list-image":[{"list-image":["none",Y,Q]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Y,Q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[le,"from-font","auto",Y,Zs]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[le,"auto",Y,Q]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Y,Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Y,Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ts,Y,Q],radial:["",Y,Q],conic:[ts,Y,Q]},N4,R4]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:Ae()}],"gradient-via-pos":[{via:Ae()}],"gradient-to-pos":[{to:Ae()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:xe()}],"border-w-x":[{"border-x":xe()}],"border-w-y":[{"border-y":xe()}],"border-w-s":[{"border-s":xe()}],"border-w-e":[{"border-e":xe()}],"border-w-t":[{"border-t":xe()}],"border-w-r":[{"border-r":xe()}],"border-w-b":[{"border-b":xe()}],"border-w-l":[{"border-l":xe()}],"divide-x":[{"divide-x":xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[le,Y,Q]}],"outline-w":[{outline:["",le,Ta,Zs]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",h,Qu,Ku]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",f,Qu,Ku]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[le,Zs]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":xe()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",d,Qu,Ku]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[le,Y,Q]}],"mix-blend":[{"mix-blend":[...et(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":et()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[le]}],"mask-image-linear-from-pos":[{"mask-linear-from":_e()}],"mask-image-linear-to-pos":[{"mask-linear-to":_e()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":_e()}],"mask-image-t-to-pos":[{"mask-t-to":_e()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":_e()}],"mask-image-r-to-pos":[{"mask-r-to":_e()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":_e()}],"mask-image-b-to-pos":[{"mask-b-to":_e()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":_e()}],"mask-image-l-to-pos":[{"mask-l-to":_e()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":_e()}],"mask-image-x-to-pos":[{"mask-x-to":_e()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":_e()}],"mask-image-y-to-pos":[{"mask-y-to":_e()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[Y,Q]}],"mask-image-radial-from-pos":[{"mask-radial-from":_e()}],"mask-image-radial-to-pos":[{"mask-radial-to":_e()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[le]}],"mask-image-conic-from-pos":[{"mask-conic-from":_e()}],"mask-image-conic-to-pos":[{"mask-conic-to":_e()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Y,Q]}],filter:[{filter:["","none",Y,Q]}],blur:[{blur:nn()}],brightness:[{brightness:[le,Y,Q]}],contrast:[{contrast:[le,Y,Q]}],"drop-shadow":[{"drop-shadow":["","none",m,Qu,Ku]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",le,Y,Q]}],"hue-rotate":[{"hue-rotate":[le,Y,Q]}],invert:[{invert:["",le,Y,Q]}],saturate:[{saturate:[le,Y,Q]}],sepia:[{sepia:["",le,Y,Q]}],"backdrop-filter":[{"backdrop-filter":["","none",Y,Q]}],"backdrop-blur":[{"backdrop-blur":nn()}],"backdrop-brightness":[{"backdrop-brightness":[le,Y,Q]}],"backdrop-contrast":[{"backdrop-contrast":[le,Y,Q]}],"backdrop-grayscale":[{"backdrop-grayscale":["",le,Y,Q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[le,Y,Q]}],"backdrop-invert":[{"backdrop-invert":["",le,Y,Q]}],"backdrop-opacity":[{"backdrop-opacity":[le,Y,Q]}],"backdrop-saturate":[{"backdrop-saturate":[le,Y,Q]}],"backdrop-sepia":[{"backdrop-sepia":["",le,Y,Q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Y,Q]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[le,"initial",Y,Q]}],ease:[{ease:["linear","initial",w,Y,Q]}],delay:[{delay:[le,Y,Q]}],animate:[{animate:["none",_,Y,Q]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Y,Q]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:Kn()}],"rotate-x":[{"rotate-x":Kn()}],"rotate-y":[{"rotate-y":Kn()}],"rotate-z":[{"rotate-z":Kn()}],scale:[{scale:Qn()}],"scale-x":[{"scale-x":Qn()}],"scale-y":[{"scale-y":Qn()}],"scale-z":[{"scale-z":Qn()}],"scale-3d":["scale-3d"],skew:[{skew:Br()}],"skew-x":[{"skew-x":Br()}],"skew-y":[{"skew-y":Br()}],transform:[{transform:[Y,Q,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Yn()}],"translate-x":[{"translate-x":Yn()}],"translate-y":[{"translate-y":Yn()}],"translate-z":[{"translate-z":Yn()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Y,Q]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Y,Q]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[le,Ta,Zs,ad]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},O4=g4(L4);function Yu(...t){return O4(QL(t))}function F4(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function kc(t){if(!t)return"";if(typeof t=="string"&&t.length===4)return t;try{const e=new Date(t);return isNaN(e.getTime())?t:e.getUTCMonth()===0&&e.getUTCDate()===1?e.getUTCFullYear().toString():e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return t}}const Jp=({category:t,level:e=0})=>{const[n,r]=D.useState(!1),s=Object.keys(t.children).length>0,i=!!t.isPinned,o=a=>{a.preventDefault(),r(!n)};return A.jsxs("div",{className:"select-none",children:[A.jsxs("div",{className:Yu("group flex items-center gap-2 rounded-lg px-3 py-2 transition-colors hover:bg-white/5",i&&"bg-gradient-to-r from-primary/10 to-transparent border border-primary/20 mb-2"),style:{paddingLeft:e===0?"0.75rem":e*1.5+.75+"rem"},children:[A.jsx("button",{onClick:o,className:Yu("flex h-6 w-6 items-center justify-center rounded text-slate-400 hover:text-white transition-colors",!s&&"invisible"),children:n?A.jsx(qP,{size:14}):A.jsx(QP,{size:14})}),A.jsxs(_n,{to:`/search?category=${encodeURIComponent(t.fullPath)}`,className:"flex flex-1 items-center gap-2",children:[A.jsx("span",{className:Yu("text-primary/80",i&&"text-primary"),children:i?A.jsx("span",{className:"text-lg",children:""}):n?A.jsx(s2,{size:18}):A.jsx(o2,{size:18})}),A.jsx("span",{className:Yu("text-sm font-medium text-slate-300 group-hover:text-white",i&&"text-primary font-bold"),children:t.name}),A.jsx("span",{className:"ml-auto text-xs text-slate-600 group-hover:text-slate-500",children:t.pageCount})]})]}),n&&s&&A.jsx("div",{className:"border-l border-white/10 ml-5",children:Object.values(t.children).sort((a,l)=>a.name.localeCompare(l.name)).map(a=>A.jsx(Jp,{category:a,level:e+1},a.fullPath))})]})};function j4({categories:t}){if(!t||Object.keys(t).length===0)return A.jsx("div",{className:"text-center text-sm text-slate-500",children:"No categories found."});const e=Object.keys(t).find(s=>s.toLowerCase()==="sw guide"||s.toLowerCase()==="sw-guide");let n=null;const r={...t};return e&&(n={...t[e],isPinned:!0},delete r[e]),A.jsxs("div",{className:"flex flex-col gap-1",children:[n&&A.jsx(Jp,{category:n}),Object.values(r).sort((s,i)=>s.name.localeCompare(i.name)).map(s=>A.jsx(Jp,{category:s},s.fullPath))]})}function vk({page:t,className:e}){return t?A.jsxs(_n,{to:`/page/${t.pageSlug||t.id}`,className:`group relative flex flex-col justify-between overflow-hidden rounded-xl border border-white/5 bg-bg-card p-6 shadow-lg transition-all hover:-translate-y-1 hover:border-primary/50 hover:shadow-primary/10 ${e}`,children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),A.jsxs("div",{children:[A.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2 text-primary/80",children:[A.jsx(e2,{size:16}),A.jsx("span",{className:"text-xs font-medium uppercase tracking-wider",children:"Wiki Entry"})]}),t.createdAt&&A.jsx("span",{className:"text-xs text-slate-500",children:kc(t.createdAt)})]}),A.jsx("h3",{className:"mb-2 text-xl font-bold text-slate-100 group-hover:text-primary",children:t.title}),A.jsx("p",{className:"mb-4 line-clamp-3 text-sm text-slate-400",children:t.subtitle||"No description available."})]}),A.jsxs("div",{className:"mt-auto flex items-center justify-between border-t border-white/5 pt-4",children:[A.jsxs("div",{className:"flex gap-2",children:[t.categories&&t.categories.slice(0,2).map(n=>A.jsx("span",{className:"rounded-full bg-white/5 px-2 py-1 text-xs text-slate-400",children:n.split("-").pop()},n)),t.categories&&t.categories.length>2&&A.jsxs("span",{className:"rounded-full bg-white/5 px-2 py-1 text-xs text-slate-400",children:["+",t.categories.length-2]})]}),A.jsx(BP,{size:16,className:"text-primary opacity-0 transition-transform group-hover:translate-x-1 group-hover:opacity-100"})]})]}):null}function $4(){const[t,e]=D.useState([]),[n,r]=D.useState({}),[s,i]=D.useState(!0);return D.useEffect(()=>{async function o(){const a=await fy();e(a),r(KL(a)),i(!1)}o()},[]),s?A.jsx("div",{className:"flex h-[50vh] w-full items-center justify-center text-primary",children:A.jsx(To,{className:"animate-spin",size:48})}):A.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-4",children:[A.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[A.jsxs("div",{className:"rounded-xl border border-white/5 bg-bg-card p-6 shadow-lg",children:[A.jsx("h2",{className:"mb-4 text-xl font-bold text-primary",children:"Archives"}),A.jsx(j4,{categories:n})]}),A.jsxs("a",{href:"https://fer-000.github.io/solar-wars-web/",target:"_blank",rel:"noopener noreferrer",className:"block rounded-xl border border-primary/20 bg-gradient-to-br from-bg-card to-primary/5 p-6 shadow-lg hover:border-primary/40 hover:shadow-primary/10 transition-all",children:[A.jsx("h3",{className:"mb-2 font-bold text-white",children:"Visit SW Web"}),A.jsx("p",{className:"text-sm text-slate-400",children:"Your window to the Solar System at large."})]})]}),A.jsxs("div",{className:"lg:col-span-3",children:[A.jsxs("div",{className:"mb-8 rounded-xl border border-white/10 bg-gradient-to-r from-bg-card to-bg-dark p-8 text-center shadow-2xl",children:[A.jsx("h1",{className:"mb-2 text-4xl font-bold text-primary drop-shadow-[0_0_15px_rgba(0,217,255,0.3)]",children:"Welcome to SW Wiki"}),A.jsx("p",{className:"mx-auto max-w-2xl text-lg text-slate-400",children:"Explore the history, factions, and conflicts of the Solar System in the 2100s."})]}),A.jsxs("h2",{className:"mb-6 flex items-center gap-2 text-2xl font-bold text-white",children:[A.jsx("span",{className:"text-accent",children:"Recent"})," Transmissions"]}),A.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-2",children:t.slice(0,10).map(o=>A.jsx(vk,{page:o},o.id))})]})]})}function py(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ii=py();function wk(t){Ii=t}var il={exec:()=>null};function we(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(s,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(jt.caret,"$1"),n=n.replace(s,o),r},getRegex:()=>new RegExp(n,e)};return r}var z4=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),jt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},U4=/^(?:[ \t]*(?:\n|$))+/,B4=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,H4=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ru=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,W4=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,my=/(?:[*+-]|\d{1,9}[.)])/,_k=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ek=we(_k).replace(/bull/g,my).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),G4=we(_k).replace(/bull/g,my).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),gy=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,q4=/^[^\n]+/,yy=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,K4=we(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",yy).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Q4=we(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,my).getRegex(),uf="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",vy=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Y4=we("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",vy).replace("tag",uf).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),xk=we(gy).replace("hr",ru).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",uf).getRegex(),X4=we(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",xk).getRegex(),wy={blockquote:X4,code:B4,def:K4,fences:H4,heading:W4,hr:ru,html:Y4,lheading:Ek,list:Q4,newline:U4,paragraph:xk,table:il,text:q4},a_=we("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ru).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",uf).getRegex(),J4={...wy,lheading:G4,table:a_,paragraph:we(gy).replace("hr",ru).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",a_).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",uf).getRegex()},Z4={...wy,html:we(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",vy).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:il,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:we(gy).replace("hr",ru).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ek).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},eO=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,tO=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Tk=/^( {2,}|\\)\n(?!\s*$)/,nO=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,cf=/[\p{P}\p{S}]/u,_y=/[\s\p{P}\p{S}]/u,Sk=/[^\s\p{P}\p{S}]/u,rO=we(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,_y).getRegex(),kk=/(?!~)[\p{P}\p{S}]/u,sO=/(?!~)[\s\p{P}\p{S}]/u,iO=/(?:[^\s\p{P}\p{S}]|~)/u,oO=we(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",z4?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Ak=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,aO=we(Ak,"u").replace(/punct/g,cf).getRegex(),lO=we(Ak,"u").replace(/punct/g,kk).getRegex(),Ck="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",uO=we(Ck,"gu").replace(/notPunctSpace/g,Sk).replace(/punctSpace/g,_y).replace(/punct/g,cf).getRegex(),cO=we(Ck,"gu").replace(/notPunctSpace/g,iO).replace(/punctSpace/g,sO).replace(/punct/g,kk).getRegex(),hO=we("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Sk).replace(/punctSpace/g,_y).replace(/punct/g,cf).getRegex(),fO=we(/\\(punct)/,"gu").replace(/punct/g,cf).getRegex(),dO=we(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),pO=we(vy).replace("(?:-->|$)","-->").getRegex(),mO=we("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",pO).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_h=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,gO=we(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",_h).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),bk=we(/^!?\[(label)\]\[(ref)\]/).replace("label",_h).replace("ref",yy).getRegex(),Ik=we(/^!?\[(ref)\](?:\[\])?/).replace("ref",yy).getRegex(),yO=we("reflink|nolink(?!\\()","g").replace("reflink",bk).replace("nolink",Ik).getRegex(),l_=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Ey={_backpedal:il,anyPunctuation:fO,autolink:dO,blockSkip:oO,br:Tk,code:tO,del:il,emStrongLDelim:aO,emStrongRDelimAst:uO,emStrongRDelimUnd:hO,escape:eO,link:gO,nolink:Ik,punctuation:rO,reflink:bk,reflinkSearch:yO,tag:mO,text:nO,url:il},vO={...Ey,link:we(/^!?\[(label)\]\((.*?)\)/).replace("label",_h).getRegex(),reflink:we(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_h).getRegex()},Zp={...Ey,emStrongRDelimAst:cO,emStrongLDelim:lO,url:we(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",l_).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:we(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",l_).getRegex()},wO={...Zp,br:we(Tk).replace("{2,}","*").getRegex(),text:we(Zp.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Xu={normal:wy,gfm:J4,pedantic:Z4},Sa={normal:Ey,gfm:Zp,breaks:wO,pedantic:vO},_O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u_=t=>_O[t];function Er(t,e){if(e){if(jt.escapeTest.test(t))return t.replace(jt.escapeReplace,u_)}else if(jt.escapeTestNoEncode.test(t))return t.replace(jt.escapeReplaceNoEncode,u_);return t}function c_(t){try{t=encodeURI(t).replace(jt.percentDecode,"%")}catch{return null}return t}function h_(t,e){var i;let n=t.replace(jt.findPipe,(o,a,l)=>{let c=!1,h=a;for(;--h>=0&&l[h]==="\\";)c=!c;return c?"|":" |"}),r=n.split(jt.splitPipe),s=0;if(r[0].trim()||r.shift(),r.length>0&&!((i=r.at(-1))!=null&&i.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(jt.slashPipe,"|");return r}function ka(t,e,n){let r=t.length;if(r===0)return"";let s=0;for(;s<r&&t.charAt(r-s-1)===e;)s++;return t.slice(0,r-s)}function EO(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function f_(t,e,n,r,s){let i=e.href,o=e.title||null,a=t[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function xO(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let s=r[1];return e.split(`
`).map(i=>{let o=i.match(n.other.beginningSpace);if(o===null)return i;let[a]=o;return a.length>=s.length?i.slice(s.length):i}).join(`
`)}var Eh=class{constructor(t){Ce(this,"options");Ce(this,"rules");Ce(this,"lexer");this.options=t||Ii}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:ka(n,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=xO(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=ka(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:ka(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=ka(e[0],`
`).split(`
`),r="",s="",i=[];for(;n.length>0;){let o=!1,a=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),o=!0;else if(!o)a.push(n[l]);else break;n=n.slice(l);let c=a.join(`
`),h=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,s=s?`${s}
${h}`:h;let f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,i,!0),this.lexer.state.top=f,n.length===0)break;let d=i.at(-1);if((d==null?void 0:d.type)==="code")break;if((d==null?void 0:d.type)==="blockquote"){let m=d,y=m.raw+`
`+n.join(`
`),x=this.blockquote(y);i[i.length-1]=x,r=r.substring(0,r.length-m.raw.length)+x.raw,s=s.substring(0,s.length-m.text.length)+x.text;break}else if((d==null?void 0:d.type)==="list"){let m=d,y=m.raw+`
`+n.join(`
`),x=this.list(y);i[i.length-1]=x,r=r.substring(0,r.length-d.raw.length)+x.raw,s=s.substring(0,s.length-m.raw.length)+x.raw,n=y.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:s}}}list(t){var n,r;let e=this.rules.block.list.exec(t);if(e){let s=e[1].trim(),i=s.length>1,o={type:"list",raw:"",ordered:i,start:i?+s.slice(0,-1):"",loose:!1,items:[]};s=i?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=i?s:"[*+-]");let a=this.rules.other.listItemRegex(s),l=!1;for(;t;){let h=!1,f="",d="";if(!(e=a.exec(t))||this.rules.block.hr.test(t))break;f=e[0],t=t.substring(f.length);let m=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,w=>" ".repeat(3*w.length)),y=t.split(`
`,1)[0],x=!m.trim(),k=0;if(this.options.pedantic?(k=2,d=m.trimStart()):x?k=e[1].length+1:(k=e[2].search(this.rules.other.nonSpaceChar),k=k>4?1:k,d=m.slice(k),k+=e[1].length),x&&this.rules.other.blankLine.test(y)&&(f+=y+`
`,t=t.substring(y.length+1),h=!0),!h){let w=this.rules.other.nextBulletRegex(k),_=this.rules.other.hrRegex(k),E=this.rules.other.fencesBeginRegex(k),P=this.rules.other.headingBeginRegex(k),V=this.rules.other.htmlBeginRegex(k);for(;t;){let F=t.split(`
`,1)[0],S;if(y=F,this.options.pedantic?(y=y.replace(this.rules.other.listReplaceNesting,"  "),S=y):S=y.replace(this.rules.other.tabCharGlobal,"    "),E.test(y)||P.test(y)||V.test(y)||w.test(y)||_.test(y))break;if(S.search(this.rules.other.nonSpaceChar)>=k||!y.trim())d+=`
`+S.slice(k);else{if(x||m.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||E.test(m)||P.test(m)||_.test(m))break;d+=`
`+y}!x&&!y.trim()&&(x=!0),f+=F+`
`,t=t.substring(F.length+1),m=S.slice(k)}}o.loose||(l?o.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(l=!0)),o.items.push({type:"list_item",raw:f,task:!!this.options.gfm&&this.rules.other.listIsTask.test(d),loose:!1,text:d,tokens:[]}),o.raw+=f}let c=o.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let h of o.items){if(this.lexer.state.top=!1,h.tokens=this.lexer.blockTokens(h.text,[]),h.task){if(h.text=h.text.replace(this.rules.other.listReplaceTask,""),((n=h.tokens[0])==null?void 0:n.type)==="text"||((r=h.tokens[0])==null?void 0:r.type)==="paragraph"){h.tokens[0].raw=h.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),h.tokens[0].text=h.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let d=this.lexer.inlineQueue.length-1;d>=0;d--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[d].src)){this.lexer.inlineQueue[d].src=this.lexer.inlineQueue[d].src.replace(this.rules.other.listReplaceTask,"");break}}let f=this.rules.other.listTaskCheckbox.exec(h.raw);if(f){let d={type:"checkbox",raw:f[0]+" ",checked:f[0]!=="[ ]"};h.checked=d.checked,o.loose?h.tokens[0]&&["paragraph","text"].includes(h.tokens[0].type)&&"tokens"in h.tokens[0]&&h.tokens[0].tokens?(h.tokens[0].raw=d.raw+h.tokens[0].raw,h.tokens[0].text=d.raw+h.tokens[0].text,h.tokens[0].tokens.unshift(d)):h.tokens.unshift({type:"paragraph",raw:d.raw,text:d.raw,tokens:[d]}):h.tokens.unshift(d)}}if(!o.loose){let f=h.tokens.filter(m=>m.type==="space"),d=f.length>0&&f.some(m=>this.rules.other.anyLine.test(m.raw));o.loose=d}}if(o.loose)for(let h of o.items){h.loose=!0;for(let f of h.tokens)f.type==="text"&&(f.type="paragraph")}return o}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:s}}}table(t){var o;let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=h_(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(o=e[3])!=null&&o.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let a of r)this.rules.other.tableAlignRight.test(a)?i.align.push("right"):this.rules.other.tableAlignCenter.test(a)?i.align.push("center"):this.rules.other.tableAlignLeft.test(a)?i.align.push("left"):i.align.push(null);for(let a=0;a<n.length;a++)i.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:i.align[a]});for(let a of s)i.rows.push(h_(a,i.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:i.align[c]})));return i}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=ka(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{let i=EO(e[2],"()");if(i===-2)return;if(i>-1){let o=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let r=e[2],s="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],s=i[3])}else s=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),f_(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[r.toLowerCase()];if(!s){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return f_(n,s,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...r[0]].length-1,i,o,a=s,l=0,c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+s);(r=c.exec(e))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=[...i].length,r[3]||r[4]){a+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){l+=o;continue}if(a-=o,a>0)continue;o=Math.min(o,o+a+l);let h=[...r[0]][0].length,f=t.slice(0,s+r.index+h+o);if(Math.min(s,o)%2){let m=f.slice(1,-1);return{type:"em",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}let d=f.slice(2,-2);return{type:"strong",raw:f,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let e;if(e=this.rules.inline.url.exec(t)){let r,s;if(e[2]==="@")r=e[0],s="mailto:"+r;else{let i;do i=e[0],e[0]=((n=this.rules.inline._backpedal.exec(e[0]))==null?void 0:n[0])??"";while(i!==e[0]);r=e[0],e[1]==="www."?s="http://"+e[0]:s=e[0]}return{type:"link",raw:e[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},jn=class em{constructor(e){Ce(this,"tokens");Ce(this,"options");Ce(this,"state");Ce(this,"inlineQueue");Ce(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ii,this.options.tokenizer=this.options.tokenizer||new Eh,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:jt,block:Xu.normal,inline:Sa.normal};this.options.pedantic?(n.block=Xu.pedantic,n.inline=Sa.pedantic):this.options.gfm&&(n.block=Xu.gfm,this.options.breaks?n.inline=Sa.breaks:n.inline=Sa.gfm),this.tokenizer.rules=n}static get rules(){return{block:Xu,inline:Sa}}static lex(e,n){return new em(n).lex(e)}static lexInline(e,n){return new em(n).inlineTokens(e)}lex(e){e=e.replace(jt.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){var s,i,o;for(this.options.pedantic&&(e=e.replace(jt.tabCharGlobal,"    ").replace(jt.spaceLine,""));e;){let a;if((i=(s=this.options.extensions)==null?void 0:s.block)!=null&&i.some(c=>(a=c.call({lexer:this},e,n))?(e=e.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);let c=n.at(-1);a.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.at(-1).src=c.text):n.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},n.push(a));continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),n.push(a);continue}let l=e;if((o=this.options.extensions)!=null&&o.startBlock){let c=1/0,h=e.slice(1),f;this.options.extensions.startBlock.forEach(d=>{f=d.call({lexer:this},h),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(this.state.top&&(a=this.tokenizer.paragraph(l))){let c=n.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(a),r=l.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(a);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var l,c,h,f,d;let r=e,s=null;if(this.tokens.links){let m=Object.keys(this.tokens.links);if(m.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)m.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)i=s[2]?s[2].length:0,r=r.slice(0,s.index+i)+"["+"a".repeat(s[0].length-i-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=((c=(l=this.options.hooks)==null?void 0:l.emStrongMask)==null?void 0:c.call({lexer:this},r))??r;let o=!1,a="";for(;e;){o||(a=""),o=!1;let m;if((f=(h=this.options.extensions)==null?void 0:h.inline)!=null&&f.some(x=>(m=x.call({lexer:this},e,n))?(e=e.substring(m.raw.length),n.push(m),!0):!1))continue;if(m=this.tokenizer.escape(e)){e=e.substring(m.raw.length),n.push(m);continue}if(m=this.tokenizer.tag(e)){e=e.substring(m.raw.length),n.push(m);continue}if(m=this.tokenizer.link(e)){e=e.substring(m.raw.length),n.push(m);continue}if(m=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(m.raw.length);let x=n.at(-1);m.type==="text"&&(x==null?void 0:x.type)==="text"?(x.raw+=m.raw,x.text+=m.text):n.push(m);continue}if(m=this.tokenizer.emStrong(e,r,a)){e=e.substring(m.raw.length),n.push(m);continue}if(m=this.tokenizer.codespan(e)){e=e.substring(m.raw.length),n.push(m);continue}if(m=this.tokenizer.br(e)){e=e.substring(m.raw.length),n.push(m);continue}if(m=this.tokenizer.del(e)){e=e.substring(m.raw.length),n.push(m);continue}if(m=this.tokenizer.autolink(e)){e=e.substring(m.raw.length),n.push(m);continue}if(!this.state.inLink&&(m=this.tokenizer.url(e))){e=e.substring(m.raw.length),n.push(m);continue}let y=e;if((d=this.options.extensions)!=null&&d.startInline){let x=1/0,k=e.slice(1),w;this.options.extensions.startInline.forEach(_=>{w=_.call({lexer:this},k),typeof w=="number"&&w>=0&&(x=Math.min(x,w))}),x<1/0&&x>=0&&(y=e.substring(0,x+1))}if(m=this.tokenizer.inlineText(y)){e=e.substring(m.raw.length),m.raw.slice(-1)!=="_"&&(a=m.raw.slice(-1)),o=!0;let x=n.at(-1);(x==null?void 0:x.type)==="text"?(x.raw+=m.raw,x.text+=m.text):n.push(m);continue}if(e){let x="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(x);break}else throw new Error(x)}}return n}},xh=class{constructor(t){Ce(this,"options");Ce(this,"parser");this.options=t||Ii}space(t){return""}code({text:t,lang:e,escaped:n}){var i;let r=(i=(e||"").match(jt.notSpaceStart))==null?void 0:i[0],s=t.replace(jt.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Er(r)+'">'+(n?s:Er(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:Er(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let o=0;o<t.items.length;o++){let a=t.items[o];r+=this.listitem(a)}let s=e?"ol":"ul",i=e&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+r+"</"+s+`>
`}listitem(t){return`<li>${this.parser.parse(t.tokens)}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);e+=this.tablerow({text:n});let r="";for(let s=0;s<t.rows.length;s++){let i=t.rows[s];n="";for(let o=0;o<i.length;o++)n+=this.tablecell(i[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Er(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),s=c_(t);if(s===null)return r;t=s;let i='<a href="'+t+'"';return e&&(i+=' title="'+Er(e)+'"'),i+=">"+r+"</a>",i}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let s=c_(t);if(s===null)return Er(n);t=s;let i=`<img src="${t}" alt="${n}"`;return e&&(i+=` title="${Er(e)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Er(t.text)}},xy=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}checkbox({raw:t}){return t}},$n=class tm{constructor(e){Ce(this,"options");Ce(this,"renderer");Ce(this,"textRenderer");this.options=e||Ii,this.options.renderer=this.options.renderer||new xh,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new xy}static parse(e,n){return new tm(n).parse(e)}static parseInline(e,n){return new tm(n).parseInline(e)}parse(e){var r,s;let n="";for(let i=0;i<e.length;i++){let o=e[i];if((s=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&s[o.type]){let l=o,c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(l.type)){n+=c||"";continue}}let a=o;switch(a.type){case"space":{n+=this.renderer.space(a);break}case"hr":{n+=this.renderer.hr(a);break}case"heading":{n+=this.renderer.heading(a);break}case"code":{n+=this.renderer.code(a);break}case"table":{n+=this.renderer.table(a);break}case"blockquote":{n+=this.renderer.blockquote(a);break}case"list":{n+=this.renderer.list(a);break}case"checkbox":{n+=this.renderer.checkbox(a);break}case"html":{n+=this.renderer.html(a);break}case"def":{n+=this.renderer.def(a);break}case"paragraph":{n+=this.renderer.paragraph(a);break}case"text":{n+=this.renderer.text(a);break}default:{let l='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}parseInline(e,n=this.renderer){var s,i;let r="";for(let o=0;o<e.length;o++){let a=e[o];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[a.type]){let c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=c||"";continue}}let l=a;switch(l.type){case"escape":{r+=n.text(l);break}case"html":{r+=n.html(l);break}case"link":{r+=n.link(l);break}case"image":{r+=n.image(l);break}case"checkbox":{r+=n.checkbox(l);break}case"strong":{r+=n.strong(l);break}case"em":{r+=n.em(l);break}case"codespan":{r+=n.codespan(l);break}case"br":{r+=n.br(l);break}case"del":{r+=n.del(l);break}case"text":{r+=n.text(l);break}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},rc,$a=(rc=class{constructor(t){Ce(this,"options");Ce(this,"block");this.options=t||Ii}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?jn.lex:jn.lexInline}provideParser(){return this.block?$n.parse:$n.parseInline}},Ce(rc,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Ce(rc,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),rc),TO=class{constructor(...t){Ce(this,"defaults",py());Ce(this,"options",this.setOptions);Ce(this,"parse",this.parseMarkdown(!0));Ce(this,"parseInline",this.parseMarkdown(!1));Ce(this,"Parser",$n);Ce(this,"Renderer",xh);Ce(this,"TextRenderer",xy);Ce(this,"Lexer",jn);Ce(this,"Tokenizer",Eh);Ce(this,"Hooks",$a);this.use(...t)}walkTokens(t,e){var r,s;let n=[];for(let i of t)switch(n=n.concat(e.call(this,i)),i.type){case"table":{let o=i;for(let a of o.header)n=n.concat(this.walkTokens(a.tokens,e));for(let a of o.rows)for(let l of a)n=n.concat(this.walkTokens(l.tokens,e));break}case"list":{let o=i;n=n.concat(this.walkTokens(o.items,e));break}default:{let o=i;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[o.type]?this.defaults.extensions.childTokens[o.type].forEach(a=>{let l=o[a].flat(1/0);n=n.concat(this.walkTokens(l,e))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let i=e.renderers[s.name];i?e.renderers[s.name]=function(...o){let a=s.renderer.apply(this,o);return a===!1&&(a=i.apply(this,o)),a}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[s.level];i?i.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),n.renderer){let s=this.defaults.renderer||new xh(this.defaults);for(let i in n.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let o=i,a=n.renderer[o],l=s[o];s[o]=(...c)=>{let h=a.apply(s,c);return h===!1&&(h=l.apply(s,c)),h||""}}r.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new Eh(this.defaults);for(let i in n.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let o=i,a=n.tokenizer[o],l=s[o];s[o]=(...c)=>{let h=a.apply(s,c);return h===!1&&(h=l.apply(s,c)),h}}r.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new $a;for(let i in n.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let o=i,a=n.hooks[o],l=s[o];$a.passThroughHooks.has(i)?s[o]=c=>{if(this.defaults.async&&$a.passThroughHooksRespectAsync.has(i))return(async()=>{let f=await a.call(s,c);return l.call(s,f)})();let h=a.call(s,c);return l.call(s,h)}:s[o]=(...c)=>{if(this.defaults.async)return(async()=>{let f=await a.apply(s,c);return f===!1&&(f=await l.apply(s,c)),f})();let h=a.apply(s,c);return h===!1&&(h=l.apply(s,c)),h}}r.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(o){let a=[];return a.push(i.call(this,o)),s&&(a=a.concat(s.call(this,o))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return jn.lex(t,e??this.defaults)}parser(t,e){return $n.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},s={...this.defaults,...r},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=t),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(e):e,a=await(s.hooks?await s.hooks.provideLexer():t?jn.lex:jn.lexInline)(o,s),l=s.hooks?await s.hooks.processAllTokens(a):a;s.walkTokens&&await Promise.all(this.walkTokens(l,s.walkTokens));let c=await(s.hooks?await s.hooks.provideParser():t?$n.parse:$n.parseInline)(l,s);return s.hooks?await s.hooks.postprocess(c):c})().catch(i);try{s.hooks&&(e=s.hooks.preprocess(e));let o=(s.hooks?s.hooks.provideLexer():t?jn.lex:jn.lexInline)(e,s);s.hooks&&(o=s.hooks.processAllTokens(o)),s.walkTokens&&this.walkTokens(o,s.walkTokens);let a=(s.hooks?s.hooks.provideParser():t?$n.parse:$n.parseInline)(o,s);return s.hooks&&(a=s.hooks.postprocess(a)),a}catch(o){return i(o)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+Er(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},Si=new TO;function Te(t,e){return Si.parse(t,e)}Te.options=Te.setOptions=function(t){return Si.setOptions(t),Te.defaults=Si.defaults,wk(Te.defaults),Te};Te.getDefaults=py;Te.defaults=Ii;Te.use=function(...t){return Si.use(...t),Te.defaults=Si.defaults,wk(Te.defaults),Te};Te.walkTokens=function(t,e){return Si.walkTokens(t,e)};Te.parseInline=Si.parseInline;Te.Parser=$n;Te.parser=$n.parse;Te.Renderer=xh;Te.TextRenderer=xy;Te.Lexer=jn;Te.lexer=jn.lex;Te.Tokenizer=Eh;Te.Hooks=$a;Te.parse=Te;Te.options;Te.setOptions;Te.use;Te.walkTokens;Te.parseInline;$n.parse;jn.lex;/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:Rk,setPrototypeOf:d_,isFrozen:SO,getPrototypeOf:kO,getOwnPropertyDescriptor:AO}=Object;let{freeze:Bt,seal:bn,create:nm}=Object,{apply:rm,construct:sm}=typeof Reflect<"u"&&Reflect;Bt||(Bt=function(e){return e});bn||(bn=function(e){return e});rm||(rm=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];return e.apply(n,s)});sm||(sm=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return new e(...r)});const Ju=Ht(Array.prototype.forEach),CO=Ht(Array.prototype.lastIndexOf),p_=Ht(Array.prototype.pop),Aa=Ht(Array.prototype.push),bO=Ht(Array.prototype.splice),Ac=Ht(String.prototype.toLowerCase),ld=Ht(String.prototype.toString),ud=Ht(String.prototype.match),Ca=Ht(String.prototype.replace),IO=Ht(String.prototype.indexOf),RO=Ht(String.prototype.trim),Vn=Ht(Object.prototype.hasOwnProperty),Ot=Ht(RegExp.prototype.test),ba=PO(TypeError);function Ht(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return rm(t,e,r)}}function PO(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return sm(t,n)}}function ue(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ac;d_&&d_(t,null);let r=e.length;for(;r--;){let s=e[r];if(typeof s=="string"){const i=n(s);i!==s&&(SO(e)||(e[r]=i),s=i)}t[s]=!0}return t}function DO(t){for(let e=0;e<t.length;e++)Vn(t,e)||(t[e]=null);return t}function rr(t){const e=nm(null);for(const[n,r]of Rk(t))Vn(t,n)&&(Array.isArray(r)?e[n]=DO(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=rr(r):e[n]=r);return e}function Ia(t,e){for(;t!==null;){const r=AO(t,e);if(r){if(r.get)return Ht(r.get);if(typeof r.value=="function")return Ht(r.value)}t=kO(t)}function n(){return null}return n}const m_=Bt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),cd=Bt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),hd=Bt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),NO=Bt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),fd=Bt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),VO=Bt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),g_=Bt(["#text"]),y_=Bt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),dd=Bt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),v_=Bt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Zu=Bt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MO=bn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),LO=bn(/<%[\w\W]*|[\w\W]*%>/gm),OO=bn(/\$\{[\w\W]*/gm),FO=bn(/^data-[\-\w.\u00B7-\uFFFF]+$/),jO=bn(/^aria-[\-\w]+$/),Pk=bn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$O=bn(/^(?:\w+script|data):/i),zO=bn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Dk=bn(/^html$/i),UO=bn(/^[a-z][.\w]*(-[.\w]+)+$/i);var w_=Object.freeze({__proto__:null,ARIA_ATTR:jO,ATTR_WHITESPACE:zO,CUSTOM_ELEMENT:UO,DATA_ATTR:FO,DOCTYPE_NAME:Dk,ERB_EXPR:LO,IS_ALLOWED_URI:Pk,IS_SCRIPT_OR_DATA:$O,MUSTACHE_EXPR:MO,TMPLIT_EXPR:OO});const Ra={element:1,text:3,progressingInstruction:7,comment:8,document:9},BO=function(){return typeof window>"u"?null:window},HO=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(r=n.getAttribute(s));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},__=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Nk(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:BO();const e=J=>Nk(J);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==Ra.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,s=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:m}=t,y=l.prototype,x=Ia(y,"cloneNode"),k=Ia(y,"remove"),w=Ia(y,"nextSibling"),_=Ia(y,"childNodes"),E=Ia(y,"parentNode");if(typeof o=="function"){const J=n.createElement("template");J.content&&J.content.ownerDocument&&(n=J.content.ownerDocument)}let P,V="";const{implementation:F,createNodeIterator:S,createDocumentFragment:v,getElementsByTagName:C}=n,{importNode:b}=r;let R=__();e.isSupported=typeof Rk=="function"&&typeof E=="function"&&F&&F.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:I,TMPLIT_EXPR:ke,DATA_ATTR:Ke,ARIA_ATTR:mt,IS_SCRIPT_OR_DATA:ge,ATTR_WHITESPACE:j,CUSTOM_ELEMENT:Z}=w_;let{IS_ALLOWED_URI:te}=w_,re=null;const Ae=ue({},[...m_,...cd,...hd,...fd,...g_]);let oe=null;const xe=ue({},[...y_,...dd,...v_,...Zu]);let de=Object.seal(nm(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),et=null,_e=null;const nn=Object.seal(nm(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Kn=!0,Qn=!0,Br=!1,Yn=!0,Xn=!1,$s=!0,gr=!1,zs=!1,Us=!1,yr=!1,Qe=!1,tt=!1,Bs=!0,lu=!1;const uu="user-content-";let Qo=!0,Rn=!1,vr={},rn=null;const Hs=ue({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let cu=null;const hu=ue({},["audio","video","img","source","image","track"]);let Ri=null;const Yo=ue({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Jn="http://www.w3.org/1998/Math/MathML",Hr="http://www.w3.org/2000/svg",sn="http://www.w3.org/1999/xhtml";let qt=sn,Pi=!1,Wr=null;const fu=ue({},[Jn,Hr,sn],ld);let Zn=ue({},["mi","mo","mn","ms","mtext"]),Ws=ue({},["annotation-xml"]);const _t=ue({},["title","style","font","a","script"]);let Gr=null;const Gs=["application/xhtml+xml","text/html"],qs="text/html";let Ye=null,qr=null;const Kr=n.createElement("form"),du=function(N){return N instanceof RegExp||N instanceof Function},Xo=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(qr&&qr===N)){if((!N||typeof N!="object")&&(N={}),N=rr(N),Gr=Gs.indexOf(N.PARSER_MEDIA_TYPE)===-1?qs:N.PARSER_MEDIA_TYPE,Ye=Gr==="application/xhtml+xml"?ld:Ac,re=Vn(N,"ALLOWED_TAGS")?ue({},N.ALLOWED_TAGS,Ye):Ae,oe=Vn(N,"ALLOWED_ATTR")?ue({},N.ALLOWED_ATTR,Ye):xe,Wr=Vn(N,"ALLOWED_NAMESPACES")?ue({},N.ALLOWED_NAMESPACES,ld):fu,Ri=Vn(N,"ADD_URI_SAFE_ATTR")?ue(rr(Yo),N.ADD_URI_SAFE_ATTR,Ye):Yo,cu=Vn(N,"ADD_DATA_URI_TAGS")?ue(rr(hu),N.ADD_DATA_URI_TAGS,Ye):hu,rn=Vn(N,"FORBID_CONTENTS")?ue({},N.FORBID_CONTENTS,Ye):Hs,et=Vn(N,"FORBID_TAGS")?ue({},N.FORBID_TAGS,Ye):rr({}),_e=Vn(N,"FORBID_ATTR")?ue({},N.FORBID_ATTR,Ye):rr({}),vr=Vn(N,"USE_PROFILES")?N.USE_PROFILES:!1,Kn=N.ALLOW_ARIA_ATTR!==!1,Qn=N.ALLOW_DATA_ATTR!==!1,Br=N.ALLOW_UNKNOWN_PROTOCOLS||!1,Yn=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Xn=N.SAFE_FOR_TEMPLATES||!1,$s=N.SAFE_FOR_XML!==!1,gr=N.WHOLE_DOCUMENT||!1,yr=N.RETURN_DOM||!1,Qe=N.RETURN_DOM_FRAGMENT||!1,tt=N.RETURN_TRUSTED_TYPE||!1,Us=N.FORCE_BODY||!1,Bs=N.SANITIZE_DOM!==!1,lu=N.SANITIZE_NAMED_PROPS||!1,Qo=N.KEEP_CONTENT!==!1,Rn=N.IN_PLACE||!1,te=N.ALLOWED_URI_REGEXP||Pk,qt=N.NAMESPACE||sn,Zn=N.MATHML_TEXT_INTEGRATION_POINTS||Zn,Ws=N.HTML_INTEGRATION_POINTS||Ws,de=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&du(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(de.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&du(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(de.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(de.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Xn&&(Qn=!1),Qe&&(yr=!0),vr&&(re=ue({},g_),oe=[],vr.html===!0&&(ue(re,m_),ue(oe,y_)),vr.svg===!0&&(ue(re,cd),ue(oe,dd),ue(oe,Zu)),vr.svgFilters===!0&&(ue(re,hd),ue(oe,dd),ue(oe,Zu)),vr.mathMl===!0&&(ue(re,fd),ue(oe,v_),ue(oe,Zu))),N.ADD_TAGS&&(typeof N.ADD_TAGS=="function"?nn.tagCheck=N.ADD_TAGS:(re===Ae&&(re=rr(re)),ue(re,N.ADD_TAGS,Ye))),N.ADD_ATTR&&(typeof N.ADD_ATTR=="function"?nn.attributeCheck=N.ADD_ATTR:(oe===xe&&(oe=rr(oe)),ue(oe,N.ADD_ATTR,Ye))),N.ADD_URI_SAFE_ATTR&&ue(Ri,N.ADD_URI_SAFE_ATTR,Ye),N.FORBID_CONTENTS&&(rn===Hs&&(rn=rr(rn)),ue(rn,N.FORBID_CONTENTS,Ye)),N.ADD_FORBID_CONTENTS&&(rn===Hs&&(rn=rr(rn)),ue(rn,N.ADD_FORBID_CONTENTS,Ye)),Qo&&(re["#text"]=!0),gr&&ue(re,["html","head","body"]),re.table&&(ue(re,["tbody"]),delete et.tbody),N.TRUSTED_TYPES_POLICY){if(typeof N.TRUSTED_TYPES_POLICY.createHTML!="function")throw ba('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof N.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ba('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');P=N.TRUSTED_TYPES_POLICY,V=P.createHTML("")}else P===void 0&&(P=HO(m,s)),P!==null&&typeof V=="string"&&(V=P.createHTML(""));Bt&&Bt(N),qr=N}},Ks=ue({},[...cd,...hd,...NO]),Jo=ue({},[...fd,...VO]),pu=function(N){let U=E(N);(!U||!U.tagName)&&(U={namespaceURI:qt,tagName:"template"});const q=Ac(N.tagName),ve=Ac(U.tagName);return Wr[N.namespaceURI]?N.namespaceURI===Hr?U.namespaceURI===sn?q==="svg":U.namespaceURI===Jn?q==="svg"&&(ve==="annotation-xml"||Zn[ve]):!!Ks[q]:N.namespaceURI===Jn?U.namespaceURI===sn?q==="math":U.namespaceURI===Hr?q==="math"&&Ws[ve]:!!Jo[q]:N.namespaceURI===sn?U.namespaceURI===Hr&&!Ws[ve]||U.namespaceURI===Jn&&!Zn[ve]?!1:!Jo[q]&&(_t[q]||!Ks[q]):!!(Gr==="application/xhtml+xml"&&Wr[N.namespaceURI]):!1},Kt=function(N){Aa(e.removed,{element:N});try{E(N).removeChild(N)}catch{k(N)}},on=function(N,U){try{Aa(e.removed,{attribute:U.getAttributeNode(N),from:U})}catch{Aa(e.removed,{attribute:null,from:U})}if(U.removeAttribute(N),N==="is")if(yr||Qe)try{Kt(U)}catch{}else try{U.setAttribute(N,"")}catch{}},mu=function(N){let U=null,q=null;if(Us)N="<remove></remove>"+N;else{const He=ud(N,/^[\r\n\t ]+/);q=He&&He[0]}Gr==="application/xhtml+xml"&&qt===sn&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const ve=P?P.createHTML(N):N;if(qt===sn)try{U=new d().parseFromString(ve,Gr)}catch{}if(!U||!U.documentElement){U=F.createDocument(qt,"template",null);try{U.documentElement.innerHTML=Pi?V:ve}catch{}}const nt=U.body||U.documentElement;return N&&q&&nt.insertBefore(n.createTextNode(q),nt.childNodes[0]||null),qt===sn?C.call(U,gr?"html":"body")[0]:gr?U.documentElement:nt},Pn=function(N){return S.call(N.ownerDocument||N,N,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Di=function(N){return N instanceof f&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof h)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},Zo=function(N){return typeof a=="function"&&N instanceof a};function an(J,N,U){Ju(J,q=>{q.call(e,N,U,qr)})}const Ni=function(N){let U=null;if(an(R.beforeSanitizeElements,N,null),Di(N))return Kt(N),!0;const q=Ye(N.nodeName);if(an(R.uponSanitizeElement,N,{tagName:q,allowedTags:re}),$s&&N.hasChildNodes()&&!Zo(N.firstElementChild)&&Ot(/<[/\w!]/g,N.innerHTML)&&Ot(/<[/\w!]/g,N.textContent)||N.nodeType===Ra.progressingInstruction||$s&&N.nodeType===Ra.comment&&Ot(/<[/\w]/g,N.data))return Kt(N),!0;if(!(nn.tagCheck instanceof Function&&nn.tagCheck(q))&&(!re[q]||et[q])){if(!et[q]&&gu(q)&&(de.tagNameCheck instanceof RegExp&&Ot(de.tagNameCheck,q)||de.tagNameCheck instanceof Function&&de.tagNameCheck(q)))return!1;if(Qo&&!rn[q]){const ve=E(N)||N.parentNode,nt=_(N)||N.childNodes;if(nt&&ve){const He=nt.length;for(let Et=He-1;Et>=0;--Et){const gn=x(nt[Et],!0);gn.__removalCount=(N.__removalCount||0)+1,ve.insertBefore(gn,w(N))}}}return Kt(N),!0}return N instanceof l&&!pu(N)||(q==="noscript"||q==="noembed"||q==="noframes")&&Ot(/<\/no(script|embed|frames)/i,N.innerHTML)?(Kt(N),!0):(Xn&&N.nodeType===Ra.text&&(U=N.textContent,Ju([M,I,ke],ve=>{U=Ca(U,ve," ")}),N.textContent!==U&&(Aa(e.removed,{element:N.cloneNode()}),N.textContent=U)),an(R.afterSanitizeElements,N,null),!1)},ea=function(N,U,q){if(Bs&&(U==="id"||U==="name")&&(q in n||q in Kr))return!1;if(!(Qn&&!_e[U]&&Ot(Ke,U))){if(!(Kn&&Ot(mt,U))){if(!(nn.attributeCheck instanceof Function&&nn.attributeCheck(U,N))){if(!oe[U]||_e[U]){if(!(gu(N)&&(de.tagNameCheck instanceof RegExp&&Ot(de.tagNameCheck,N)||de.tagNameCheck instanceof Function&&de.tagNameCheck(N))&&(de.attributeNameCheck instanceof RegExp&&Ot(de.attributeNameCheck,U)||de.attributeNameCheck instanceof Function&&de.attributeNameCheck(U,N))||U==="is"&&de.allowCustomizedBuiltInElements&&(de.tagNameCheck instanceof RegExp&&Ot(de.tagNameCheck,q)||de.tagNameCheck instanceof Function&&de.tagNameCheck(q))))return!1}else if(!Ri[U]){if(!Ot(te,Ca(q,j,""))){if(!((U==="src"||U==="xlink:href"||U==="href")&&N!=="script"&&IO(q,"data:")===0&&cu[N])){if(!(Br&&!Ot(ge,Ca(q,j,"")))){if(q)return!1}}}}}}}return!0},gu=function(N){return N!=="annotation-xml"&&ud(N,Z)},ta=function(N){an(R.beforeSanitizeAttributes,N,null);const{attributes:U}=N;if(!U||Di(N))return;const q={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:oe,forceKeepAttr:void 0};let ve=U.length;for(;ve--;){const nt=U[ve],{name:He,namespaceURI:Et,value:gn}=nt,wr=Ye(He),Qs=gn;let Xe=He==="value"?Qs:RO(Qs);if(q.attrName=wr,q.attrValue=Xe,q.keepAttr=!0,q.forceKeepAttr=void 0,an(R.uponSanitizeAttribute,N,q),Xe=q.attrValue,lu&&(wr==="id"||wr==="name")&&(on(He,N),Xe=uu+Xe),$s&&Ot(/((--!?|])>)|<\/(style|title|textarea)/i,Xe)){on(He,N);continue}if(wr==="attributename"&&ud(Xe,"href")){on(He,N);continue}if(q.forceKeepAttr)continue;if(!q.keepAttr){on(He,N);continue}if(!Yn&&Ot(/\/>/i,Xe)){on(He,N);continue}Xn&&Ju([M,I,ke],ra=>{Xe=Ca(Xe,ra," ")});const na=Ye(N.nodeName);if(!ea(na,wr,Xe)){on(He,N);continue}if(P&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!Et)switch(m.getAttributeType(na,wr)){case"TrustedHTML":{Xe=P.createHTML(Xe);break}case"TrustedScriptURL":{Xe=P.createScriptURL(Xe);break}}if(Xe!==Qs)try{Et?N.setAttributeNS(Et,He,Xe):N.setAttribute(He,Xe),Di(N)?Kt(N):p_(e.removed)}catch{on(He,N)}}an(R.afterSanitizeAttributes,N,null)},pf=function J(N){let U=null;const q=Pn(N);for(an(R.beforeSanitizeShadowDOM,N,null);U=q.nextNode();)an(R.uponSanitizeShadowNode,U,null),Ni(U),ta(U),U.content instanceof i&&J(U.content);an(R.afterSanitizeShadowDOM,N,null)};return e.sanitize=function(J){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=null,q=null,ve=null,nt=null;if(Pi=!J,Pi&&(J="<!-->"),typeof J!="string"&&!Zo(J))if(typeof J.toString=="function"){if(J=J.toString(),typeof J!="string")throw ba("dirty is not a string, aborting")}else throw ba("toString is not a function");if(!e.isSupported)return J;if(zs||Xo(N),e.removed=[],typeof J=="string"&&(Rn=!1),Rn){if(J.nodeName){const gn=Ye(J.nodeName);if(!re[gn]||et[gn])throw ba("root node is forbidden and cannot be sanitized in-place")}}else if(J instanceof a)U=mu("<!---->"),q=U.ownerDocument.importNode(J,!0),q.nodeType===Ra.element&&q.nodeName==="BODY"||q.nodeName==="HTML"?U=q:U.appendChild(q);else{if(!yr&&!Xn&&!gr&&J.indexOf("<")===-1)return P&&tt?P.createHTML(J):J;if(U=mu(J),!U)return yr?null:tt?V:""}U&&Us&&Kt(U.firstChild);const He=Pn(Rn?J:U);for(;ve=He.nextNode();)Ni(ve),ta(ve),ve.content instanceof i&&pf(ve.content);if(Rn)return J;if(yr){if(Qe)for(nt=v.call(U.ownerDocument);U.firstChild;)nt.appendChild(U.firstChild);else nt=U;return(oe.shadowroot||oe.shadowrootmode)&&(nt=b.call(r,nt,!0)),nt}let Et=gr?U.outerHTML:U.innerHTML;return gr&&re["!doctype"]&&U.ownerDocument&&U.ownerDocument.doctype&&U.ownerDocument.doctype.name&&Ot(Dk,U.ownerDocument.doctype.name)&&(Et="<!DOCTYPE "+U.ownerDocument.doctype.name+`>
`+Et),Xn&&Ju([M,I,ke],gn=>{Et=Ca(Et,gn," ")}),P&&tt?P.createHTML(Et):Et},e.setConfig=function(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Xo(J),zs=!0},e.clearConfig=function(){qr=null,zs=!1},e.isValidAttribute=function(J,N,U){qr||Xo({});const q=Ye(J),ve=Ye(N);return ea(q,ve,U)},e.addHook=function(J,N){typeof N=="function"&&Aa(R[J],N)},e.removeHook=function(J,N){if(N!==void 0){const U=CO(R[J],N);return U===-1?void 0:bO(R[J],U,1)[0]}return p_(R[J])},e.removeHooks=function(J){R[J]=[]},e.removeAllHooks=function(){R=__()},e}var WO=Nk();function GO(t,e){if(!t)return"";const n=/\[\[([^\]]+)\]\]/g,r=t.replace(n,(a,l)=>`{{WIKILINK:${l.trim()}}}`),s=Te.parse(r);return WO.sanitize(s).replace(/\{\{WIKILINK:([^\}]+)\}\}/g,(a,l)=>(l.replace(/'/g,"\\'"),`<a href="/search?q=${encodeURIComponent(l)}" class="wiki-link" data-wiki-ref="${l}">${l}</a>`))}function qO(){const{slug:t}=i1(),e=Lo(),{currentAuthor:n}=Ag(),[r,s]=D.useState(null),[i,o]=D.useState(!0),[a,l]=D.useState(null),[c,h]=D.useState("");return D.useEffect(()=>{const f=async m=>{if(m.target.classList.contains("wiki-link")){m.preventDefault();const y=m.target.getAttribute("data-wiki-ref");y&&e(`/search?q=${encodeURIComponent(y)}&exact=true`)}},d=document.getElementById("wiki-content");return d&&d.addEventListener("click",f),()=>{d&&d.removeEventListener("click",f)}},[c,e]),D.useEffect(()=>{async function f(){o(!0),l(null);try{let d=await Yp(sl(Sr,"pages",t)),m=null;if(d.exists())m={id:d.id,...d.data()};else{const y=rl(Sr,"pages"),k=(await vh(y)).docs.find(w=>w.data().pageSlug===t);k&&(m={id:k.id,...k.data()})}m?(s(m),h(GO(m.content))):l("Page not found.")}catch(d){console.error(d),l("Error loading page.")}finally{o(!1)}}f()},[t]),i?A.jsx("div",{className:"flex h-[50vh] items-center justify-center",children:A.jsx(To,{className:"animate-spin text-primary",size:48})}):a?A.jsxs("div",{className:"mt-10 flex flex-col items-center justify-center text-red-400",children:[A.jsx(XP,{size:48,className:"mb-4"}),A.jsx("h2",{className:"text-2xl font-bold",children:"404 - Transmission Lost"}),A.jsx("p",{className:"mt-2 text-slate-400",children:a}),A.jsx(_n,{to:"/",className:"mt-6 rounded-lg border border-primary text-primary px-4 py-2 hover:bg-primary hover:text-bg-dark",children:"Return to Home"})]}):A.jsxs("div",{className:"animate-in fade-in duration-500",children:[A.jsxs("header",{className:`relative mb-8 overflow-hidden rounded-xl border border-white/10 bg-bg-card p-8 md:p-12 ${r.styleTheme&&r.styleTheme!=="default"?`theme-${r.styleTheme}`:""}`,children:[A.jsx("div",{className:"absolute -right-20 -top-20 h-64 w-64 rounded-full bg-primary/5 blur-[100px]"}),A.jsxs("div",{className:"relative z-10",children:[A.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-4 text-sm text-slate-400",children:[A.jsx("span",{className:"rounded bg-white/5 px-2 py-1 font-mono text-xs",children:r.pageSlug||r.id}),r.createdAt&&A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(WP,{size:14})," ",kc(r.createdAt)]}),r.contributors&&A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(vc,{size:14})," ",r.contributors.join(", ")]})]}),A.jsx("h1",{className:"mb-4 text-4xl font-extrabold text-primary md:text-5xl",children:r.title}),r.subtitle&&A.jsx("p",{className:"text-xl italic text-slate-400",children:r.subtitle}),A.jsx("div",{className:"mt-6 flex flex-wrap items-center gap-2",children:r.categories&&r.categories.map(f=>A.jsxs(_n,{to:`/search?category=${encodeURIComponent(f)}`,className:"flex items-center gap-1 rounded-full bg-white/5 px-3 py-1 text-sm text-secondary hover:bg-secondary/10 hover:text-accent transition-colors",children:[A.jsx(T2,{size:14}),f]},f))})]}),A.jsx("div",{className:"absolute right-4 top-4 flex gap-2",children:A.jsx(_n,{to:`/edit/${r.id}`,className:"rounded-lg bg-bg-dark p-2 text-slate-400 shadow-xl transition-colors hover:bg-primary hover:text-bg-dark",title:"Edit Page",children:A.jsx(E2,{size:20})})})]}),A.jsx("article",{className:`prose prose-invert max-w-none rounded-xl border border-white/5 bg-bg-card p-8 shadow-lg md:p-12 page-content ${r.styleTheme&&r.styleTheme!=="default"?`theme-${r.styleTheme}`:""}`,children:A.jsx("div",{id:"wiki-content",dangerouslySetInnerHTML:{__html:c},className:"wiki-content"})}),(r.startDate||r.endDate)&&A.jsx("div",{className:"mt-8 rounded-xl border border-accent/20 bg-accent/5 p-4 text-center",children:A.jsxs("p",{className:"text-sm text-accent",children:[A.jsx("strong",{children:"Timeline Era:"})," ",kc(r.startDate)," ",r.endDate?` ${kc(r.endDate)}`:""]})})]})}function E_(){const{pageId:t}=i1(),e=Lo(),{currentAuthor:n}=Ag(),[r,s]=D.useState(!1),[i,o]=D.useState(!!t),[a,l]=D.useState([]),[c,h]=D.useState({title:"",subtitle:"",categories:"",startDate:"",endDate:"",styleTheme:"default",content:"",partOf:""});D.useEffect(()=>{async function y(){try{const k=(await vh(rl(Sr,"pages"))).docs.map(w=>({id:w.id,...w.data()}));l(k)}catch(x){console.error("Error loading pages:",x)}}y()},[]),D.useEffect(()=>{if(!t)return;async function y(){try{const x=sl(Sr,"pages",t),k=await Yp(x);if(k.exists()){const w=k.data();h({title:w.title||"",subtitle:w.subtitle||"",categories:w.categories?w.categories.join(", "):"",startDate:w.startDate||"",endDate:w.endDate||"",styleTheme:w.styleTheme||"default",content:w.content||""})}else alert("Page not found"),e("/")}catch(x){console.error(x),alert("Error loading page")}finally{o(!1)}}y()},[t,e]);const f=y=>{const{name:x,value:k}=y.target;h(w=>({...w,[x]:k}))},d=async y=>{if(y.preventDefault(),!n){alert("You must be logged in to save.");return}s(!0);try{const x=c.categories.split(",").map(_=>_.trim()).filter(Boolean),k=F4(c.title),w={...c,categories:x,lastModified:new Date().toISOString()};if(t){const _=sl(Sr,"pages",t),P=(await Yp(_)).data(),V=P.contributors||[];V.includes(n)||V.push(n),await $L(_,{...w,contributors:V}),e(`/page/${P.pageSlug||t}`)}else{let _=k;const E=rl(Sr,"pages"),P=await vh(E);let V=1;for(;P.docs.some(S=>S.data().pageSlug===_);)_=`${k}-${V}`,V++;w.pageSlug=_,w.createdBy=n,w.contributors=[n],w.createdAt=new Date().toISOString();const F=await UL(rl(Sr,"pages"),w);e(`/page/${_}`)}}catch(x){console.error(x),alert("Error saving: "+x.message)}finally{s(!1)}},m=async()=>{if(confirm("Are you sure you want to delete this page?")){s(!0);try{await zL(sl(Sr,"pages",t)),e("/")}catch(y){alert("Error deleting: "+y.message),s(!1)}}};return i?A.jsx("div",{className:"flex h-[50vh] items-center justify-center",children:A.jsx(To,{className:"animate-spin text-primary",size:48})}):n?A.jsxs("div",{className:"container mx-auto max-w-4xl",children:[A.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[A.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-slate-400 hover:text-white",children:[A.jsx(zP,{size:18})," Back"]}),A.jsx("h1",{className:"text-2xl font-bold text-white",children:t?"Edit Transmission":"New Transmission"})]}),A.jsxs("form",{onSubmit:d,className:"space-y-6 rounded-xl border border-white/10 bg-bg-card p-6 shadow-xl md:p-8",children:[A.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Title"}),A.jsx("input",{required:!0,name:"title",value:c.title,onChange:f,className:"w-full rounded-lg border border-white/10 bg-bg-dark px-4 py-2 text-white focus:border-primary focus:outline-none",placeholder:"e.g. The Jovian Conflict"})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Subtitle"}),A.jsx("input",{name:"subtitle",value:c.subtitle,onChange:f,className:"w-full rounded-lg border border-white/10 bg-bg-dark px-4 py-2 text-white focus:border-primary focus:outline-none",placeholder:"Brief summary..."})]})]}),A.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Part Of (Parent Event)"}),A.jsxs("select",{name:"partOf",value:c.partOf||"",onChange:f,className:"w-full rounded-lg border border-white/10 bg-bg-dark px-4 py-2 text-white focus:border-primary focus:outline-none",children:[A.jsx("option",{value:"",children:"-- None (Top Level) --"}),a.filter(y=>y.id!==t).map(y=>A.jsx("option",{value:y.id,children:y.title},y.id))]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Categories (comma sep)"}),A.jsx("input",{name:"categories",value:c.categories,onChange:f,className:"w-full rounded-lg border border-white/10 bg-bg-dark px-4 py-2 text-white focus:border-primary focus:outline-none",placeholder:"Mars, Military, ..."})]})]}),A.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Start Date"}),A.jsx("input",{type:"date",name:"startDate",value:c.startDate,onChange:f,className:"w-full rounded-lg border border-white/10 bg-bg-dark px-4 py-2 text-white focus:border-primary focus:outline-none"})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-slate-300",children:"End Date"}),A.jsx("input",{type:"date",name:"endDate",value:c.endDate,onChange:f,className:"w-full rounded-lg border border-white/10 bg-bg-dark px-4 py-2 text-white focus:border-primary focus:outline-none"})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Theme"}),A.jsxs("select",{name:"styleTheme",value:c.styleTheme,onChange:f,className:"w-full rounded-lg border border-white/10 bg-bg-dark px-4 py-2 text-white focus:border-primary focus:outline-none",children:[A.jsx("option",{value:"default",children:"Default (Cyan/Purple)"}),A.jsx("option",{value:"red-alert",children:"Red Alert (Military)"}),A.jsx("option",{value:"green-matrix",children:"Green Matrix (Tech)"}),A.jsx("option",{value:"gold-luxury",children:"Gold Luxury (Elite)"}),A.jsx("option",{value:"ice-blue",children:"Ice Blue (Scientific)"}),A.jsx("option",{value:"amber-warm",children:"Amber Warm (Historical)"}),A.jsx("option",{value:"violet-mystic",children:"Violet Mystic (Mystery)"})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Content (Markdown supported)"}),A.jsx("textarea",{required:!0,name:"content",value:c.content,onChange:f,rows:15,className:"w-full rounded-lg border border-white/10 bg-bg-dark px-4 py-2 font-mono text-sm text-slate-300 focus:border-primary focus:outline-none",placeholder:`# Header
Write your story here... Use [[WikiLinks]] to connect pages.`})]}),A.jsxs("div",{className:"flex items-center justify-between border-t border-white/10 pt-6",children:[t?A.jsxs("button",{type:"button",onClick:m,className:"flex items-center gap-2 rounded-lg border border-red-500/50 px-4 py-2 text-red-400 hover:bg-red-500/10",children:[A.jsx(k2,{size:18})," Delete Page"]}):A.jsx("div",{}),A.jsxs("button",{disabled:r,type:"submit",className:"flex items-center gap-2 rounded-lg bg-primary px-8 py-2 font-bold text-bg-dark hover:bg-white disabled:opacity-50",children:[r?A.jsx(To,{className:"animate-spin"}):A.jsx(v2,{size:18}),t?"Save Changes":"Create Transmission"]})]})]})]}):A.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[A.jsx("h2",{className:"text-2xl font-bold text-white",children:"Access Denied"}),A.jsx("p",{className:"mb-4 text-slate-400",children:"You must identify yourself to edit the archives."}),A.jsx("button",{onClick:()=>document.querySelector("nav button").click(),className:"rounded-lg bg-primary px-6 py-2 font-bold text-bg-dark hover:bg-white",children:"Log In via Navbar"})]})}const Vk=D.createContext({});function KO(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const Mk=typeof window<"u",QO=Mk?D.useLayoutEffect:D.useEffect,Ty=D.createContext(null);function Sy(t,e){t.indexOf(e)===-1&&t.push(e)}function ky(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const pr=(t,e,n)=>n>e?e:n<t?t:n;let Ay=()=>{};const zr={},Lk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ok(t){return typeof t=="object"&&t!==null}const Fk=t=>/^0[^.\s]+$/u.test(t);function Cy(t){let e;return()=>(e===void 0&&(e=t()),e)}const kn=t=>t,YO=(t,e)=>n=>e(t(n)),su=(...t)=>t.reduce(YO),Ol=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class by{constructor(){this.subscriptions=[]}add(e){return Sy(this.subscriptions,e),()=>ky(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rr=t=>t*1e3,Tn=t=>t/1e3;function jk(t,e){return e?t*(1e3/e):0}const $k=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,XO=1e-7,JO=12;function ZO(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=$k(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>XO&&++a<JO);return o}function iu(t,e,n,r){if(t===e&&n===r)return kn;const s=i=>ZO(i,0,1,t,n);return i=>i===0||i===1?i:$k(s(i),e,r)}const zk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Uk=t=>e=>1-t(1-e),Bk=iu(.33,1.53,.69,.99),Iy=Uk(Bk),Hk=zk(Iy),Wk=t=>(t*=2)<1?.5*Iy(t):.5*(2-Math.pow(2,-10*(t-1))),Ry=t=>1-Math.sin(Math.acos(t)),Gk=Uk(Ry),qk=zk(Ry),e3=iu(.42,0,1,1),t3=iu(0,0,.58,1),Kk=iu(.42,0,.58,1),n3=t=>Array.isArray(t)&&typeof t[0]!="number",Qk=t=>Array.isArray(t)&&typeof t[0]=="number",r3={linear:kn,easeIn:e3,easeInOut:Kk,easeOut:t3,circIn:Ry,circInOut:qk,circOut:Gk,backIn:Iy,backInOut:Hk,backOut:Bk,anticipate:Wk},s3=t=>typeof t=="string",x_=t=>{if(Qk(t)){Ay(t.length===4);const[e,n,r,s]=t;return iu(e,n,r,s)}else if(s3(t))return r3[t];return t},ec=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function i3(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(h){o.has(h)&&(c.schedule(h),t()),h(a)}const c={schedule:(h,f=!1,d=!1)=>{const y=d&&s?n:r;return f&&o.add(h),y.has(h)||y.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,c.process(h))}};return c}const o3=40;function Yk(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ec.reduce((E,P)=>(E[P]=i3(i),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:h,update:f,preRender:d,render:m,postRender:y}=o,x=()=>{const E=zr.useManualTiming?s.timestamp:performance.now();n=!1,zr.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(E-s.timestamp,o3),1)),s.timestamp=E,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),h.process(s),f.process(s),d.process(s),m.process(s),y.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(x))},k=()=>{n=!0,r=!0,s.isProcessing||t(x)};return{schedule:ec.reduce((E,P)=>{const V=o[P];return E[P]=(F,S=!1,v=!1)=>(n||k(),V.schedule(F,S,v)),E},{}),cancel:E=>{for(let P=0;P<ec.length;P++)o[ec[P]].cancel(E)},state:s,steps:o}}const{schedule:Pe,cancel:Ps,state:Tt,steps:pd}=Yk(typeof requestAnimationFrame<"u"?requestAnimationFrame:kn,!0);let Cc;function a3(){Cc=void 0}const $t={now:()=>(Cc===void 0&&$t.set(Tt.isProcessing||zr.useManualTiming?Tt.timestamp:performance.now()),Cc),set:t=>{Cc=t,queueMicrotask(a3)}},Xk=t=>e=>typeof e=="string"&&e.startsWith(t),Jk=Xk("--"),l3=Xk("var(--"),Py=t=>l3(t)?u3.test(t.split("/*")[0].trim()):!1,u3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function T_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Go={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fl={...Go,transform:t=>pr(0,1,t)},tc={...Go,default:1},ol=t=>Math.round(t*1e5)/1e5,Dy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function c3(t){return t==null}const h3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ny=(t,e)=>n=>!!(typeof n=="string"&&h3.test(n)&&n.startsWith(t)||e&&!c3(n)&&Object.prototype.hasOwnProperty.call(n,e)),Zk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Dy);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},f3=t=>pr(0,255,t),md={...Go,transform:t=>Math.round(f3(t))},hi={test:Ny("rgb","red"),parse:Zk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+md.transform(t)+", "+md.transform(e)+", "+md.transform(n)+", "+ol(Fl.transform(r))+")"};function d3(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const im={test:Ny("#"),parse:d3,transform:hi.transform},ou=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ns=ou("deg"),fr=ou("%"),X=ou("px"),p3=ou("vh"),m3=ou("vw"),S_={...fr,parse:t=>fr.parse(t)/100,transform:t=>fr.transform(t*100)},eo={test:Ny("hsl","hue"),parse:Zk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+fr.transform(ol(e))+", "+fr.transform(ol(n))+", "+ol(Fl.transform(r))+")"},st={test:t=>hi.test(t)||im.test(t)||eo.test(t),parse:t=>hi.test(t)?hi.parse(t):eo.test(t)?eo.parse(t):im.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?hi.transform(t):eo.transform(t),getAnimatableNone:t=>{const e=st.parse(t);return e.alpha=0,st.transform(e)}},g3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function y3(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Dy))==null?void 0:e.length)||0)+(((n=t.match(g3))==null?void 0:n.length)||0)>0}const eA="number",tA="color",v3="var",w3="var(",k_="${}",_3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(_3,l=>(st.test(l)?(r.color.push(i),s.push(tA),n.push(st.parse(l))):l.startsWith(w3)?(r.var.push(i),s.push(v3),n.push(l)):(r.number.push(i),s.push(eA),n.push(parseFloat(l))),++i,k_)).split(k_);return{values:n,split:a,indexes:r,types:s}}function nA(t){return jl(t).values}function rA(t){const{split:e,types:n}=jl(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===eA?i+=ol(s[o]):a===tA?i+=st.transform(s[o]):i+=s[o]}return i}}const E3=t=>typeof t=="number"?0:st.test(t)?st.getAnimatableNone(t):t;function x3(t){const e=nA(t);return rA(t)(e.map(E3))}const Ds={test:y3,parse:nA,createTransformer:rA,getAnimatableNone:x3};function gd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function T3({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=gd(l,a,t+1/3),i=gd(l,a,t),o=gd(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Th(t,e){return n=>n>0?e:t}const je=(t,e,n)=>t+(e-t)*n,yd=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},S3=[im,hi,eo],k3=t=>S3.find(e=>e.test(t));function A_(t){const e=k3(t);if(!e)return!1;let n=e.parse(t);return e===eo&&(n=T3(n)),n}const C_=(t,e)=>{const n=A_(t),r=A_(e);if(!n||!r)return Th(t,e);const s={...n};return i=>(s.red=yd(n.red,r.red,i),s.green=yd(n.green,r.green,i),s.blue=yd(n.blue,r.blue,i),s.alpha=je(n.alpha,r.alpha,i),hi.transform(s))},om=new Set(["none","hidden"]);function A3(t,e){return om.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function C3(t,e){return n=>je(t,e,n)}function Vy(t){return typeof t=="number"?C3:typeof t=="string"?Py(t)?Th:st.test(t)?C_:R3:Array.isArray(t)?sA:typeof t=="object"?st.test(t)?C_:b3:Th}function sA(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Vy(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function b3(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Vy(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function I3(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const R3=(t,e)=>{const n=Ds.createTransformer(e),r=jl(t),s=jl(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?om.has(t)&&!s.values.length||om.has(e)&&!r.values.length?A3(t,e):su(sA(I3(r,s),s.values),n):Th(t,e)};function iA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?je(t,e,n):Vy(t)(t,e)}const P3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Pe.update(e,n),stop:()=>Ps(e),now:()=>Tt.isProcessing?Tt.timestamp:$t.now()}},oA=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Sh=2e4;function My(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Sh;)e+=n,r=t.next(e);return e>=Sh?1/0:e}function D3(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(My(r),Sh);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Tn(s)}}const N3=5;function aA(t,e,n){const r=Math.max(e-N3,0);return jk(n-t(r),e-r)}const Ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vd=.001;function V3({duration:t=Ge.duration,bounce:e=Ge.bounce,velocity:n=Ge.velocity,mass:r=Ge.mass}){let s,i,o=1-e;o=pr(Ge.minDamping,Ge.maxDamping,o),t=pr(Ge.minDuration,Ge.maxDuration,Tn(t)),o<1?(s=c=>{const h=c*o,f=h*t,d=h-n,m=am(c,o),y=Math.exp(-f);return vd-d/m*y},i=c=>{const f=c*o*t,d=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,y=Math.exp(-f),x=am(Math.pow(c,2),o);return(-s(c)+vd>0?-1:1)*((d-m)*y)/x}):(s=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-vd+h*f},i=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,l=L3(s,i,a);if(t=Rr(t),isNaN(l))return{stiffness:Ge.stiffness,damping:Ge.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const M3=12;function L3(t,e,n){let r=n;for(let s=1;s<M3;s++)r=r-t(r)/e(r);return r}function am(t,e){return t*Math.sqrt(1-e*e)}const O3=["duration","bounce"],F3=["stiffness","damping","mass"];function b_(t,e){return e.some(n=>t[n]!==void 0)}function j3(t){let e={velocity:Ge.velocity,stiffness:Ge.stiffness,damping:Ge.damping,mass:Ge.mass,isResolvedFromDuration:!1,...t};if(!b_(t,F3)&&b_(t,O3))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*pr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ge.mass,stiffness:s,damping:i}}else{const n=V3(t);e={...e,...n,mass:Ge.mass},e.isResolvedFromDuration=!0}return e}function kh(t=Ge.visualDuration,e=Ge.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:h,duration:f,velocity:d,isResolvedFromDuration:m}=j3({...n,velocity:-Tn(n.velocity||0)}),y=d||0,x=c/(2*Math.sqrt(l*h)),k=o-i,w=Tn(Math.sqrt(l/h)),_=Math.abs(k)<5;r||(r=_?Ge.restSpeed.granular:Ge.restSpeed.default),s||(s=_?Ge.restDelta.granular:Ge.restDelta.default);let E;if(x<1){const V=am(w,x);E=F=>{const S=Math.exp(-x*w*F);return o-S*((y+x*w*k)/V*Math.sin(V*F)+k*Math.cos(V*F))}}else if(x===1)E=V=>o-Math.exp(-w*V)*(k+(y+w*k)*V);else{const V=w*Math.sqrt(x*x-1);E=F=>{const S=Math.exp(-x*w*F),v=Math.min(V*F,300);return o-S*((y+x*w*k)*Math.sinh(v)+V*k*Math.cosh(v))/V}}const P={calculatedDuration:m&&f||null,next:V=>{const F=E(V);if(m)a.done=V>=f;else{let S=V===0?y:0;x<1&&(S=V===0?Rr(y):aA(E,V,F));const v=Math.abs(S)<=r,C=Math.abs(o-F)<=s;a.done=v&&C}return a.value=a.done?o:F,a},toString:()=>{const V=Math.min(My(P),Sh),F=oA(S=>P.next(V*S).value,V,30);return V+"ms "+F},toTransition:()=>{}};return P}kh.applyToOptions=t=>{const e=D3(t,100,kh);return t.ease=e.ease,t.duration=Rr(e.duration),t.type="keyframes",t};function lm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const f=t[0],d={done:!1,value:f},m=v=>a!==void 0&&v<a||l!==void 0&&v>l,y=v=>a===void 0?l:l===void 0||Math.abs(a-v)<Math.abs(l-v)?a:l;let x=n*e;const k=f+x,w=o===void 0?k:o(k);w!==k&&(x=w-f);const _=v=>-x*Math.exp(-v/r),E=v=>w+_(v),P=v=>{const C=_(v),b=E(v);d.done=Math.abs(C)<=c,d.value=d.done?w:b};let V,F;const S=v=>{m(d.value)&&(V=v,F=kh({keyframes:[d.value,y(d.value)],velocity:aA(E,v,d.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return S(0),{calculatedDuration:null,next:v=>{let C=!1;return!F&&V===void 0&&(C=!0,P(v),S(v)),V!==void 0&&v>=V?F.next(v-V):(!C&&P(v),d)}}}function $3(t,e,n){const r=[],s=n||zr.mix||iA,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||kn:e;a=su(l,a)}r.push(a)}return r}function z3(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Ay(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=$3(e,r,s),l=a.length,c=h=>{if(o&&h<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const d=Ol(t[f],t[f+1],h);return a[f](d)};return n?h=>c(pr(t[0],t[i-1],h)):c}function U3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ol(0,e,r);t.push(je(n,1,s))}}function B3(t){const e=[0];return U3(e,t.length-1),e}function H3(t,e){return t.map(n=>n*e)}function W3(t,e){return t.map(()=>e||Kk).splice(0,t.length-1)}function al({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=n3(r)?r.map(x_):x_(r),i={done:!1,value:e[0]},o=H3(n&&n.length===e.length?n:B3(e),t),a=z3(o,e,{ease:Array.isArray(s)?s:W3(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const G3=t=>t!==null;function Ly(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(G3),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const q3={decay:lm,inertia:lm,tween:al,keyframes:al,spring:kh};function lA(t){typeof t.type=="string"&&(t.type=q3[t.type])}class Oy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const K3=t=>t/100;class Fy extends Oy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==$t.now()&&this.tick($t.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;lA(e);const{type:n=al,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||al;l!==al&&typeof a[0]!="number"&&(this.mixKeyframes=su(K3,iA(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=My(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:h,repeat:f,repeatType:d,repeatDelay:m,type:y,onUpdate:x,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,P=r;if(f){const v=Math.min(this.currentTime,s)/a;let C=Math.floor(v),b=v%1;!b&&v>=1&&(b=1),b===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(d==="reverse"?(b=1-b,m&&(b-=m/a)):d==="mirror"&&(P=o)),E=pr(0,1,b)*a}const V=_?{done:!1,value:h[0]}:P.next(E);i&&(V.value=i(V.value));let{done:F}=V;!_&&l!==null&&(F=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return S&&y!==lm&&(V.value=Ly(h,this.options,k,this.speed)),x&&x(V.value),S&&this.finish(),V}then(e,n){return this.finished.then(e,n)}get duration(){return Tn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Tn(e)}get time(){return Tn(this.currentTime)}set time(e){var n;e=Rr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime($t.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Tn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=P3,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($t.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Q3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const fi=t=>t*180/Math.PI,um=t=>{const e=fi(Math.atan2(t[1],t[0]));return cm(e)},Y3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:um,rotateZ:um,skewX:t=>fi(Math.atan(t[1])),skewY:t=>fi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},cm=t=>(t=t%360,t<0&&(t+=360),t),I_=um,R_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),P_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),X3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:R_,scaleY:P_,scale:t=>(R_(t)+P_(t))/2,rotateX:t=>cm(fi(Math.atan2(t[6],t[5]))),rotateY:t=>cm(fi(Math.atan2(-t[2],t[0]))),rotateZ:I_,rotate:I_,skewX:t=>fi(Math.atan(t[4])),skewY:t=>fi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function hm(t){return t.includes("scale")?1:0}function fm(t,e){if(!t||t==="none")return hm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=X3,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Y3,s=a}if(!s)return hm(e);const i=r[e],o=s[1].split(",").map(Z3);return typeof i=="function"?i(o):o[i]}const J3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return fm(n,e)};function Z3(t){return parseFloat(t.trim())}const qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ko=new Set(qo),D_=t=>t===Go||t===X,eF=new Set(["x","y","z"]),tF=qo.filter(t=>!eF.has(t));function nF(t){const e=[];return tF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const cs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>fm(e,"x"),y:(t,{transform:e})=>fm(e,"y")};cs.translateX=cs.x;cs.translateY=cs.y;const gi=new Set;let dm=!1,pm=!1,mm=!1;function uA(){if(pm){const t=Array.from(gi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=nF(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pm=!1,dm=!1,gi.forEach(t=>t.complete(mm)),gi.clear()}function cA(){gi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(pm=!0)})}function rF(){mm=!0,cA(),uA(),mm=!1}class jy{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(gi.add(this),dm||(dm=!0,Pe.read(cA),Pe.resolveKeyframes(uA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}Q3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),gi.delete(this)}cancel(){this.state==="scheduled"&&(gi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sF=t=>t.startsWith("--");function iF(t,e,n){sF(e)?t.style.setProperty(e,n):t.style[e]=n}const oF=Cy(()=>window.ScrollTimeline!==void 0),aF={};function lF(t,e){const n=Cy(t);return()=>aF[e]??n()}const hA=lF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),za=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,N_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:za([0,.65,.55,1]),circOut:za([.55,0,1,.45]),backIn:za([.31,.01,.66,-.59]),backOut:za([.33,1.53,.69,.99])};function fA(t,e){if(t)return typeof t=="function"?hA()?oA(t,e):"ease-out":Qk(t)?za(t):Array.isArray(t)?t.map(n=>fA(n,e)||N_.easeOut):N_[t]}function uF(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const h={[e]:n};l&&(h.offset=l);const f=fA(a,s);Array.isArray(f)&&(h.easing=f);const d={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(d.pseudoElement=c),t.animate(h,d)}function dA(t){return typeof t=="function"&&"applyToOptions"in t}function cF({type:t,...e}){return dA(t)&&hA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class hF extends Oy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Ay(typeof e.type!="string");const c=cF(e);this.animation=uF(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=Ly(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):iF(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,r,s;const e=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((s=(r=this.animation).commitStyles)==null||s.call(r))}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Tn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Tn(e)}get time(){return Tn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Rr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&oF()?(this.animation.timeline=e,kn):n(this)}}const pA={anticipate:Wk,backInOut:Hk,circInOut:qk};function fF(t){return t in pA}function dF(t){typeof t.ease=="string"&&fF(t.ease)&&(t.ease=pA[t.ease])}const wd=10;class pF extends hF{constructor(e){dF(e),lA(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Fy({...o,autoplay:!1}),l=Math.max(wd,$t.now()-this.startTime),c=pr(0,wd,l-wd);n.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const V_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ds.test(t)||t==="0")&&!t.startsWith("url("));function mF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function gF(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=V_(s,e),a=V_(i,e);return!o||!a?!1:mF(t)||(n==="spring"||dA(n))&&r}function gm(t){t.duration=0,t.type="keyframes"}const yF=new Set(["opacity","clipPath","filter","transform"]),vF=Cy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wF(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return vF()&&n&&yF.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const _F=40;class EF extends Oy{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:h,...f}){var y;super(),this.stop=()=>{var x,k;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=$t.now();const d={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:h,...f},m=(h==null?void 0:h.KeyframeResolver)||jy;this.keyframeResolver=new m(a,(x,k,w)=>this.onKeyframesResolved(x,k,d,!w),l,c,h),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,s){var k,w;this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:h}=r;this.resolvedAt=$t.now(),gF(e,i,o,a)||((zr.instantAnimations||!l)&&(h==null||h(Ly(e,r,n))),e[0]=e[e.length-1],gm(r),r.repeat=0);const d={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>_F?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&wF(d),y=(w=(k=d.motionValue)==null?void 0:k.owner)==null?void 0:w.current,x=m?new pF({...d,element:y}):new Fy(d);x.finished.then(()=>{this.notifyFinished()}).catch(kn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),rF()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function mA(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}const xF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TF(t){const e=xF.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function gA(t,e,n=1){const[r,s]=TF(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Lk(o)?parseFloat(o):o}return Py(s)?gA(s,e,n+1):s}const SF={type:"spring",stiffness:500,damping:25,restSpeed:10},kF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),AF={type:"keyframes",duration:.8},CF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bF=(t,{keyframes:e})=>e.length>2?AF:Ko.has(t)?t.startsWith("scale")?kF(e[1]):SF:CF,IF=t=>t!==null;function RF(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(IF),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}function $y(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function PF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const zy=(t,e,n,r={},s,i)=>o=>{const a=$y(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Rr(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};PF(a)||Object.assign(h,bF(t,h)),h.duration&&(h.duration=Rr(h.duration)),h.repeatDelay&&(h.repeatDelay=Rr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(gm(h),h.delay===0&&(f=!0)),(zr.instantAnimations||zr.skipAnimations||s!=null&&s.shouldSkipAnimations)&&(f=!0,gm(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,f&&!i&&e.get()!==void 0){const d=RF(h.keyframes,a);if(d!==void 0){Pe.update(()=>{h.onUpdate(d),h.onComplete()});return}}return a.isSync?new Fy(h):new EF(h)};function M_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Uy(t,e,n,r){if(typeof e=="function"){const[s,i]=M_(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=M_(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function mo(t,e,n){const r=t.getProps();return Uy(r,e,n!==void 0?n:r.custom,t)}const yA=new Set(["width","height","top","left","right","bottom",...qo]),L_=30,DF=t=>!isNaN(parseFloat(t));class NF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=$t.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=$t.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=DF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new by);const r=this.events[e].add(n);return e==="change"?()=>{r(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$t.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>L_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,L_);return jk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ro(t,e){return new NF(t,e)}const ym=t=>Array.isArray(t);function VF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ro(n))}function MF(t){return ym(t)?t[t.length-1]||0:t}function LF(t,e){const n=mo(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=MF(i[o]);VF(t,o,a)}}const Mt=t=>!!(t&&t.getVelocity);function OF(t){return!!(Mt(t)&&t.add)}function vm(t,e){const n=t.getValue("willChange");if(OF(n))return n.add(e);if(!n&&zr.WillChange){const r=new zr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function By(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const FF="framerAppearId",vA="data-"+By(FF);function wA(t){return t.props[vA]}function jF({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function _A(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;const l=i==null?void 0:i.reduceMotion;r&&(i=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in a){const d=t.getValue(f,t.latestValues[f]??null),m=a[f];if(m===void 0||h&&jF(h,f))continue;const y={delay:n,...$y(i||{},f)},x=d.get();if(x!==void 0&&!d.isAnimating&&!Array.isArray(m)&&m===x&&!y.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const E=wA(t);if(E){const P=window.MotionHandoffAnimation(E,f,Pe);P!==null&&(y.startTime=P,k=!0)}}vm(t,f);const w=l??t.shouldReduceMotion;d.start(zy(f,d,m,w&&yA.has(f)?{type:!1}:y,t,k));const _=d.animation;_&&c.push(_)}return o&&Promise.all(c).then(()=>{Pe.update(()=>{o&&LF(t,o)})}),c}function wm(t,e,n={}){var l;const r=mo(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(_A(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:d}=s;return $F(t,e,c,h,f,d,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,h]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>h())}else return Promise.all([i(),o(n.delay)])}function $F(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(wm(l,e,{...o,delay:n+(typeof r=="function"?0:r)+mA(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function zF(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>wm(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=wm(t,e,n);else{const s=typeof e=="function"?mo(t,e,n.custom):e;r=Promise.all(_A(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const UF={test:t=>t==="auto",parse:t=>t},EA=t=>e=>e.test(t),xA=[Go,X,fr,ns,m3,p3,UF],O_=t=>xA.find(EA(t));function BF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Fk(t):!0}const HF=new Set(["brightness","contrast","saturate","opacity"]);function WF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Dy)||[];if(!r)return t;const s=n.replace(r,"");let i=HF.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const GF=/\b([a-z-]*)\(.*?\)/gu,_m={...Ds,getAnimatableNone:t=>{const e=t.match(GF);return e?e.map(WF).join(" "):t}},F_={...Go,transform:Math.round},qF={rotate:ns,rotateX:ns,rotateY:ns,rotateZ:ns,scale:tc,scaleX:tc,scaleY:tc,scaleZ:tc,skew:ns,skewX:ns,skewY:ns,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:Fl,originX:S_,originY:S_,originZ:X},Hy={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,inset:X,insetBlock:X,insetBlockStart:X,insetBlockEnd:X,insetInline:X,insetInlineStart:X,insetInlineEnd:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,paddingBlock:X,paddingBlockStart:X,paddingBlockEnd:X,paddingInline:X,paddingInlineStart:X,paddingInlineEnd:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,marginBlock:X,marginBlockStart:X,marginBlockEnd:X,marginInline:X,marginInlineStart:X,marginInlineEnd:X,fontSize:X,backgroundPositionX:X,backgroundPositionY:X,...qF,zIndex:F_,fillOpacity:Fl,strokeOpacity:Fl,numOctaves:F_},KF={...Hy,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:_m,WebkitFilter:_m},TA=t=>KF[t];function SA(t,e){let n=TA(t);return n!==_m&&(n=Ds),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const QF=new Set(["auto","none","0"]);function YF(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!QF.has(i)&&jl(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=SA(n,s)}class XF extends jy{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),Py(f))){const d=gA(f,n.current);d!==void 0&&(e[h]=d),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!yA.has(r)||e.length!==2)return;const[s,i]=e,o=O_(s),a=O_(i),l=T_(s),c=T_(i);if(l!==c&&cs[r]){this.needsMeasurement=!0;return}if(o!==a)if(D_(o)&&D_(a))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else cs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||BF(e[s]))&&r.push(s);r.length&&YF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=cs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function JF(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t).filter(r=>r!=null)}const kA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ZF(t){return Ok(t)&&"offsetHeight"in t}const{schedule:Wy}=Yk(queueMicrotask,!1),Mn={x:!1,y:!1};function AA(){return Mn.x||Mn.y}function e6(t){return t==="x"||t==="y"?Mn[t]?null:(Mn[t]=!0,()=>{Mn[t]=!1}):Mn.x||Mn.y?null:(Mn.x=Mn.y=!0,()=>{Mn.x=Mn.y=!1})}function CA(t,e){const n=JF(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function j_(t){return!(t.pointerType==="touch"||AA())}function t6(t,e,n={}){const[r,s,i]=CA(t,n),o=a=>{if(!j_(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const h=f=>{j_(f)&&(c(f),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const bA=(t,e)=>e?t===e?!0:bA(t,e.parentElement):!1,Gy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,n6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function r6(t){return n6.has(t.tagName)||t.isContentEditable===!0}const s6=new Set(["INPUT","SELECT","TEXTAREA"]);function i6(t){return s6.has(t.tagName)||t.isContentEditable===!0}const bc=new WeakSet;function $_(t){return e=>{e.key==="Enter"&&t(e)}}function _d(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const o6=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=$_(()=>{if(bc.has(n))return;_d(n,"down");const s=$_(()=>{_d(n,"up")}),i=()=>_d(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function z_(t){return Gy(t)&&!AA()}function a6(t,e,n={}){const[r,s,i]=CA(t,n),o=a=>{const l=a.currentTarget;if(!z_(a))return;bc.add(l);const c=e(l,a),h=(m,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),bc.has(l)&&bc.delete(l),z_(m)&&typeof c=="function"&&c(m,{success:y})},f=m=>{h(m,l===window||l===document||n.useGlobalTarget||bA(l,m.target))},d=m=>{h(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",d,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),ZF(a)&&(a.addEventListener("focus",c=>o6(c,s)),!r6(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function IA(t){return Ok(t)&&"ownerSVGElement"in t}function l6(t){return IA(t)&&t.tagName==="svg"}const u6=[...xA,st,Ds],c6=t=>u6.find(EA(t)),U_=()=>({translate:0,scale:1,origin:0,originPoint:0}),to=()=>({x:U_(),y:U_()}),B_=()=>({min:0,max:0}),ht=()=>({x:B_(),y:B_()}),Em={current:null},RA={current:!1},h6=typeof window<"u";function f6(){if(RA.current=!0,!!h6)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Em.current=t.matches;t.addEventListener("change",e),e()}else Em.current=!1}const d6=new WeakMap;function hf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $l(t){return typeof t=="string"||Array.isArray(t)}const qy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ky=["initial",...qy];function ff(t){return hf(t.animate)||Ky.some(e=>$l(t[e]))}function PA(t){return!!(ff(t)||t.variants)}function p6(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Mt(s))t.addValue(r,s);else if(Mt(i))t.addValue(r,Ro(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Ro(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const H_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ah={};function DA(t){Ah=t}function m6(){return Ah}class g6{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,skipAnimations:i,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=jy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=$t.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Pe.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=ff(n),this.isVariantNode=PA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in d){const y=d[m];c[m]!==void 0&&Mt(y)&&y.set(c[m])}}mount(e){var n;this.current=e,d6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(RA.current||f6(),this.shouldReduceMotion=Em.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ps(this.notifyUpdate),Ps(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ko.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Pe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ah){const n=Ah[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<H_.length;r++){const s=H_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=p6(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ro(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Lk(r)||Fk(r))?r=parseFloat(r):!c6(r)&&Ds.test(n)&&(r=SA(e,n)),this.setBaseTarget(e,Mt(r)?r.get():r)),Mt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Uy(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Mt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new by),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Wy.render(this.render)}}class NA extends g6{constructor(){super(...arguments),this.KeyframeResolver=XF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class js{constructor(e){this.isMounted=!1,this.node=e}update(){}}function VA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function y6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function v6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ed(t){return t===void 0||t===1}function xm({scale:t,scaleX:e,scaleY:n}){return!Ed(t)||!Ed(e)||!Ed(n)}function ii(t){return xm(t)||MA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function MA(t){return W_(t.x)||W_(t.y)}function W_(t){return t&&t!=="0%"}function Ch(t,e,n){const r=t-n,s=e*r;return n+s}function G_(t,e,n,r,s){return s!==void 0&&(t=Ch(t,s,r)),Ch(t,n,r)+e}function Tm(t,e=0,n=1,r,s){t.min=G_(t.min,e,n,r,s),t.max=G_(t.max,e,n,r,s)}function LA(t,{x:e,y:n}){Tm(t.x,e.translate,e.scale,e.originPoint),Tm(t.y,n.translate,n.scale,n.originPoint)}const q_=.999999999999,K_=1.0000000000001;function w6(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ro(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,LA(t,o)),r&&ii(i.latestValues)&&ro(t,i.latestValues))}e.x<K_&&e.x>q_&&(e.x=1),e.y<K_&&e.y>q_&&(e.y=1)}function no(t,e){t.min=t.min+e,t.max=t.max+e}function Q_(t,e,n,r,s=.5){const i=je(t.min,t.max,s);Tm(t,e,n,i,r)}function ro(t,e){Q_(t.x,e.x,e.scaleX,e.scale,e.originX),Q_(t.y,e.y,e.scaleY,e.scale,e.originY)}function OA(t,e){return VA(v6(t.getBoundingClientRect(),e))}function _6(t,e,n){const r=OA(t,n),{scroll:s}=e;return s&&(no(r.x,s.offset.x),no(r.y,s.offset.y)),r}const E6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},x6=qo.length;function T6(t,e,n){let r="",s=!0;for(let i=0;i<x6;i++){const o=qo[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number")l=a===(o.startsWith("scale")?1:0);else{const c=parseFloat(a);l=o.startsWith("scale")?c===1:c===0}if(!l||n){const c=kA(a,Hy[o]);if(!l){s=!1;const h=E6[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Qy(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Ko.has(l)){o=!0;continue}else if(Jk(l)){s[l]=c;continue}else{const h=kA(c,Hy[l]);l.startsWith("origin")?(a=!0,i[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=T6(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=i;r.transformOrigin=`${l} ${c} ${h}`}}function FA(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function Y_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Pa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(X.test(t))t=parseFloat(t);else return t;const n=Y_(t,e.target.x),r=Y_(t,e.target.y);return`${n}% ${r}%`}},S6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ds.parse(t);if(s.length>5)return r;const i=Ds.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=je(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},Sm={borderRadius:{...Pa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pa,borderTopRightRadius:Pa,borderBottomLeftRadius:Pa,borderBottomRightRadius:Pa,boxShadow:S6};function jA(t,{layout:e,layoutId:n}){return Ko.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sm[t]||t==="opacity")}function Yy(t,e,n){var o;const r=t.style,s=e==null?void 0:e.style,i={};if(!r)return i;for(const a in r)(Mt(r[a])||s&&Mt(s[a])||jA(a,t)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(i[a]=r[a]);return i}function k6(t){return window.getComputedStyle(t)}class A6 extends NA{constructor(){super(...arguments),this.type="html",this.renderInstance=FA}readValueFromInstance(e,n){var r;if(Ko.has(n))return(r=this.projection)!=null&&r.isProjecting?hm(n):J3(e,n);{const s=k6(e),i=(Jk(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return OA(e,n)}build(e,n,r){Qy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Yy(e,n,r)}}const C6={offset:"stroke-dashoffset",array:"stroke-dasharray"},b6={offset:"strokeDashoffset",array:"strokeDasharray"};function I6(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?C6:b6;t[i.offset]=`${-r}`,t[i.array]=`${e} ${n}`}const R6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function $A(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,h){if(Qy(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:d}=t;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox);for(const m of R6)f[m]!==void 0&&(d[m]=f[m],delete f[m]);e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&I6(f,s,i,o,!1)}const zA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),UA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function P6(t,e,n,r){FA(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(zA.has(s)?s:By(s),e.attrs[s])}function BA(t,e,n){const r=Yy(t,e,n);for(const s in t)if(Mt(t[s])||Mt(e[s])){const i=qo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}class D6 extends NA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ko.has(n)){const r=TA(n);return r&&r.default||0}return n=zA.has(n)?n:By(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return BA(e,n,r)}build(e,n,r){$A(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){P6(e,n,r,s)}mount(e){this.isSVGTag=UA(e.tagName),super.mount(e)}}const N6=Ky.length;function HA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?HA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<N6;n++){const r=Ky[n],s=t.props[r];($l(s)||s===!1)&&(e[r]=s)}return e}function WA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const V6=[...qy].reverse(),M6=qy.length;function L6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>zF(t,n,r)))}function O6(t){let e=L6(t),n=X_(),r=!0;const s=l=>(c,h)=>{var d;const f=mo(t,h,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(f){const{transition:m,transitionEnd:y,...x}=f;c={...c,...x,...y}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,h=HA(t.parent)||{},f=[],d=new Set;let m={},y=1/0;for(let k=0;k<M6;k++){const w=V6[k],_=n[w],E=c[w]!==void 0?c[w]:h[w],P=$l(E),V=w===l?_.isActive:null;V===!1&&(y=k);let F=E===h[w]&&E!==c[w]&&P;if(F&&r&&t.manuallyAnimateOnMount&&(F=!1),_.protectedKeys={...m},!_.isActive&&V===null||!E&&!_.prevProp||hf(E)||typeof E=="boolean")continue;const S=F6(_.prevProp,E);let v=S||w===l&&_.isActive&&!F&&P||k>y&&P,C=!1;const b=Array.isArray(E)?E:[E];let R=b.reduce(s(w),{});V===!1&&(R={});const{prevResolvedValues:M={}}=_,I={...M,...R},ke=ge=>{v=!0,d.has(ge)&&(C=!0,d.delete(ge)),_.needsAnimating[ge]=!0;const j=t.getValue(ge);j&&(j.liveStyle=!1)};for(const ge in I){const j=R[ge],Z=M[ge];if(m.hasOwnProperty(ge))continue;let te=!1;ym(j)&&ym(Z)?te=!WA(j,Z):te=j!==Z,te?j!=null?ke(ge):d.add(ge):j!==void 0&&d.has(ge)?ke(ge):_.protectedKeys[ge]=!0}_.prevProp=E,_.prevResolvedValues=R,_.isActive&&(m={...m,...R}),r&&t.blockInitialAnimation&&(v=!1);const Ke=F&&S;v&&(!Ke||C)&&f.push(...b.map(ge=>{const j={type:w};if(typeof ge=="string"&&r&&!Ke&&t.manuallyAnimateOnMount&&t.parent){const{parent:Z}=t,te=mo(Z,ge);if(Z.enteringChildren&&te){const{delayChildren:re}=te.transition||{};j.delay=mA(Z.enteringChildren,t,re)}}return{animation:ge,options:j}}))}if(d.size){const k={};if(typeof c.initial!="boolean"){const w=mo(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(k.transition=w.transition)}d.forEach(w=>{const _=t.getBaseTarget(w),E=t.getValue(w);E&&(E.liveStyle=!0),k[w]=_??null}),f.push({animation:k})}let x=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(d=>{var m;return(m=d.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=X_()}}}function F6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!WA(e,t):!1}function ei(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function X_(){return{animate:ei(!0),whileInView:ei(),whileHover:ei(),whileTap:ei(),whileDrag:ei(),whileFocus:ei(),exit:ei()}}function J_(t,e){t.min=e.min,t.max=e.max}function Nn(t,e){J_(t.x,e.x),J_(t.y,e.y)}function Z_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const GA=1e-4,j6=1-GA,$6=1+GA,qA=.01,z6=0-qA,U6=0+qA;function zt(t){return t.max-t.min}function B6(t,e,n){return Math.abs(t-e)<=n}function eE(t,e,n,r=.5){t.origin=r,t.originPoint=je(e.min,e.max,t.origin),t.scale=zt(n)/zt(e),t.translate=je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=j6&&t.scale<=$6||isNaN(t.scale))&&(t.scale=1),(t.translate>=z6&&t.translate<=U6||isNaN(t.translate))&&(t.translate=0)}function ll(t,e,n,r){eE(t.x,e.x,n.x,r?r.originX:void 0),eE(t.y,e.y,n.y,r?r.originY:void 0)}function tE(t,e,n){t.min=n.min+e.min,t.max=t.min+zt(e)}function H6(t,e,n){tE(t.x,e.x,n.x),tE(t.y,e.y,n.y)}function nE(t,e,n){t.min=e.min-n.min,t.max=t.min+zt(e)}function bh(t,e,n){nE(t.x,e.x,n.x),nE(t.y,e.y,n.y)}function rE(t,e,n,r,s){return t-=e,t=Ch(t,1/n,r),s!==void 0&&(t=Ch(t,1/s,r)),t}function W6(t,e=0,n=1,r=.5,s,i=t,o=t){if(fr.test(e)&&(e=parseFloat(e),e=je(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=je(i.min,i.max,r);t===i&&(a-=e),t.min=rE(t.min,e,n,a,s),t.max=rE(t.max,e,n,a,s)}function sE(t,e,[n,r,s],i,o){W6(t,e[n],e[r],e[s],e.scale,i,o)}const G6=["x","scaleX","originX"],q6=["y","scaleY","originY"];function iE(t,e,n,r){sE(t.x,e,G6,n?n.x:void 0,r?r.x:void 0),sE(t.y,e,q6,n?n.y:void 0,r?r.y:void 0)}function oE(t){return t.translate===0&&t.scale===1}function KA(t){return oE(t.x)&&oE(t.y)}function aE(t,e){return t.min===e.min&&t.max===e.max}function K6(t,e){return aE(t.x,e.x)&&aE(t.y,e.y)}function lE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function QA(t,e){return lE(t.x,e.x)&&lE(t.y,e.y)}function uE(t){return zt(t.x)/zt(t.y)}function cE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function yn(t){return[t("x"),t("y")]}function Q6(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:d,skewX:m,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const YA=["TopLeft","TopRight","BottomLeft","BottomRight"],Y6=YA.length,hE=t=>typeof t=="string"?parseFloat(t):t,fE=t=>typeof t=="number"||X.test(t);function X6(t,e,n,r,s,i){s?(t.opacity=je(0,n.opacity??1,J6(r)),t.opacityExit=je(e.opacity??1,0,Z6(r))):i&&(t.opacity=je(e.opacity??1,n.opacity??1,r));for(let o=0;o<Y6;o++){const a=`border${YA[o]}Radius`;let l=dE(e,a),c=dE(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||fE(l)===fE(c)?(t[a]=Math.max(je(hE(l),hE(c),r),0),(fr.test(c)||fr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=je(e.rotate||0,n.rotate||0,r))}function dE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const J6=XA(0,.5,Gk),Z6=XA(.5,.95,kn);function XA(t,e,n){return r=>r<t?0:r>e?1:n(Ol(t,e,r))}function ej(t,e,n){const r=Mt(t)?t:Ro(t);return r.start(zy("",r,e,n)),r.animation}function zl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const tj=(t,e)=>t.depth-e.depth;class nj{constructor(){this.children=[],this.isDirty=!1}add(e){Sy(this.children,e),this.isDirty=!0}remove(e){ky(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tj),this.isDirty=!1,this.children.forEach(e)}}function rj(t,e){const n=$t.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ps(r),t(i-e))};return Pe.setup(r,!0),()=>Ps(r)}function Ic(t){return Mt(t)?t.get():t}class sj{constructor(){this.members=[]}add(e){Sy(this.members,e),e.scheduleRender()}remove(e){if(ky(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const s=r.options.layoutDependency,i=e.options.layoutDependency;s!==void 0&&i!==void 0&&s===i||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Rc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},xd=["","X","Y","Z"],ij=1e3;let oj=0;function Td(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function JA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=wA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Pe,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&JA(r)}function ZA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=oj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uj),this.nodes.forEach(dj),this.nodes.forEach(pj),this.nodes.forEach(cj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new nj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new by),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=IA(o)&&!l6(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h,f=0;const d=()=>this.root.updateBlockedByResize=!1;Pe.read(()=>{f=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,h&&h(),h=rj(d,250),Rc.hasAnimatedSinceResize&&(Rc.hasAnimatedSinceResize=!1,this.nodes.forEach(gE)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:d,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||wj,{onLayoutAnimationStart:x,onLayoutAnimationComplete:k}=c.getProps(),w=!this.targetLayout||!QA(this.targetLayout,m),_=!f&&d;if(this.options.layoutRoot||this.resumeFrom||_||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...$y(y,"layout"),onPlay:x,onComplete:k};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(h,_)}else f||gE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ps(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(fj),this.nodes.forEach(aj),this.nodes.forEach(lj)):this.nodes.forEach(mE),this.clearAllSnapshots();const a=$t.now();Tt.delta=pr(0,1e3/60,a-Tt.timestamp),Tt.timestamp=a,Tt.isProcessing=!0,pd.update.process(Tt),pd.preRender.process(Tt),pd.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hj),this.sharedNodes.forEach(gj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zt(this.snapshot.measuredBox.x)&&!zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!KA(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||ii(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),_j(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return ht();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Ej))){const{scroll:h}=this.root;h&&(no(a.x,h.offset.x),no(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=ht();if(Nn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:d}=h;h!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&Nn(a,o),no(a.x,f.offset.x),no(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=ht();Nn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ro(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ii(h.latestValues)&&ro(l,h.latestValues)}return ii(this.latestValues)&&ro(l,this.latestValues),l}removeTransform(o){const a=ht();Nn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ii(c.latestValues))continue;xm(c.latestValues)&&c.updateSnapshot();const h=ht(),f=c.measurePageBox();Nn(h,f),iE(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return ii(this.latestValues)&&iE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!this.layout||!(h||f))return;this.resolvedRelativeTargetAt=Tt.timestamp;const d=this.getClosestProjectingParent();d&&this.linkedParentVersion!==d.layoutVersion&&!d.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(d&&d.layout?this.createRelativeTarget(d,this.layout.layoutBox,d.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),H6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nn(this.target,this.layout.layoutBox),LA(this.target,this.targetDelta)):Nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?this.createRelativeTarget(d,this.target,d.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||xm(this.parent.latestValues)||MA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),bh(this.relativeTargetOrigin,a,l),Nn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var y;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Nn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;w6(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ht());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z_(this.prevProjectionDelta.x,this.projectionDelta.x),Z_(this.prevProjectionDelta.y,this.projectionDelta.y)),ll(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!cE(this.projectionDelta.x,this.prevProjectionDelta.x)||!cE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=to(),this.projectionDelta=to(),this.projectionDeltaWithTransform=to()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},f=to();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=ht(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,k=this.getStack(),w=!k||k.members.length<=1,_=!!(x&&!w&&this.options.crossfade===!0&&!this.path.some(vj));this.animationProgress=0;let E;this.mixTargetDelta=P=>{const V=P/1e3;yE(f.x,o.x,V),yE(f.y,o.y,V),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bh(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yj(this.relativeTarget,this.relativeTargetOrigin,d,V),E&&K6(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ht()),Nn(E,this.relativeTarget)),x&&(this.animationValues=h,X6(h,c,this.latestValues,V,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ps(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{Rc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ro(0)),this.currentAnimation=ej(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ij),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&eC(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ht();const f=zt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=zt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Nn(a,l),ro(a,h),ll(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new sj),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Td("z",o,c,this.animationValues);for(let h=0;h<xd.length;h++)Td(`rotate${xd[h]}`,o,c,this.animationValues),Td(`skew${xd[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ic(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ic(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ii(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=Q6(this.projectionDeltaWithTransform,this.treeScale,h);l&&(f=l(h,f)),o.transform=f;const{x:d,y:m}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Sm){if(h[y]===void 0)continue;const{correct:x,applyTo:k,isCSSVariable:w}=Sm[y],_=f==="none"?h[y]:x(h[y],c);if(k){const E=k.length;for(let P=0;P<E;P++)o[k[P]]=_}else w?this.options.visualElement.renderState.vars[y]=_:o[y]=_}this.options.layoutId&&(o.pointerEvents=c===this?Ic(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(pE),this.root.sharedNodes.clear()}}}function aj(t){t.updateLayout()}function lj(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?yn(f=>{const d=o?e.measuredBox[f]:e.layoutBox[f],m=zt(d);d.min=r[f].min,d.max=d.min+m}):eC(i,e.layoutBox,r)&&yn(f=>{const d=o?e.measuredBox[f]:e.layoutBox[f],m=zt(r[f]);d.max=d.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=to();ll(a,r,e.layoutBox);const l=to();o?ll(l,t.applyTransform(s,!0),e.measuredBox):ll(l,r,e.layoutBox);const c=!KA(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:m}=f;if(d&&m){const y=ht();bh(y,e.layoutBox,d.layoutBox);const x=ht();bh(x,r,m.layoutBox),QA(y,x)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function uj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hj(t){t.clearSnapshot()}function pE(t){t.clearMeasurements()}function mE(t){t.isLayoutDirty=!1}function fj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function gE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dj(t){t.resolveTargetDelta()}function pj(t){t.calcProjection()}function mj(t){t.resetSkewAndRotation()}function gj(t){t.removeLeadSnapshot()}function yE(t,e,n){t.translate=je(e.translate,0,n),t.scale=je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function vE(t,e,n,r){t.min=je(e.min,n.min,r),t.max=je(e.max,n.max,r)}function yj(t,e,n,r){vE(t.x,e.x,n.x,r),vE(t.y,e.y,n.y,r)}function vj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wj={duration:.45,ease:[.4,0,.1,1]},wE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),_E=wE("applewebkit/")&&!wE("chrome/")?Math.round:kn;function EE(t){t.min=_E(t.min),t.max=_E(t.max)}function _j(t){EE(t.x),EE(t.y)}function eC(t,e,n){return t==="position"||t==="preserve-aspect"&&!B6(uE(e),uE(n),.2)}function Ej(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const xj=ZA({attachResizeListener:(t,e)=>zl(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Sd={current:void 0},tC=ZA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sd.current){const t=new xj({});t.mount(window),t.setOptions({layoutScroll:!0}),Sd.current=t}return Sd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nC=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Tj(t=!0){const e=D.useContext(Ty);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=D.useId();D.useEffect(()=>{if(t)return s(i)},[t]);const o=D.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const rC=D.createContext({strict:!1}),xE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let TE=!1;function Sj(){if(TE)return;const t={};for(const e in xE)t[e]={isEnabled:n=>xE[e].some(r=>!!n[r])};DA(t),TE=!0}function sC(){return Sj(),m6()}function kj(t){const e=sC();for(const n in t)e[n]={...e[n],...t[n]};DA(e)}const Aj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ih(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Aj.has(t)}let iC=t=>!Ih(t);function Cj(t){typeof t=="function"&&(iC=e=>e.startsWith("on")?!Ih(e):t(e))}try{Cj(require("@emotion/is-prop-valid").default)}catch{}function bj(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(iC(s)||n===!0&&Ih(s)||!e&&!Ih(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const df=D.createContext({});function Ij(t,e){if(ff(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$l(n)?n:void 0,animate:$l(r)?r:void 0}}return t.inherit!==!1?e:{}}function Rj(t){const{initial:e,animate:n}=Ij(t,D.useContext(df));return D.useMemo(()=>({initial:e,animate:n}),[SE(e),SE(n)])}function SE(t){return Array.isArray(t)?t.join(" "):t}const Xy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oC(t,e,n){for(const r in e)!Mt(e[r])&&!jA(r,n)&&(t[r]=e[r])}function Pj({transformTemplate:t},e){return D.useMemo(()=>{const n=Xy();return Qy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Dj(t,e){const n=t.style||{},r={};return oC(r,n,t),Object.assign(r,Pj(t,e)),r}function Nj(t,e){const n={},r=Dj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const aC=()=>({...Xy(),attrs:{}});function Vj(t,e,n,r){const s=D.useMemo(()=>{const i=aC();return $A(i,e,UA(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};oC(i,t.style,t),s.style={...i,...s.style}}return s}const Mj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jy(t){return typeof t!="string"||t.includes("-")?!1:!!(Mj.indexOf(t)>-1||/[A-Z]/u.test(t))}function Lj(t,e,n,{latestValues:r},s,i=!1,o){const l=(o??Jy(t)?Vj:Nj)(e,r,s,t),c=bj(e,typeof t=="string",i),h=t!==D.Fragment?{...c,...l,ref:n}:{},{children:f}=e,d=D.useMemo(()=>Mt(f)?f.get():f,[f]);return D.createElement(t,{...h,children:d})}function Oj({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Fj(n,r,s,t),renderState:e()}}function Fj(t,e,n,r){const s={},i=r(t,{});for(const d in i)s[d]=Ic(i[d]);let{initial:o,animate:a}=t;const l=ff(t),c=PA(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!hf(f)){const d=Array.isArray(f)?f:[f];for(let m=0;m<d.length;m++){const y=Uy(t,d[m]);if(y){const{transitionEnd:x,transition:k,...w}=y;for(const _ in w){let E=w[_];if(Array.isArray(E)){const P=h?E.length-1:0;E=E[P]}E!==null&&(s[_]=E)}for(const _ in x)s[_]=x[_]}}}return s}const lC=t=>(e,n)=>{const r=D.useContext(df),s=D.useContext(Ty),i=()=>Oj(t,e,r,s);return n?i():KO(i)},jj=lC({scrapeMotionValuesFromProps:Yy,createRenderState:Xy}),$j=lC({scrapeMotionValuesFromProps:BA,createRenderState:aC}),zj=Symbol.for("motionComponentSymbol");function Uj(t,e,n){const r=D.useRef(n);D.useInsertionEffect(()=>{r.current=n});const s=D.useRef(null);return D.useCallback(i=>{var a;i&&((a=t.onMount)==null||a.call(t,i)),e&&(i?e.mount(i):e.unmount());const o=r.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[e])}const uC=D.createContext({});function Ua(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Bj(t,e,n,r,s,i){var E,P;const{visualElement:o}=D.useContext(df),a=D.useContext(rC),l=D.useContext(Ty),c=D.useContext(nC),h=c.reducedMotion,f=c.skipAnimations,d=D.useRef(null),m=D.useRef(!1);r=r||a.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:h,skipAnimations:f,isSVG:i}),m.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));const y=d.current,x=D.useContext(uC);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&Hj(d.current,n,s,x);const k=D.useRef(!1);D.useInsertionEffect(()=>{y&&k.current&&y.update(n,l)});const w=n[vA],_=D.useRef(!!w&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,w))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,w)));return QO(()=>{m.current=!0,y&&(k.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),_.current&&y.animationState&&y.animationState.animateChanges())}),D.useEffect(()=>{y&&(!_.current&&y.animationState&&y.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)==null||V.call(window,w)}),_.current=!1),y.enteringChildren=void 0)}),y}function Hj(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:cC(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Ua(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:c})}function cC(t){if(t)return t.options.allowProjection!==!1?t.projection:cC(t.parent)}function kd(t,{forwardMotionProps:e=!1,type:n}={},r,s){r&&kj(r);const i=n?n==="svg":Jy(t),o=i?$j:jj;function a(c,h){let f;const d={...D.useContext(nC),...c,layoutId:Wj(c)},{isStatic:m}=d,y=Rj(c),x=o(c,m);if(!m&&Mk){Gj();const k=qj(d);f=k.MeasureLayout,y.visualElement=Bj(t,x,d,s,k.ProjectionNode,i)}return A.jsxs(df.Provider,{value:y,children:[f&&y.visualElement?A.jsx(f,{visualElement:y.visualElement,...d}):null,Lj(t,c,Uj(x,y.visualElement,h),x,m,e,i)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=D.forwardRef(a);return l[zj]=t,l}function Wj({layoutId:t}){const e=D.useContext(Vk).id;return e&&t!==void 0?e+"-"+t:t}function Gj(t,e){D.useContext(rC).strict}function qj(t){const e=sC(),{drag:n,layout:r}=e;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Kj(t,e){if(typeof Proxy>"u")return kd;const n=new Map,r=(i,o)=>kd(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,kd(o,void 0,t,e)),n.get(o))})}const Qj=(t,e)=>e.isSVG??Jy(t)?new D6(e):new A6(e,{allowProjection:t!==D.Fragment});class Yj extends js{constructor(e){super(e),e.animationState||(e.animationState=O6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Xj=0;class Jj extends js{constructor(){super(...arguments),this.id=Xj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Zj={animation:{Feature:Yj},exit:{Feature:Jj}};function au(t){return{point:{x:t.pageX,y:t.pageY}}}const e9=t=>e=>Gy(e)&&t(e,au(e));function ul(t,e,n,r){return zl(t,e,e9(n),r)}const hC=({current:t})=>t?t.ownerDocument.defaultView:null,kE=(t,e)=>Math.abs(t-e);function t9(t,e){const n=kE(t.x,e.x),r=kE(t.y,e.y);return Math.sqrt(n**2+r**2)}const AE=new Set(["auto","scroll"]);class fC{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Cd(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=t9(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!x)return;const{point:k}=m,{timestamp:w}=Tt;this.history.push({...k,timestamp:w});const{onStart:_,onMove:E}=this.handlers;y||(_&&_(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ad(y,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:x,onSessionEnd:k,resumeAnimation:w}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Cd(m.type==="pointercancel"?this.lastMoveEventInfo:Ad(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,_),k&&k(m,_)},!Gy(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=au(e),c=Ad(l,this.transformPagePoint),{point:h}=c,{timestamp:f}=Tt;this.history=[{...h,timestamp:f}];const{onSessionStart:d}=n;d&&d(e,Cd(c,this.history)),this.removeListeners=su(ul(this.contextWindow,"pointermove",this.handlePointerMove),ul(this.contextWindow,"pointerup",this.handlePointerUp),ul(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(AE.has(r.overflowX)||AE.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,s),Pe.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ps(this.updatePoint)}}function Ad(t,e){return e?{point:e(t.point)}:t}function CE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cd({point:t},e){return{point:t,delta:CE(t,dC(e)),offset:CE(t,n9(e)),velocity:r9(e,.1)}}function n9(t){return t[0]}function dC(t){return t[t.length-1]}function r9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=dC(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Rr(e)));)n--;if(!r)return{x:0,y:0};const i=Tn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function s9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?je(n,t,r.max):Math.min(t,n)),t}function bE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function i9(t,{top:e,left:n,bottom:r,right:s}){return{x:bE(t.x,n,s),y:bE(t.y,e,r)}}function IE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function o9(t,e){return{x:IE(t.x,e.x),y:IE(t.y,e.y)}}function a9(t,e){let n=.5;const r=zt(t),s=zt(e);return s>r?n=Ol(e.min,e.max-r,t.min):r>s&&(n=Ol(t.min,t.max-s,e.min)),pr(0,1,n)}function l9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const km=.35;function u9(t=km){return t===!1?t=0:t===!0&&(t=km),{x:RE(t,"left","right"),y:RE(t,"top","bottom")}}function RE(t,e,n){return{min:PE(t,e),max:PE(t,n)}}function PE(t,e){return typeof t=="number"?t:t[e]||0}const c9=new WeakMap;class h9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{n?(this.stopAnimation(),this.snapToCursor(au(f).point)):this.pauseAnimation()},o=(f,d)=>{this.stopAnimation();const{drag:m,dragPropagation:y,onDragStart:x}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=e6(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yn(w=>{let _=this.getAxisMotionValue(w).get()||0;if(fr.test(_)){const{projection:E}=this.visualElement;if(E&&E.layout){const P=E.layout.layoutBox[w];P&&(_=zt(P)*(parseFloat(_)/100))}}this.originPoint[w]=_}),x&&Pe.update(()=>x(f,d),!1,!0),vm(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},a=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d;const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:x,onDrag:k}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=d;if(y&&this.currentDirection===null){this.currentDirection=f9(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),k&&Pe.update(()=>k(f,d),!1,!0)},l=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d,this.stop(f,d),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>yn(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new fC(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:hC(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Pe.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!nc(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=s9(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Ua(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=i9(r.layoutBox,e):this.constraints=!1,this.elastic=u9(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&yn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=l9(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ua(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=_6(r,s.root,this.visualElement.getTransformPagePoint());let o=o9(s.layout.layoutBox,i);if(n){const a=n(y6(o));this.hasMutatedConstraints=!!a,a&&(o=VA(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=yn(h=>{if(!nc(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const d=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:r?e[h]:0,bounceStiffness:d,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return vm(this.visualElement,e),r.start(zy(e,r,0,n,this.visualElement,!1))}stopAnimation(){yn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){yn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){yn(n=>{const{drag:r}=this.getProps();if(!nc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],l=i.get()||0;i.set(e[n]-je(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ua(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};yn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=a9({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),yn(o=>{if(!nc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(je(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;c9.set(this.visualElement,this);const e=this.visualElement.current,n=ul(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps(),f=l.target,d=f!==e&&i6(f);c&&h&&!d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ua(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Pe.read(r);const o=zl(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(yn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=km,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function nc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function f9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class d9 extends js{constructor(e){super(e),this.removeGroupControls=kn,this.removeListeners=kn,this.controls=new h9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const bd=t=>(e,n)=>{t&&Pe.update(()=>t(e,n),!1,!0)};class p9 extends js{constructor(){super(...arguments),this.removePointerDownListener=kn}onPointerDown(e){this.session=new fC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:bd(e),onStart:bd(n),onMove:bd(r),onEnd:(i,o)=>{delete this.session,s&&Pe.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ul(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Id=!1;class m9 extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Id&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Rc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,e.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),Id=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Pe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Id=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pC(t){const[e,n]=Tj(),r=D.useContext(Vk);return A.jsx(m9,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(uC),isPresent:e,safeToRemove:n})}const g9={pan:{Feature:p9},drag:{Feature:d9,ProjectionNode:tC,MeasureLayout:pC}};function DE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Pe.postRender(()=>i(e,au(e)))}class y9 extends js{mount(){const{current:e}=this.node;e&&(this.unmount=t6(e,(n,r)=>(DE(this.node,r,"Start"),s=>DE(this.node,s,"End"))))}unmount(){}}class v9 extends js{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=su(zl(this.node.current,"focus",()=>this.onFocus()),zl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function NE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Pe.postRender(()=>i(e,au(e)))}class w9 extends js{mount(){const{current:e}=this.node;e&&(this.unmount=a6(e,(n,r)=>(NE(this.node,r,"Start"),(s,{success:i})=>NE(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Am=new WeakMap,Rd=new WeakMap,_9=t=>{const e=Am.get(t.target);e&&e(t)},E9=t=>{t.forEach(_9)};function x9({root:t,...e}){const n=t||document;Rd.has(n)||Rd.set(n,{});const r=Rd.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(E9,{root:t,...e})),r[s]}function T9(t,e,n){const r=x9(e);return Am.set(t,n),r.observe(t),()=>{Am.delete(t),r.unobserve(t)}}const S9={some:0,all:1};class k9 extends js{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:S9[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),d=c?h:f;d&&d(l)};return T9(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(A9(e,n))&&this.startObserver()}unmount(){}}function A9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const C9={inView:{Feature:k9},tap:{Feature:w9},focus:{Feature:v9},hover:{Feature:y9}},b9={layout:{ProjectionNode:tC,MeasureLayout:pC}},I9={...Zj,...C9,...g9,...b9},R9=Kj(I9,Qj);function P9({events:t}){const e=Lo(),[n,r]=D.useState("grouped"),[s,i]=D.useState(null),o=D.useMemo(()=>{const c=[];return t.forEach(h=>{c.push({type:"start",date:new Date(h.startDate||0),id:h.id,event:h}),h.endDate&&h.endDate!==h.startDate&&c.push({type:"end",date:new Date(h.endDate),id:h.id,event:h})}),c.sort((h,f)=>f.date-h.date)},[t]),{nodesWithTracks:a}=D.useMemo(()=>{const c=[];return{nodesWithTracks:o.map(f=>{let d=-1;if(f.type==="end"){const y=c.findIndex(x=>x===null);y!==-1?(c[y]=f.id,d=y):(c.push(f.id),d=c.length-1)}const m=[...c];if(f.type!=="end"){const y=c.indexOf(f.id);y!==-1&&(d=y,c[y]=null)}return{...f,trackIndex:d,activeTracks:m}})}},[o]),l=D.useMemo(()=>{const c=n==="simple"?a.filter(f=>f.type==="start"):a;let h=null;return c.map(f=>{const d=f.date.getUTCFullYear(),m=h!==d;return h=d,{...f,isNewYear:m,year:d}})},[n,a]);return A.jsxs("div",{className:"relative w-full py-12",children:[A.jsx("div",{className:"mb-8 flex justify-center",children:A.jsxs("button",{onClick:()=>r(c=>c==="grouped"?"simple":"grouped"),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-bg-card px-4 py-2 text-sm text-slate-300 hover:text-primary transition-colors",children:[n==="grouped"?A.jsx(f2,{size:16}):A.jsx(c2,{size:16}),n==="grouped"?"Show Chronological Only":"Show Tracks"]})}),A.jsx("div",{className:"space-y-0",children:l.map((c,h)=>A.jsxs(oi.Fragment,{children:[c.isNewYear&&A.jsx(D9,{year:c.year}),A.jsx(N9,{node:c,navigate:e,isEven:h%2===0,viewMode:n,hoveredTraceId:s,setHoveredTraceId:i})]},`${c.id}-${c.type}-${h}`))})]})}function D9({year:t}){return A.jsx("div",{className:"relative h-10 flex items-center justify-center",children:A.jsx("div",{className:"px-4 py-1 bg-bg-dark border border-white/10 rounded z-10",children:A.jsx("span",{className:"text-sm font-mono text-slate-400 tracking-wider",children:t})})})}function N9({node:t,navigate:e,isEven:n,viewMode:r,hoveredTraceId:s,setHoveredTraceId:i}){const o=t.type==="end",a=t.type==="start",l=t.activeTracks,c=r==="grouped",h=s===t.id,f=D.useMemo(()=>{const d=t.date,m=d.getUTCMonth(),y=d.getUTCDate();return m===0&&y===1?"":d.toLocaleDateString("en-US",{month:"short",day:"numeric",timeZone:"UTC"})},[t.date]);return A.jsxs("div",{className:"relative h-24 flex items-center",onMouseEnter:()=>i(t.id),onMouseLeave:()=>i(null),children:[A.jsx("div",{className:"absolute left-0 w-[calc(50%-80px)] flex justify-end",children:n&&A.jsx(VE,{node:t,isEndNode:o,navigate:e,align:"right",isHovered:h})}),A.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 w-40 h-full flex items-center justify-center",children:[c&&l.map((d,m)=>{if(!d)return null;const y=d===t.id,x=s===d,k=s!==null;let w=1,_="bg-cyan-500",E="w-[2px]",P=0;k?x?(_="bg-cyan-400 shadow-[0_0_6px_rgba(34,211,238,0.8)]",E="w-[3px]",w=1,P=10):(_="bg-slate-700",w=.2):(_="bg-cyan-600/60",y&&(_="bg-cyan-500"));const V=-16-m*10;let F="-20px",S="-20px";return y&&o?(F="50%",S="-20px"):y&&a&&(F="-20px",S="50%"),A.jsxs("div",{className:`absolute ${_} ${E} transition-all duration-200`,style:{left:`calc(50% + ${V}px)`,top:F,bottom:S,opacity:w,zIndex:P},children:[y&&A.jsx("div",{className:`absolute ${o?"top-0":"bottom-0"} left-1/2 -translate-x-1/2 w-3 h-3 rounded-full ${h?"bg-cyan-400 ring-4 ring-cyan-400/30":"bg-cyan-500 ring-2 ring-cyan-500/20"} transition-all duration-200`}),y&&A.jsx("div",{className:`absolute ${o?"top-0":"bottom-0"} left-1/2 -translate-x-1/2 w-2 h-2 rounded-full bg-slate-900 ${h?"scale-110":""} transition-all duration-200`})]},`track-${m}-${d}`)}),A.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 w-px bg-white/20 top-0 bottom-0"}),A.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 w-3 h-3 rounded-full border-2 ${h?"border-cyan-400 bg-cyan-900":"border-primary bg-bg-dark"} z-10 transition-all ${o?"scale-75 opacity-70":"scale-100"}`}),c&&l.map((d,m)=>{if(!d||!(d===t.id))return null;const x=-16-m*10,w=s===d?"bg-cyan-400":"bg-cyan-500",_=n;return A.jsxs(oi.Fragment,{children:[_&&A.jsx("div",{className:`absolute h-[2px] ${w} z-5`,style:{top:"50%",marginTop:"-1px",left:"0",width:`calc(50% + ${x}px)`}}),!_&&A.jsx("div",{className:`absolute h-[2px] ${w} z-5`,style:{top:"50%",marginTop:"-1px",left:`calc(50% + ${x}px)`,right:"0"}})]},`conn-${m}`)}),f&&A.jsx("div",{className:"absolute left-1/2 translate-x-4 bg-slate-900 px-3 py-1 rounded-full border border-cyan-600/30 text-xs text-cyan-400 z-20",children:f})]}),A.jsx("div",{className:"absolute right-0 w-[calc(50%-80px)] flex justify-start",children:!n&&A.jsx(VE,{node:t,isEndNode:o,navigate:e,align:"left",isHovered:h})})]})}function VE({node:t,isEndNode:e,navigate:n,align:r,isHovered:s}){const i=s?"bg-cyan-400 shadow-[0_0_8px_rgba(34,211,238,0.6)]":"bg-cyan-600/50",o=s?"h-[3px]":"h-[2px]",a="w-20";return e?A.jsxs("div",{className:"flex items-center gap-0",children:[r==="left"&&A.jsx("div",{className:`${a} ${o} ${i} transition-all duration-200`}),A.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-800/50 rounded-lg border border-cyan-600/20 whitespace-nowrap",children:[A.jsx(n2,{size:16,className:"text-cyan-400"}),A.jsxs("span",{className:"text-sm text-slate-300",children:["End of ",t.event.title]})]}),r==="right"&&A.jsx("div",{className:`${a} ${o} ${i} transition-all duration-200`})]}):A.jsxs("div",{className:"flex items-center gap-0",children:[r==="left"&&A.jsx("div",{className:`${a} ${o} ${i} transition-all duration-200`}),A.jsx(V9,{event:t.event,navigate:n,isHovered:s}),r==="right"&&A.jsx("div",{className:`${a} ${o} ${i} transition-all duration-200`})]})}function V9({event:t,navigate:e,isHovered:n}){return A.jsx(R9.div,{whileHover:{scale:1.02},className:`max-w-sm cursor-pointer transition-all duration-200 ${n?"ring-2 ring-cyan-400/50":""}`,onClick:()=>e(`/page/${t.pageSlug||t.id}`),children:A.jsxs("div",{className:"bg-bg-card border border-white/10 rounded-lg p-4 hover:border-cyan-500/30 transition-colors",children:[A.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:t.title}),t.subtitle&&A.jsx("p",{className:"text-sm text-slate-400 mb-3",children:t.subtitle}),A.jsx("div",{className:"flex flex-wrap gap-2",children:t.categories&&t.categories.map(r=>A.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-slate-800 text-slate-300 border border-white/5",children:r},r))})]})})}function M9(){const[t,e]=D.useState([]),[n,r]=D.useState(!0),[s,i]=D.useState(new Set),[o,a]=d1(),l=o.get("category")||"";D.useEffect(()=>{async function d(){const y=(await fy()).filter(k=>k.startDate),x=new Set;y.forEach(k=>{k.categories&&k.categories.forEach(w=>x.add(w))}),e(y),i(x),r(!1)}d()},[]);const h=t.filter(d=>{if(!l)return!0;if(!d.categories)return!1;const m=new RegExp(`^${l}($|-)`,"i");return d.categories.some(y=>m.test(y))}).sort((d,m)=>{const y=new Date(d.startDate);return new Date(m.startDate)-y}),f=d=>{const m=d.target.value;a(m?{category:m}:{})};return n?A.jsx("div",{className:"flex h-[50vh] w-full items-center justify-center text-primary",children:A.jsx(To,{className:"animate-spin",size:48})}):A.jsxs("div",{className:"container mx-auto max-w-4xl",children:[A.jsxs("div",{className:"mb-8 flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-white",children:"Chronological Archives"}),A.jsx("p",{className:"text-slate-400",children:l?`Showing events for "${l}"`:"History of the Solar System"})]}),A.jsxs("div",{className:"relative",children:[A.jsx(l2,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),A.jsxs("select",{value:l,onChange:f,className:"w-full appearance-none rounded-lg border border-white/10 bg-bg-card py-2 pl-10 pr-8 text-slate-200 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary md:w-64",children:[A.jsx("option",{value:"",children:"All Factions / Categories"}),Array.from(s).sort().map(d=>A.jsx("option",{value:d,children:d},d))]})]})]}),A.jsx(P9,{events:h})]})}function L9(){const[t]=d1(),e=t.get("q")||"",n=t.get("category")||"",[r,s]=D.useState([]),[i,o]=D.useState(!0),[a,l]=D.useState([]);return D.useEffect(()=>{async function c(){o(!0);const h=await fy();l(h);let f=h;if(e){const d=e.toLowerCase();f=f.filter(m=>m.title.toLowerCase().includes(d)||m.content&&m.content.toLowerCase().includes(d))}if(n){const d=new RegExp(`^${n}($|-)`,"i");f=f.filter(m=>m.categories&&m.categories.some(y=>d.test(y)))}s(f),o(!1)}c()},[e,n]),i?A.jsx("div",{className:"flex h-[50vh] items-center justify-center",children:A.jsx(To,{className:"animate-spin text-primary",size:48})}):A.jsxs("div",{className:"container mx-auto max-w-6xl",children:[A.jsxs("div",{className:"mb-8 border-b border-white/10 pb-6",children:[A.jsxs("h1",{className:"flex items-center gap-3 text-3xl font-bold text-white",children:[A.jsx(m1,{className:"text-primary"}),"Search Results"]}),A.jsxs("p",{className:"mt-2 text-slate-400",children:[e&&A.jsxs("span",{children:["For query: ",A.jsxs("strong",{className:"text-white",children:['"',e,'"']})]}),e&&n&&A.jsx("span",{children:"  "}),n&&A.jsxs("span",{children:["In category: ",A.jsx("strong",{className:"text-primary",children:n})]})]})]}),r.length===0?A.jsx("div",{className:"rounded-xl border border-white/5 bg-bg-card p-12 text-center",children:A.jsx("p",{className:"text-xl text-slate-500",children:"No transmissions found matching your criteria."})}):A.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(c=>A.jsx(vk,{page:c},c.id))})]})}function O9(){return A.jsx(kP,{children:A.jsxs("div",{className:"min-h-screen bg-bg-dark text-text-primary selection:bg-primary/30 selection:text-white",children:[A.jsx(L2,{}),A.jsx("main",{className:"mx-auto max-w-7xl px-4 py-8",children:A.jsxs(eP,{children:[A.jsx(ri,{path:"/",element:A.jsx($4,{})}),A.jsx(ri,{path:"/page/:slug",element:A.jsx(qO,{})}),A.jsx(ri,{path:"/create",element:A.jsx(E_,{})}),A.jsx(ri,{path:"/edit/:pageId",element:A.jsx(E_,{})}),A.jsx(ri,{path:"/timeline",element:A.jsx(M9,{})}),A.jsx(ri,{path:"/search",element:A.jsx(L9,{})})]})})]})})}Pd.createRoot(document.getElementById("root")).render(A.jsx(oi.StrictMode,{children:A.jsx(O9,{})}));
